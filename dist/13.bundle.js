(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{73:function(t,i,s){"use strict";s.d(i,"a",(function(){return e}));class e{constructor(t,i){this.x=t,this.y=i}static zero(){return new e(0,0)}static fromAngle(t,i){return new e(Math.cos(t)*(null!=i?i:1),Math.sin(t)*(null!=i?i:1))}LengthSq(){return e.Dot(this,this)}Length(){return Math.sqrt(this.LengthSq())}Clone(){return new e(this.x,this.y)}Negate(){return new e(-this.x,-this.y)}NegateInPlace(){return this.x=-this.x,this.y=-this.y,this}static Dot(t,i){return t.x*i.x+t.y*i.y}DotWith(t){return e.Dot(this,t)}normalize(){let t=this.Length();return e.Multiply(this,1/t)}Direction(){return Math.atan2(this.y,this.x)}AddWith(t,i){const{x:s,y:e}=r(t,i);return this.x+=s,this.y+=e,this}MultWith(t,i){const{x:s,y:e}=r(t,i);return this.x*=s,this.y*=e,this}SubtractWith(t,i){const{x:s,y:e}=r(t,i);return this.x-=s,this.y-=e,this}DivideWith(t,i){const{x:s,y:e}=r(t,i);return this.x/=s,this.y/=e,this}Equals(t){return this.x===t.x&&this.y===t.y}static add(t,i,s){const{x:n,y:a}=r(i,s);return new e(t.x+n,t.y+a)}static subtract(t,i,s){const{x:n,y:a}=r(i,s);return new e(t.x-n,t.y-a)}static Multiply(t,i,s){return void 0!==s?new e(t.x*i,t.y*s):void 0!==i.x?new e(t.x*i.x,t.y*i.y):new e(t.x*i,t.y*i)}static interpolate(t,i,s){return new e(t.x+(i.x-t.x)*s,t.y+(i.y-t.y)*s)}static componentMin(t,i){return t.x<=i.x&&t.y<=i.y?t:i.x<=t.x&&i.y<=t.y?i:new e(Math.min(t.x,i.x),Math.min(t.y,i.y))}static componentMax(t,i){return t.x>=i.x&&t.y>=i.y?t:i.x>=t.x&&i.y>=t.y?i:new e(Math.max(t.x,i.x),Math.max(t.y,i.y))}rotate(t){const i=Math.atan2(this.y,this.x),s=this.Length();return e.fromAngle(i+t,s)}}function r(t,i){return void 0===i?{x:t.x,y:t.y}:{x:t,y:i}}},81:function(t,i,s){"use strict";s.d(i,"b",(function(){return a})),s.d(i,"a",(function(){return h}));var e=s(73);class r{constructor(t,i,s,r,n){this.atlas=t,this.sourceOffset=i,this.sourceSize=s,this.numFrames=r,this.origin=null!=n?n:new e.a(0,0)}draw(t,i,s,e,r){t.save(),t.translate(i.x,i.y),void 0!==r&&t.rotate(r),t.scale(s.x,s.y),t.translate(-this.origin.x,-this.origin.y),t.drawImage(this.atlas.image,this.sourceOffset.x+e*this.sourceSize.x,this.sourceOffset.y,this.sourceSize.x,this.sourceSize.y,0,0,1,1),t.restore()}play(t,i){var s;return void 0!==t.animation?new n(this,t.maxTime,null!==(s=t.loop)&&void 0!==s&&s):new n(this,t,null!=i&&i)}}class n{constructor(t,i,s){this.source=t,this.maxTime=i,this.loop=s,this.currentTime=0}tick(){return this.currentTime++,!(this.currentTime<this.maxTime)&&(this.loop&&(this.currentTime=0),!0)}draw(t,i,s,e){const r=Math.floor(this.currentTime*this.source.numFrames/this.maxTime);this.source.draw(t,i,s,r,e)}}class a{constructor(t,i){this.onload=i,this.image=document.createElement("img"),this.image.src=t,this.image.addEventListener("load",()=>this.loadFinished())}loadFinished(){this.onload()}getSprite(t,i,s,e){return new h(this,t,i,s,e)}getAnimation(t,i,s,e){return new r(this,t,i,e,s)}}class h{constructor(t,i,s,r,n){this.atlas=t,this.sourceOffset=i,this.sourceSize=s,this.origin=null!=r?r:new e.a(0,0),this.sourceRotation=null!=n?n:0}draw(t,i,s,e){t.save(),t.translate(i.x,i.y),t.rotate((null!=e?e:0)+this.sourceRotation),t.scale(s.x,s.y),t.translate(-this.origin.x,-this.origin.y),t.drawImage(this.atlas.image,this.sourceOffset.x,this.sourceOffset.y,this.sourceSize.x,this.sourceSize.y,0,0,1,1),t.restore()}}},99:function(t,i,s){"use strict";s.r(i),s.d(i,"default",(function(){return u}));var e=s(0),r=s(24),n=s(81),a=s(13),h=s.p+"f886a0e18541ccfc865ada90e3e6b20c.png",o=s.p+"fa1c16aa643eefa6e885676d2ab141fa.png";class c{constructor(t){this.canvas=t,Object(a.b)(t,800,600),this.ctx=t.getContext("2d"),this.repaintTimer=-1}start(){const t=new r.a;this.trackImageAtlas=new n.b(h,t.registerAssetLoadCallback()),this.carImageAtlas=new n.b(o,t.registerAssetLoadCallback()),t.onAllFinished(this.loadComplete.bind(this))}loadComplete(){this.runTick()}runTick(){this.tick(),this.repaintTimer=requestAnimationFrame(this.runTick.bind(this))}tick(){}stop(){-1!==this.repaintTimer&&cancelAnimationFrame(this.repaintTimer)}}function u(){const t=e.useRef();return e.useEffect(()=>{const i=new c(t.current);return i.start(),()=>i.stop()},[t.current]),e.createElement("canvas",{ref:t})}}}]);
//# sourceMappingURL=13.bundle.js.map