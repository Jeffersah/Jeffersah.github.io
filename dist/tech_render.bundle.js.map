{"version":3,"file":"tech_render.bundle.js","mappings":"uJAEA,IAAIA,EACAC,EACW,SAASC,IACpBD,EAASE,SAASC,eAAe,WACjC,QAAaH,EAAQ,IAAK,KAE1BD,EAAMC,EAAOI,WAAW,MACxBC,IAGJ,SAASA,KAMT,WACI,MAAMC,EAAYP,EAAIQ,qBAAqB,EAAG,EAAG,EAAG,KAG9CC,GAFYT,EAAIQ,qBAAqB,EAAG,EAAG,IAAK,GAExB,IAARE,EAAe,IAAO,KAC5CH,EAAUI,aAAa,EAAGC,EAAe,KACzCL,EAAUI,aAAaE,KAAKC,IAAI,EAAGL,EAAc,KAAMG,EAAe,KACtEL,EAAUI,aAAaF,EAAaG,EAAe,IACnDL,EAAUI,aAAaE,KAAKE,IAAIN,EAAc,IAAK,GAAIG,EAAe,KACtEL,EAAUI,aAAa,EAAGC,EAAe,KAEzCZ,EAAIgB,UAAY,QAChBhB,EAAIiB,YAAc,EAClBjB,EAAIkB,SAAS,EAAG,EAAG,IAAK,KACxBlB,EAAIiB,YAAc,EAClBjB,EAAImB,YAAcZ,EAClBP,EAAIoB,UAAY,EAChBpB,EAAIqB,YACJrB,EAAIsB,OAAO,IAAK,GAChBtB,EAAIuB,OAAO,IAAK,KAChBvB,EAAIuB,OAAO,IAAK,KAChBvB,EAAIuB,OAAO,IAAK,GAChBvB,EAAIwB,SAGJxB,EAAIyB,yBAA2B,UAC/B,MAAMC,EAAO,IACPC,EAAM1B,EAAO2B,OAASF,EAC5B,IAAK,IAAIG,EAAI,EAAGA,EAAIH,EAAMG,IAAK,CAC3B,MAAMC,EAAKH,EAAKE,EAGVE,EAAKlB,KAAKmB,MAA8B,GAAvBnB,KAAKoB,SAAW,KAEvCjC,EAAIkC,UAAUjC,EAAQ,EAAG6B,EAAI7B,EAAOkC,MAAOR,EAAII,EAAID,EAAI7B,EAAOkC,MAAOR,GAIzE,MAAMS,EAAMnC,EAAO2B,OAASF,EAC5B,IAAK,IAAIG,EAAI,EAAGA,EAAIH,EAAMG,IAAK,CAC3B,MAAMQ,EAAKV,EAAKE,EAGVS,EAAKzB,KAAKmB,MAA8B,GAAvBnB,KAAKoB,SAAW,KAEvCjC,EAAIkC,UAAUjC,EAAQoC,EAAI,EAAGD,EAAInC,EAAO2B,OAAQS,EAAIC,EAAIF,EAAInC,EAAO2B,QAEvE5B,EAAIyB,yBAA2B,cAE/Bf,IAtDA6B,GACAC,uBAAsB,IAAMlC,MAGhC,IAAII,EAAQ,EAqDZ,SAASE,EAAe6B,GACpB,GAAIA,GAAO,GAEP,MAAO,UADM5B,KAAKmB,MAAY,EAANS,EAAU,KACR,OAExB,CACF,MAAMC,EAAW7B,KAAKmB,MAAoB,GAAbS,EAAM,IAAW,KAC9C,MAAO,OAASC,EAAW,UAAYA,EAAW","sources":["webpack://trading-game/./src/projects/tech-render/index.ts"],"sourcesContent":["import { ResizeCanvas } from '../common/CanvasHelpers';\r\n\r\nlet ctx: CanvasRenderingContext2D;\r\nlet canvas: HTMLCanvasElement;\r\nexport default function Run() {\r\n    canvas = document.getElementById('canvas') as HTMLCanvasElement;\r\n    ResizeCanvas(canvas, 500, 500);\r\n\r\n    ctx = canvas.getContext('2d');\r\n    paintLoop();\r\n}\r\n\r\nfunction paintLoop() {\r\n    repaint();\r\n    requestAnimationFrame(() => paintLoop());\r\n}\r\n\r\nlet frame = 0;\r\nfunction repaint() {\r\n    const vGradient = ctx.createLinearGradient(0, 0, 0, 500);\r\n    const hGradient = ctx.createLinearGradient(0, 0, 500, 0);\r\n\r\n    const highPercent = ((frame * 193) % 500) / 500;\r\n    vGradient.addColorStop(0, greenIntensity(0.3));\r\n    vGradient.addColorStop(Math.max(0, highPercent - .03), greenIntensity(0.3));\r\n    vGradient.addColorStop(highPercent, greenIntensity(1));\r\n    vGradient.addColorStop(Math.min(highPercent + .03, 1), greenIntensity(0.3));\r\n    vGradient.addColorStop(1, greenIntensity(0.3));\r\n\r\n    ctx.fillStyle = 'black';\r\n    ctx.globalAlpha = 1;\r\n    ctx.fillRect(0, 0, 500, 500);\r\n    ctx.globalAlpha = 1;\r\n    ctx.strokeStyle = vGradient;\r\n    ctx.lineWidth = 1;\r\n    ctx.beginPath();\r\n    ctx.moveTo(250, 0);\r\n    ctx.lineTo(400, 400);\r\n    ctx.lineTo(100, 400);\r\n    ctx.lineTo(250, 0);\r\n    ctx.stroke();\r\n\r\n    // Apply vergence H\r\n    ctx.globalCompositeOperation = 'lighter';\r\n    const segs = 100;\r\n    const sh = (canvas.height / segs);\r\n    for (let i = 0; i < segs; i++) {\r\n        const ys = sh * i;\r\n        const ye = sh * (i + 1);\r\n\r\n        const dx = Math.floor((Math.random() - 0.5) * 5);\r\n\r\n        ctx.drawImage(canvas, 0, ys, canvas.width, sh, dx, ys, canvas.width, sh);\r\n    }\r\n\r\n    // Apply vergence V\r\n    const sw = (canvas.height / segs);\r\n    for (let i = 0; i < segs; i++) {\r\n        const xs = sh * i;\r\n        const xe = sh * (i + 1);\r\n\r\n        const dy = Math.floor((Math.random() - 0.5) * 5);\r\n\r\n        ctx.drawImage(canvas, xs, 0, sw, canvas.height, xs, dy, sw, canvas.height);\r\n    }\r\n    ctx.globalCompositeOperation = 'source-over';\r\n\r\n    frame++;\r\n}\r\n\r\nfunction greenIntensity(amt: number) {\r\n    if (amt <= 0.5) {\r\n        const gAmt = Math.floor(amt * 2 * 255);\r\n        return 'rgb(0, ' + gAmt + ', 0)';\r\n    }\r\n    else  {\r\n        const otherAmt = Math.floor((amt - 0.5) * 2 * 255);\r\n        return 'rgb(' + otherAmt + ', 255, ' + otherAmt + ')';\r\n    }\r\n}"],"names":["ctx","canvas","Run","document","getElementById","getContext","paintLoop","vGradient","createLinearGradient","highPercent","frame","addColorStop","greenIntensity","Math","max","min","fillStyle","globalAlpha","fillRect","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","globalCompositeOperation","segs","sh","height","i","ys","dx","floor","random","drawImage","width","sw","xs","dy","repaint","requestAnimationFrame","amt","otherAmt"],"sourceRoot":""}