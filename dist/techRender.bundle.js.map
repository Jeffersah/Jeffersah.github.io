{"version":3,"sources":["webpack:///./src/projects/tech-render/index.ts"],"names":["ctx","canvas","Run","document","getElementById","getContext","paintLoop","vGradient","createLinearGradient","highPercent","frame","addColorStop","greenIntensity","Math","max","min","fillStyle","globalAlpha","fillRect","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","globalCompositeOperation","sh","height","i","ys","dx","floor","random","drawImage","width","sw","xs","dy","repaint","requestAnimationFrame","amt","otherAmt"],"mappings":"0FAAA,2DAEA,IAAIA,EACAC,EACW,SAASC,IACpBD,EAASE,SAASC,eAAe,UACjC,YAAaH,EAAQ,IAAK,KAE1BD,EAAMC,EAAOI,WAAW,MAI5B,SAASC,KAMT,WACI,MAAMC,EAAYP,EAAIQ,qBAAqB,EAAG,EAAG,EAAG,KAG9CC,GAFYT,EAAIQ,qBAAqB,EAAG,EAAG,IAAK,GAExB,IAARE,EAAe,IAAO,KAC5CH,EAAUI,aAAa,EAAGC,EAAe,KACzCL,EAAUI,aAAaE,KAAKC,IAAI,EAAGL,EAAc,KAAMG,EAAe,KACtEL,EAAUI,aAAaF,EAAaG,EAAe,IACnDL,EAAUI,aAAaE,KAAKE,IAAIN,EAAc,IAAK,GAAIG,EAAe,KACtEL,EAAUI,aAAa,EAAGC,EAAe,KAEzCZ,EAAIgB,UAAY,QAChBhB,EAAIiB,YAAc,EAClBjB,EAAIkB,SAAS,EAAG,EAAG,IAAK,KACxBlB,EAAIiB,YAAc,EAClBjB,EAAImB,YAAcZ,EAClBP,EAAIoB,UAAY,EAChBpB,EAAIqB,YACJrB,EAAIsB,OAAO,IAAK,GAChBtB,EAAIuB,OAAO,IAAK,KAChBvB,EAAIuB,OAAO,IAAK,KAChBvB,EAAIuB,OAAO,IAAK,GAChBvB,EAAIwB,SAGJxB,EAAIyB,yBAA2B,UAC/B,MACMC,EAAMzB,EAAO0B,OADN,IAEb,IAAK,IAAIC,EAAI,EAAGA,EAFH,IAEaA,IAAK,CAC3B,MAAMC,EAAKH,EAAKE,EAGVE,EAAKjB,KAAKkB,MAA8B,GAAvBlB,KAAKmB,SAAW,KAEvChC,EAAIiC,UAAUhC,EAAQ,EAAG4B,EAAI5B,EAAOiC,MAAOR,EAAII,EAAID,EAAI5B,EAAOiC,MAAOR,GAIzE,MAAMS,EAAMlC,EAAO0B,OAZN,IAab,IAAK,IAAIC,EAAI,EAAGA,EAbH,IAaaA,IAAK,CAC3B,MAAMQ,EAAKV,EAAKE,EAGVS,EAAKxB,KAAKkB,MAA8B,GAAvBlB,KAAKmB,SAAW,KAEvChC,EAAIiC,UAAUhC,EAAQmC,EAAI,EAAGD,EAAIlC,EAAO0B,OAAQS,EAAIC,EAAIF,EAAIlC,EAAO0B,QAEvE3B,EAAIyB,yBAA2B,cAE/Bf,KAtDA4B,GACAC,sBAAsB,IAAMjC,KAL5BA,GAQJ,IAAII,EAAQ,EAqDZ,SAASE,EAAe4B,GACpB,GAAIA,GAAO,GAAK,CAEZ,MAAO,UADM3B,KAAKkB,MAAY,EAANS,EAAU,KACR,OAExB,CACF,MAAMC,EAAW5B,KAAKkB,MAAoB,GAAbS,EAAM,IAAW,KAC9C,MAAO,OAASC,EAAW,UAAYA,EAAW","file":"techRender.bundle.js","sourcesContent":["import { ResizeCanvas } from '../common/CanvasHelpers';\r\n\r\nlet ctx: CanvasRenderingContext2D;\r\nlet canvas: HTMLCanvasElement;\r\nexport default function Run() {\r\n    canvas = document.getElementById('canvas') as HTMLCanvasElement;\r\n    ResizeCanvas(canvas, 500, 500);\r\n\r\n    ctx = canvas.getContext('2d');\r\n    paintLoop();\r\n}\r\n\r\nfunction paintLoop() {\r\n    repaint();\r\n    requestAnimationFrame(() => paintLoop());\r\n}\r\n\r\nlet frame = 0;\r\nfunction repaint() {\r\n    const vGradient = ctx.createLinearGradient(0, 0, 0, 500);\r\n    const hGradient = ctx.createLinearGradient(0, 0, 500, 0);\r\n\r\n    const highPercent = ((frame * 193) % 500) / 500;\r\n    vGradient.addColorStop(0, greenIntensity(0.3));\r\n    vGradient.addColorStop(Math.max(0, highPercent - .03), greenIntensity(0.3));\r\n    vGradient.addColorStop(highPercent, greenIntensity(1));\r\n    vGradient.addColorStop(Math.min(highPercent + .03, 1), greenIntensity(0.3));\r\n    vGradient.addColorStop(1, greenIntensity(0.3));\r\n\r\n    ctx.fillStyle = 'black';\r\n    ctx.globalAlpha = 1;\r\n    ctx.fillRect(0, 0, 500, 500);\r\n    ctx.globalAlpha = 1;\r\n    ctx.strokeStyle = vGradient;\r\n    ctx.lineWidth = 1;\r\n    ctx.beginPath();\r\n    ctx.moveTo(250, 0);\r\n    ctx.lineTo(400, 400);\r\n    ctx.lineTo(100, 400);\r\n    ctx.lineTo(250, 0);\r\n    ctx.stroke();\r\n\r\n    // Apply vergence H\r\n    ctx.globalCompositeOperation = 'lighter';\r\n    const segs = 100;\r\n    const sh = (canvas.height / segs);\r\n    for (let i = 0; i < segs; i++) {\r\n        const ys = sh * i;\r\n        const ye = sh * (i + 1);\r\n\r\n        const dx = Math.floor((Math.random() - 0.5) * 5);\r\n\r\n        ctx.drawImage(canvas, 0, ys, canvas.width, sh, dx, ys, canvas.width, sh);\r\n    }\r\n\r\n    // Apply vergence V\r\n    const sw = (canvas.height / segs);\r\n    for (let i = 0; i < segs; i++) {\r\n        const xs = sh * i;\r\n        const xe = sh * (i + 1);\r\n\r\n        const dy = Math.floor((Math.random() - 0.5) * 5);\r\n\r\n        ctx.drawImage(canvas, xs, 0, sw, canvas.height, xs, dy, sw, canvas.height);\r\n    }\r\n    ctx.globalCompositeOperation = 'source-over';\r\n\r\n    frame++;\r\n}\r\n\r\nfunction greenIntensity(amt: number) {\r\n    if (amt <= 0.5) {\r\n        const gAmt = Math.floor(amt * 2 * 255);\r\n        return 'rgb(0, ' + gAmt + ', 0)';\r\n    }\r\n    else  {\r\n        const otherAmt = Math.floor((amt - 0.5) * 2 * 255);\r\n        return 'rgb(' + otherAmt + ', 255, ' + otherAmt + ')';\r\n    }\r\n}"],"sourceRoot":""}