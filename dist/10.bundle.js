(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{119:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return d}));var r=n(0),i=n(94),s=n(89),o=n(82),a=n(88);class h{constructor(t,e){this.position=null!=t?t:o.a.zero(),this.facing=null!=e?e:new a.a(1,0,0,0)}getViewMatrix(){let t=s.a.translate(this.position.mult(-1));return this.facing.toMatrix().mult(t)}}var c=n(80),u=n(78),l=n(13);window.Q=a.a;const f=[-1,1,1,1,1,1,-1,-1,1,1,-1,1,1,-1,-1,1,1,1,1,1,-1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1];class m{constructor(t){this.canvas=t,Object(l.b)(t,1024,800),this.ctx=t.getContext("webgl"),this.program=c.e(this.ctx,"\nattribute vec4 aVertexPosition;\nuniform mat4 project;\nuniform mat4 move;\nvarying vec3 vPos;\nvarying vec3 ptPos;\n\nvoid main() {\n  vPos = aVertexPosition.xyz;\n  vec4 transformed = project * move * aVertexPosition;\n  ptPos = transformed.xyz;\n  gl_Position = vec4(transformed.xyz, transformed.z + 1.0);\n}","\nprecision mediump float;\nvarying vec3 vPos;\nvarying vec3 ptPos;\nvoid main() {\n    vec3 adjpos = (vPos.xyz + 1.0) / 2.0;\n\n    vec3 adjPt = (ptPos + 1.0)/2.0;\n\n    float mxX = max(adjPt.x, 1.0-adjPt.x);\n\n    float distAdj = 1.0 - (ptPos.z / 6.0);\n\n    gl_FragColor = vec4(adjPt.xy * distAdj, distAdj, 1.0);\n}\n"),this.ctx.enable(this.ctx.CULL_FACE);const e=f;this.posBuffer=c.d(this.ctx,e),this.bufferCount=e.length,this.camera=new h(new o.a(0,0,-3)),this.renderPoints=[];for(let t=0;t<1e3;t++)this.renderPoints.push({pt:new o.a(i.a.Float(-2,2),i.a.Float(-2,2),i.a.Float(-4,4)),sc:i.a.Float(.01,.3)});this.tickloop(0)}tickloop(t){this.tick(t);const e=t/900%1;this.camera.position.x=2*Math.sin(e*Math.PI*2),this.camera.position.z=-2*Math.cos(e*Math.PI*2),this.camera.facing=a.a.axisRotation(new u.a(0,1,0),e*Math.PI*2),requestAnimationFrame(()=>this.tickloop(t+1))}tick(t){let e=this.camera.getViewMatrix().rowMajor();c.f(this.ctx,this.program,this.posBuffer,3,"tristrip",this.renderPoints.length,t=>({bufferOffset:0,bufferCount:this.bufferCount/3}),(n,r)=>{let i=this.renderPoints[r];const s=Math.pow(Math.abs(Math.sin(2*Math.PI*((t+r)/300%1))),3);n.uniformMatrix4fv(n.getUniformLocation(this.program,"move"),!1,[i.sc*s,0,0,0,0,i.sc*s,0,0,0,0,i.sc*s,0,-i.pt.x,-i.pt.y,-i.pt.z,1]),n.uniformMatrix4fv(n.getUniformLocation(this.program,"project"),!1,e)})}cleanup(){}}function d(){const t=r.useRef();return r.useEffect(()=>{const e=new m(t.current);return()=>e.cleanup()},[t]),r.createElement("div",{className:"conway conway_body full_body"},r.createElement("canvas",{id:"canvas",ref:t}))}},78:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(t,e,n){this.x=t,this.y=e,this.z=n}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}length(){return Math.sqrt(this.lengthSq())}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.multiply(1/this.lengthSq())}negate(){return new r(-this.x,-this.y,-this.z)}multiply(t,e,n){i(t)||(e=null!=e?e:t,n=null!=n?n:t);var[s,o,a]=r.getxyz(t,e,n);return new r(this.x*s,this.y*o,this.z*a)}add(t,e,n){var[i,s,o]=r.getxyz(t,e,n);return new r(this.x+i,this.y+s,this.z+o)}subtract(t,e,n){var[i,s,o]=r.getxyz(t,e,n);return new r(this.x-i,this.y-s,this.z-o)}static getxyz(t,e,n){return i(t)?[t.x,t.y,t.z]:[t,e,n]}}function i(t){return void 0!==t.x}},80:function(t,e,n){"use strict";function r(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.error(n),alert(`An error occurred compiling the ${e===t.VERTEX_SHADER?"vertex":e===t.FRAGMENT_SHADER?"fragment":""} shaders: `+t.getShaderInfoLog(r)),void t.deleteShader(r))}function i(t,e,n){const i=r(t,t.VERTEX_SHADER,e),s=r(t,t.FRAGMENT_SHADER,n),o=t.createProgram();if(t.attachShader(o,i),t.attachShader(o,s),t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS))return o;alert("Unable to initialize the shader program: "+t.getProgramInfoLog(o))}function s(t,e,n,r,i,s,o,a){t.clearColor(0,0,0,1),t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);{const i=t.FLOAT,s=!1,o=0,a=0;t.bindBuffer(t.ARRAY_BUFFER,n),t.vertexAttribPointer(t.getAttribLocation(e,"aVertexPosition"),r,i,s,o,a),t.enableVertexAttribArray(t.getAttribLocation(e,"aVertexPosition"))}t.useProgram(e);for(let e=0;e<s;e++){a(t,e);let{bufferOffset:n,bufferCount:r}=o(e);t.drawArrays("triangle"===i?t.TRIANGLES:"tristrip"===i?t.TRIANGLE_STRIP:t.TRIANGLE_FAN,n,r)}}function o(t,e,n,r){t.clearColor(0,0,0,1),t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);{const r=2,i=t.FLOAT,s=!1,o=0,a=0;t.bindBuffer(t.ARRAY_BUFFER,n),t.vertexAttribPointer(t.getAttribLocation(e,"aVertexPosition"),r,i,s,o,a),t.enableVertexAttribArray(t.getAttribLocation(e,"aVertexPosition"))}t.useProgram(e),r(t),t.drawArrays(t.TRIANGLE_STRIP,0,4)}function a(t,e,n,r,i){const s=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,s);const o=null!=e?e:-1,a=null!=r?r:1,h=null!=n?n:-1,c=null!=i?i:1,u=[c,a,h,a,c,o,h,o];return t.bufferData(t.ARRAY_BUFFER,new Float32Array(u),t.STATIC_DRAW),s}function h(t,e){const n=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW),n}n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return h})),n.d(e,"a",(function(){return c}));const c="attribute vec4 aVertexPosition;\nvarying vec3 vPos;\nvoid main() {\n  vPos = vec3(aVertexPosition.xy, 0.0);\n  gl_Position = aVertexPosition;\n}"},82:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static zero(){return new r(0,0,0)}lengthSq(){return this.dot(this)}length(){return Math.sqrt(this.lengthSq())}clone(){return new r(this.x,this.y,this.z)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}normalize(){let t=this.length();return this.div(t)}mult(t,e,n){let{x:s,y:o,z:a}=i(t,e,n,!0);return new r(s*this.x,o*this.y,a*this.z)}div(t,e,n){let{x:s,y:o,z:a}=i(t,e,n,!0);return new r(this.x/s,this.y/o,this.z/a)}add(t,e,n){let{x:s,y:o,z:a}=i(t,e,n);return new r(this.x+s,this.y+o,this.z+a)}sub(t,e,n){let{x:s,y:o,z:a}=i(t,e,n);return new r(this.x-s,this.y-o,this.z-a)}}function i(t,e,n,r=!1){return void 0===e?r&&void 0===t.x?{x:t,y:t,z:t}:t:{x:t,y:e,z:n}}},88:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(78),i=n(89);class s{constructor(t,e,n,r){this.real=t,this.i=e,this.j=n,this.k=r}inverse(){const t=s.Dot(this,this);return new s(this.real/t,-this.i/t,-this.j/t,-this.k/t)}static Dot(t,e){return t.real*e.real+t.i*e.i+t.j*e.j+t.k*e.k}static axisRotation(t,e){const n=Math.cos(e/2),r=Math.sin(e/2),i=t.length();return new s(n,r*t.x/i,r*t.y/i,r*t.z/i)}static multiply(t,e){return new s(t.real*e.real-t.i*e.i-t.j*e.j-t.k*e.k,t.real*e.i+t.i*e.real+t.j*e.k-t.k*e.j,t.real*e.j-t.i*e.k+t.j*e.real+t.k*e.i,t.real*e.k+t.i*e.j-t.j*e.i+t.k*e.real)}applyTransform(t){if(void 0!==t.real)return s.multiply(this,s.multiply(t,this.inverse()));{const e=new s(0,t.x,t.y,t.z),n=s.multiply(this,s.multiply(e,this.inverse()));return new r.a(n.i,n.j,n.k)}}toMatrix(){const t=new i.a;return t.components[0][0]=1-2*this.j*this.j-2*this.k*this.k,t.components[0][1]=2*this.i*this.j-2*this.k*this.real,t.components[0][2]=2*this.i*this.k+2*this.j*this.real,t.components[1][0]=2*this.i*this.j+2*this.k*this.real,t.components[1][1]=1-2*this.i*this.i-2*this.k*this.k,t.components[1][2]=2*this.j*this.k-2*this.i*this.real,t.components[2][0]=2*this.i*this.k-2*this.j*this.real,t.components[2][1]=2*this.j*this.k+2*this.i*this.real,t.components[2][2]=1-2*this.i*this.i-2*this.j*this.j,t}}},89:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(82);class i{constructor(t=!0){this.components=t?[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,1]]}transform(t){let e=this.multRow(this.components[0],t),n=this.multRow(this.components[1],t),i=this.multRow(this.components[2],t),s=this.multRow(this.components[3],t);return new r.a(e/s,n/s,i/s)}mult(t){const e=new i;for(let n=0;n<4;n++)for(let r=0;r<4;r++){e.components[n][r]=0;for(let i=0;i<4;i++)e.components[n][r]+=this.components[n][i]*t.components[i][r]}return e}multRow(t,e){return t[0]*e.x+t[1]*e.y+t[2]*e.z+t[3]}colMajor(){let t=new Array(16),e=0;for(let n=0;n<4;n++)for(let r=0;r<4;r++)t[e++]=this.components[n][r];return t}rowMajor(){let t=new Array(16),e=0;for(let n=0;n<4;n++)for(let r=0;r<4;r++)t[e++]=this.components[r][n];return t}static translate(t){let e=new i;return e.components[0][3]=t.x,e.components[1][3]=t.y,e.components[2][3]=t.z,e}}},94:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{static Int(t,e){const n=Math.random();return void 0===t&&void 0===e?Math.floor(n*Number.MAX_SAFE_INTEGER):void 0===e?Math.floor(n*t):t+Math.floor(n*(e-t))}static Float(t,e){const n=Math.random();return void 0===t&&void 0===e?n:void 0===e?n*t:t+n*(e-t)}}}}]);
//# sourceMappingURL=10.bundle.js.map