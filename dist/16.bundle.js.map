{"version":3,"sources":["webpack:///./src/views/projects/fibvis/generators/index.ts","webpack:///./src/views/projects/fibvis/generators/FibonacciGenerator.ts","webpack:///./src/views/projects/fibvis/generators/FibonacciPlusOneGenerator.ts","webpack:///./src/views/projects/fibvis/generators/TriangleGenerator.ts","webpack:///./src/views/projects/fibvis/generators/SumOfThreeGenerator.ts","webpack:///./src/views/projects/fibvis/RenderStateComponent.tsx","webpack:///./src/views/projects/fibvis/visualizers/DreamcatcherVisualizer.ts","webpack:///./src/views/projects/fibvis/visualizers/RelativeWalkVisualizer.ts","webpack:///./src/views/projects/fibvis/visualizers/SquareWalkNoZeroVisualizer.ts","webpack:///./src/views/projects/fibvis/visualizers/SquareWalkVisualizer.ts","webpack:///./src/views/projects/fibvis/visualizers/VisualizerDef.ts","webpack:///./src/views/projects/fibvis/visualizers/WalkVisualizer.ts","webpack:///./src/views/projects/fibvis/visualizers/index.ts","webpack:///./src/views/projects/fibvis/FibvisComponent.tsx","webpack:///./src/projects/common/position/Point.ts","webpack:///./node_modules/react-dropdown/dist/index.js","webpack:///./node_modules/classnames/index.js","webpack:///./src/views/common/ObjDropdownComponent.tsx"],"names":["Generators","this","name","seed","mod","result","i","length","push","validateSeed","search","slice","hasLooped","splice","seq","seqStart","searchMod","props","super","canvasRef","animationTick","animationTimer","isRunningAnimation","ref","startPaint","prevProps","prevState","animate","visualizer","animationDuration","stopPreviousPaint","canvas","current","ctx","getContext","lineWidth","clearCanvas","requestAnimationFrame","paintFrame","paintTotal","fillStyle","fillRect","cancelAnimationFrame","modulo","series","anchorPoints","anglePerAnchor","Math","PI","angle","Point","fromAngle","width","height","animationProgress","actualRadius","min","indexProgress","strokeStyle","beginPath","arc","stroke","lineJoin","lineCap","coords","Clone","MultWith","AddWith","moveTo","x","y","lineTo","seriesIndex","floor","progress","startPoint","endPoint","tgtPoint","interpolate","currentPoint","pts","minExtent","maxExtent","anglePerModulo","pt","componentMin","componentMax","save","translate","scale","restore","dirs","dir","VisualizerDef","generate","Visualizers","m","s","FibvisComponent","setSeed","setModulo","setAnimate","RenderState","setRenderState","setVisualizer","generator","setGenerator","animationTime","setAnimationTime","parseResult","digits","split","map","v","trim","filter","seedOut","parseInt","isNaN","seedError","modParse","moduloError","tryParse","parseSucceed","undefined","generateSeries","JSON","stringify","className","style","maxWidth","type","value","onChange","target","marginLeft","valueAsNumber","checked","ObjDropdownComponent","options","getName","g","c","distance","cos","sin","Dot","sqrt","LengthSq","p1","p2","other","len","Length","Multiply","atan2","nx","ny","splitArgs","splitArgsOrSingle","src","a","b","sy","p","max","t","add","Bezier","theta","Object","defineProperty","exports","_react","obj","__esModule","_typeof","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_interopRequireWildcard","_reactDom","_interopRequireDefault","_classnames","WeakMap","Symbol","iterator","constructor","_defineProperty","enumerable","configurable","writable","_defineProperties","descriptor","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","Dropdown","_Component","_this","instance","Constructor","TypeError","_classCallCheck","state","selected","parseValue","label","placeholder","isOpen","mounted","handleDocumentClick","bind","fireChangeEvent","protoProps","staticProps","subClass","superClass","create","_inherits","newProps","setState","document","addEventListener","removeEventListener","event","onFocus","button","stopPropagation","preventDefault","disabled","option","num","match","items","item","newState","_classes","isSelected","classes","concat","baseClassName","optionClass","createElement","onMouseDown","setValue","onClick","role","_this2","_this$props","ops","groupTitle","_options","renderOption","tabIndex","findDOMNode","contains","_classNames","_classNames2","_classNames3","_classNames4","_classNames5","_this$props2","controlClassName","placeholderClassName","menuClassName","arrowClassName","arrowClosed","arrowOpen","disabledClass","placeHolderValue","dropdownClass","controlClass","placeholderClass","isValueSelected","menuClass","arrowClass","menu","buildMenu","handleMouseDown","onTouchEnd","Component","defaultProps","_default","hasOwn","classNames","arguments","arg","argType","Array","isArray","inner","apply","join","module","default","names","chng","find"],"mappings":"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","file":"16.bundle.js","sourcesContent":["import FibonacciGenerator from \"./FibonacciGenerator\";\r\nimport FibonacciPlusOneGenerator from \"./FibonacciPlusOneGenerator\";\r\nimport IGenerator from \"./IGenerator\";\r\nimport SumOfThreeGenerator from \"./SumOfThreeGenerator\";\r\nimport TriangleGenerator from \"./TriangleGenerator\";\r\n\r\nexport const Generators: IGenerator[] = [\r\n    new FibonacciGenerator(),\r\n    new FibonacciPlusOneGenerator(),\r\n    new TriangleGenerator(),\r\n    new SumOfThreeGenerator(),\r\n]","import IGenerator from \"./IGenerator\";\r\n\r\nexport default class FibonacciGenerator implements IGenerator {\r\n    public name:string;\r\n    constructor() {\r\n        this.name = \"Fibonacci\";\r\n    }\r\n\r\n    generateSeries(seed: number[], mod: number): number[] {\r\n        let result = [];\r\n        for(let i = 0; i < seed.length; i++)\r\n        {\r\n            result.push(seed[i] % mod);\r\n            seed[i] %= mod;\r\n        }\r\n\r\n        let validateSeed = true;\r\n        for(let i = 0; i < result.length - 2; i++)\r\n        {\r\n            if((seed[i] + seed[i+1]) % mod !== seed[i+2]) {\r\n                validateSeed = false;\r\n            }\r\n        }\r\n\r\n        // If the provided seed isn't valid following fibonacci rules, it'll never ENTIRELY loop, so we just look for when we get caught in ANY loop.\r\n        const search = validateSeed ? seed : seed.slice(seed.length - 2, seed.length);\r\n\r\n        do {\r\n            result.push((result[result.length - 1] + result[result.length - 2]) % mod);\r\n        } while(!this.hasLooped(result, search));\r\n\r\n        result.splice(result.length - search.length + 1, search.length - 1);\r\n        return result;\r\n    }\r\n    \r\n    hasLooped(seq: number[], search: number[]): boolean\r\n    {\r\n        var seqStart = seq.length - search.length;\r\n        for(let i = 0; i < search.length; i++) {\r\n            if(seq[i + seqStart] !== search[i]) return false;\r\n        }\r\n        return true;\r\n    }\r\n}","import IGenerator from \"./IGenerator\";\r\n\r\nexport default class FibonacciPlusOneGenerator implements IGenerator {\r\n    public name:string;\r\n    constructor() {\r\n        this.name = \"Fibonacci +1\";\r\n    }\r\n\r\n    generateSeries(seed: number[], mod: number): number[] {\r\n        let result = [];\r\n        for(let i = 0; i < seed.length; i++)\r\n        {\r\n            result.push(seed[i] % mod);\r\n            seed[i] %= mod;\r\n        }\r\n\r\n        let validateSeed = true;\r\n        for(let i = 0; i < result.length - 2; i++)\r\n        {\r\n            if((seed[i] + seed[i+1] + 1) % mod !== seed[i+2]) {\r\n                validateSeed = false;\r\n            }\r\n        }\r\n\r\n        // If the provided seed isn't valid following fibonacci rules, it'll never ENTIRELY loop, so we just look for when we get caught in ANY loop.\r\n        const search = validateSeed ? seed : seed.slice(seed.length - 2, seed.length);\r\n\r\n        do {\r\n            result.push((result[result.length - 1] + result[result.length - 2] + 1) % mod);\r\n        } while(!this.hasLooped(result, search));\r\n\r\n        result.splice(result.length - search.length + 1, search.length - 1);\r\n        return result;\r\n    }\r\n    \r\n    hasLooped(seq: number[], search: number[]): boolean\r\n    {\r\n        var seqStart = seq.length - search.length;\r\n        for(let i = 0; i < search.length; i++) {\r\n            if(seq[i + seqStart] !== search[i]) return false;\r\n        }\r\n        return true;\r\n    }\r\n}","import IGenerator from \"./IGenerator\";\r\n\r\nexport default class TriangleGenerator implements IGenerator {\r\n    public name:string;\r\n    constructor() {\r\n        this.name = \"Triangle\";\r\n    }\r\n\r\n    generateSeries(seed: number[], mod: number): number[] {\r\n        let result = [];\r\n        for(let i = 0; i < seed.length; i++)\r\n        {\r\n            result.push(seed[i] % mod);\r\n            seed[i] %= mod;\r\n        }\r\n\r\n        let validateSeed = true;\r\n        for(let i = 0; i < result.length - 1; i++)\r\n        {\r\n            if((seed[i] + i + 1) % mod !== seed[i+1]) {\r\n                validateSeed = false;\r\n            }\r\n        }\r\n\r\n        // If the provided seed isn't valid following triangle rules, it'll (probably?) never ENTIRELY loop, so we just look for when we get caught in ANY loop.\r\n        const search = validateSeed ? seed[0] : seed[seed.length - 1];\r\n        const searchMod = validateSeed ? 0 : (seed.length - 1) % mod;\r\n        // We've looped once we hit the search digit, and the search mod the index mod\r\n\r\n        do {\r\n            result.push((result[result.length - 1] + result.length) % mod);\r\n        } while(!this.hasLooped(result, mod, search, searchMod));\r\n\r\n        if(validateSeed) {\r\n            result.splice(result.length - seed.length + 1, seed.length - 1);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    hasLooped(seq: number[], mod: number, search: number, searchMod: number): boolean\r\n    {\r\n        return seq[seq.length - 1] === search && (seq.length - 1)%mod === searchMod;\r\n    }\r\n}","import IGenerator from \"./IGenerator\";\r\n\r\nexport default class SumOfThreeGenerator implements IGenerator {\r\n    public name:string;\r\n    constructor() {\r\n        this.name = \"Sum Of Three\";\r\n    }\r\n\r\n    generateSeries(seed: number[], mod: number): number[] {\r\n        let result = [];\r\n\r\n        while(seed.length < 3) seed.splice(0,0,0);\r\n\r\n        for(let i = 0; i < seed.length; i++)\r\n        {\r\n            result.push(seed[i] % mod);\r\n            seed[i] %= mod;\r\n        }\r\n\r\n        let validateSeed = true;\r\n        for(let i = 0; i < result.length - 3; i++)\r\n        {\r\n            if((seed[i] + seed[i+1] + seed[i+2]) % mod !== seed[i+3]) {\r\n                validateSeed = false;\r\n            }\r\n        }\r\n\r\n        // If the provided seed isn't valid following fibonacci rules, it'll never ENTIRELY loop, so we just look for when we get caught in ANY loop.\r\n        const search = validateSeed ? seed : seed.slice(seed.length - 3, seed.length);\r\n\r\n        do {\r\n            result.push((result[result.length - 1] + result[result.length - 2] + result[result.length - 3]) % mod);\r\n        } while(!this.hasLooped(result, search));\r\n\r\n        result.splice(result.length - search.length + 1, search.length - 1);\r\n        return result;\r\n    }\r\n    \r\n    hasLooped(seq: number[], search: number[]): boolean\r\n    {\r\n        var seqStart = seq.length - search.length;\r\n        for(let i = 0; i < search.length; i++) {\r\n            if(seq[i + seqStart] !== search[i]) return false;\r\n        }\r\n        return true;\r\n    }\r\n}","import * as React from 'react';\r\nimport { ResizeCanvas } from '../../../projects/common/CanvasHelpers';\r\nimport IVisualizer from './visualizers/IVisualizer';\r\nimport VisualizerDef from './visualizers/VisualizerDef';\r\n\r\nexport type RenderStateComponentProps = {animate: boolean, animationDuration: number, visualizer: IVisualizer };\r\nexport type RenderStateComponentState = {};\r\nconst CVS_SIZE = 500;\r\nconst LINE_SIZE = 3;\r\n\r\nexport default class RenderStateComponent extends React.Component<RenderStateComponentProps, RenderStateComponentState>\r\n{\r\n    canvasRef: React.RefObject<HTMLCanvasElement>;\r\n    animationTick: number;\r\n    animationTimer: number;\r\n    isRunningAnimation: boolean;\r\n\r\n    constructor(props : RenderStateComponentProps) {\r\n        super(props);\r\n        this.canvasRef = React.createRef();\r\n        this.animationTick = 0;\r\n        this.animationTimer = 0;\r\n        this.isRunningAnimation = false;\r\n    }\r\n\r\n    render() {\r\n        return <canvas ref={this.canvasRef}>\r\n\r\n        </canvas>\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.startPaint();\r\n    }\r\n    componentDidUpdate(prevProps: RenderStateComponentProps, prevState: RenderStateComponentState) {\r\n        if(prevProps.animate !== this.props.animate || prevProps.visualizer !== this.props.visualizer || prevProps.animationDuration !== this.props.animationDuration)\r\n        {\r\n            this.stopPreviousPaint();\r\n            this.startPaint();\r\n        }\r\n    }\r\n\r\n    startPaint() {\r\n        const canvas = this.canvasRef.current;\r\n        ResizeCanvas(canvas, CVS_SIZE, CVS_SIZE);\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.lineWidth = LINE_SIZE;\r\n        this.clearCanvas(ctx);\r\n\r\n        if(!this.props.animate)\r\n            this.props.visualizer.paintTotal(ctx, CVS_SIZE, CVS_SIZE);\r\n        else {\r\n            this.animationTick = 0;\r\n            this.isRunningAnimation = true;\r\n            this.animationTimer = requestAnimationFrame(() => this.paintFrame(ctx));\r\n        }\r\n    }\r\n\r\n    clearCanvas(ctx: CanvasRenderingContext2D) {\r\n        ctx.fillStyle = 'black';\r\n        ctx.fillRect(0, 0, CVS_SIZE, CVS_SIZE);\r\n    }\r\n\r\n    stopPreviousPaint(){\r\n        if(this.isRunningAnimation) {\r\n            cancelAnimationFrame(this.animationTimer);\r\n        }\r\n    }\r\n\r\n    paintFrame(ctx: CanvasRenderingContext2D) {\r\n        this.animationTick++;\r\n        this.clearCanvas(ctx);\r\n        if(this.animationTick >= this.props.animationDuration * 60) {\r\n            this.props.visualizer.paintTotal(ctx, CVS_SIZE, CVS_SIZE);\r\n            this.isRunningAnimation = false;\r\n            this.animationTick = this.animationTimer = 0;\r\n        } else {\r\n            this.props.visualizer.paintFrame(ctx, CVS_SIZE, CVS_SIZE, this.animationTick / (this.props.animationDuration * 60));\r\n            this.animationTimer = requestAnimationFrame(() => this.paintFrame(ctx));\r\n        }\r\n    }\r\n}","import Point from \"../../../../projects/common/position/Point\";\r\nimport IVisualizer from \"./IVisualizer\";\r\n\r\nexport default class DreamcatcherVisualizer implements IVisualizer {\r\n\r\n    anchorPoints: Point[];\r\n\r\n    constructor(public modulo: number, public series: number[]) {\r\n        this.anchorPoints = [];\r\n        const anglePerAnchor = (Math.PI * 2) / (modulo);\r\n        for(let i = 0; i < this.modulo; i++)\r\n        {\r\n            const angle = i * anglePerAnchor;\r\n            this.anchorPoints.push(Point.fromAngle(angle, 1));\r\n        }\r\n    }\r\n\r\n    paintFrame(ctx: CanvasRenderingContext2D, width: number, height: number, animationProgress: number): void {\r\n        const actualRadius = (Math.min(width, height) / 2) - ctx.lineWidth;\r\n        const indexProgress = animationProgress * (this.series.length - 1);\r\n        \r\n        ctx.strokeStyle = 'white';\r\n        ctx.beginPath();\r\n        ctx.arc(width / 2, height / 2, actualRadius, 0, Math.PI * 2, false);\r\n        ctx.stroke();\r\n        \r\n        ctx.strokeStyle = 'gray';\r\n        ctx.lineJoin = ctx.lineCap = 'round';\r\n        ctx.beginPath();\r\n        for(let i = 0; i < this.series.length && i < indexProgress; i++){\r\n            let coords = this.anchorPoints[this.series[i]].Clone();\r\n            coords.MultWith(actualRadius, actualRadius);\r\n            coords.AddWith(width / 2, height / 2);\r\n            if(i === 0) ctx.moveTo(coords.x, coords.y);\r\n            else ctx.lineTo(coords.x, coords.y);\r\n        }\r\n        const seriesIndex = Math.floor(indexProgress);\r\n        const progress = indexProgress % 1;\r\n        let startPoint = this.anchorPoints[this.series[seriesIndex]];\r\n        let endPoint = this.anchorPoints[this.series[seriesIndex + 1]];\r\n\r\n        const tgtPoint = Point.interpolate(startPoint, endPoint, progress);\r\n        tgtPoint.MultWith(actualRadius, actualRadius);\r\n        tgtPoint.AddWith(width / 2, height / 2);\r\n\r\n        ctx.lineTo(tgtPoint.x, tgtPoint.y);\r\n        ctx.stroke();\r\n\r\n        ctx.strokeStyle = 'red';\r\n        ctx.beginPath();\r\n        ctx.arc(tgtPoint.x, tgtPoint.y, ctx.lineWidth * 2, 0, Math.PI * 2, false);\r\n        ctx.stroke();\r\n    }\r\n\r\n    paintTotal(ctx: CanvasRenderingContext2D, width: number, height: number): void {\r\n        const actualRadius = (Math.min(width, height) / 2) - ctx.lineWidth;\r\n\r\n        ctx.strokeStyle = 'white';\r\n        ctx.beginPath();\r\n        ctx.arc(width / 2, height / 2, actualRadius, 0, Math.PI * 2, false);\r\n        ctx.stroke();\r\n        \r\n        ctx.strokeStyle = 'gray';\r\n        ctx.lineJoin = ctx.lineCap = 'round';\r\n        ctx.beginPath();\r\n        for(let i = 0; i < this.series.length; i++){\r\n            let coords = this.anchorPoints[this.series[i]].Clone();\r\n            coords.MultWith(actualRadius, actualRadius);\r\n            coords.AddWith(width / 2, height / 2);\r\n            if(i === 0) ctx.moveTo(coords.x, coords.y);\r\n            else ctx.lineTo(coords.x, coords.y);\r\n        }\r\n        ctx.stroke();\r\n    }\r\n}","import Point from \"../../../../projects/common/position/Point\";\r\nimport CoreState from \"../../../../projects/corewar/CoreState\";\r\nimport IVisualizer from \"./IVisualizer\";\r\n\r\nconst MARGIN = 0.1;\r\n\r\nexport default class RelativeWalkVisualizer implements IVisualizer {\r\n\r\n    pts: Point[];\r\n    minExtent: Point;\r\n    maxExtent: Point;\r\n\r\n    constructor(public modulo: number, public series: number[]) {\r\n        const currentPoint = new Point(0,0);\r\n        this.pts = [currentPoint.Clone()];\r\n        this.minExtent = currentPoint.Clone();\r\n        this.maxExtent = currentPoint.Clone();\r\n\r\n        let anglePerModulo = (Math.PI * 2) / modulo;\r\n        let angle = 0;\r\n\r\n        for(let i = 0; i < series.length; i++) {\r\n            angle += anglePerModulo * series[i];\r\n            currentPoint.AddWith(Point.fromAngle(angle));\r\n            var pt = currentPoint.Clone();\r\n            this.minExtent = Point.componentMin(this.minExtent, pt);\r\n            this.maxExtent = Point.componentMax(this.maxExtent, pt);\r\n            this.pts.push(pt);\r\n        }\r\n        // Normalize all points to [0, 1]\r\n        for(let i = 0; i < this.pts.length; i++) {\r\n            this.pts[i] = new Point(\r\n                (this.pts[i].x - this.minExtent.x) / (this.maxExtent.x - this.minExtent.x),\r\n                (this.pts[i].y - this.minExtent.y) / (this.maxExtent.y - this.minExtent.y)\r\n            );\r\n        }\r\n    }\r\n\r\n    paintFrame(ctx: CanvasRenderingContext2D, width: number, height: number, animationProgress: number): void {\r\n        ctx.save();\r\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\r\n        ctx.scale(1-MARGIN, 1-MARGIN);\r\n        ctx.strokeStyle = 'gray';\r\n        ctx.lineJoin = ctx.lineCap = 'round';\r\n\r\n        const indexProgress = animationProgress * (this.pts.length - 1);\r\n        const seriesIndex = Math.floor(indexProgress);\r\n        const progress = indexProgress % 1;\r\n\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\r\n        for(let i = 1; i < this.pts.length && i < indexProgress; i++){\r\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\r\n        }\r\n        let startPoint = this.pts[seriesIndex];\r\n        let endPoint = this.pts[seriesIndex + 1];\r\n        const tgtPoint = Point.interpolate(startPoint, endPoint, progress);\r\n        tgtPoint.MultWith(width, height);\r\n        ctx.lineTo(tgtPoint.x, tgtPoint.y)\r\n        ctx.stroke();\r\n\r\n        ctx.strokeStyle = 'red';\r\n        ctx.beginPath();\r\n        ctx.arc(tgtPoint.x, tgtPoint.y, ctx.lineWidth * 2, 0, Math.PI * 2, false);\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n\r\n    paintTotal(ctx: CanvasRenderingContext2D, width: number, height: number): void {\r\n        ctx.save();\r\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\r\n        ctx.scale(1-MARGIN, 1-MARGIN);\r\n        ctx.strokeStyle = 'gray';\r\n        ctx.lineJoin = ctx.lineCap = 'round';\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\r\n        for(let i = 1; i < this.pts.length; i++){\r\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\r\n        }\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n}","import Point from \"../../../../projects/common/position/Point\";\r\nimport CoreState from \"../../../../projects/corewar/CoreState\";\r\nimport IVisualizer from \"./IVisualizer\";\r\n\r\nconst MARGIN = 0.1;\r\nconst dirs = [\r\n    new Point(1, 0),\r\n    new Point(0, 1),\r\n    new Point(-1, 0),\r\n    new Point(0, -1),\r\n]\r\n\r\nexport default class SquareWalkNoZeroVisualizer implements IVisualizer {\r\n\r\n    pts: Point[];\r\n    minExtent: Point;\r\n    maxExtent: Point;\r\n\r\n    constructor(public modulo: number, public series: number[]) {\r\n        const currentPoint = new Point(0,0);\r\n        this.pts = [currentPoint.Clone()];\r\n        this.minExtent = currentPoint.Clone();\r\n        this.maxExtent = currentPoint.Clone();\r\n        let dir = 0;\r\n\r\n        for(let i = 0; i < series.length; i++) {\r\n            dir = series[i] % 2 == 0 ? dir + 1\r\n                : dir-1;\r\n            dir += dirs.length;\r\n            dir %= dirs.length;\r\n            currentPoint.AddWith(dirs[dir]);\r\n            var pt = currentPoint.Clone();\r\n            this.minExtent = Point.componentMin(this.minExtent, pt);\r\n            this.maxExtent = Point.componentMax(this.maxExtent, pt);\r\n            this.pts.push(pt);\r\n        }\r\n        if(this.minExtent.x === this.maxExtent.x){\r\n            this.minExtent.x = -1;\r\n            this.maxExtent.x = 1;\r\n        }\r\n        if(this.minExtent.y === this.maxExtent.y){\r\n            this.minExtent.y = -1;\r\n            this.maxExtent.y = 1;\r\n        }\r\n        // Normalize all points to [0, 1]\r\n        for(let i = 0; i < this.pts.length; i++) {\r\n            this.pts[i] = new Point(\r\n                (this.pts[i].x - this.minExtent.x) / (this.maxExtent.x - this.minExtent.x),\r\n                (this.pts[i].y - this.minExtent.y) / (this.maxExtent.y - this.minExtent.y)\r\n            );\r\n        }\r\n    }\r\n\r\n    paintFrame(ctx: CanvasRenderingContext2D, width: number, height: number, animationProgress: number): void {\r\n        ctx.save();\r\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\r\n        ctx.scale(1-MARGIN, 1-MARGIN);\r\n        ctx.strokeStyle = 'gray';\r\n        ctx.lineJoin = ctx.lineCap = 'round';\r\n\r\n        const indexProgress = animationProgress * (this.pts.length - 1);\r\n        const seriesIndex = Math.floor(indexProgress);\r\n        const progress = indexProgress % 1;\r\n\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\r\n        for(let i = 1; i < this.pts.length && i < indexProgress; i++){\r\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\r\n        }\r\n        let startPoint = this.pts[seriesIndex];\r\n        let endPoint = this.pts[seriesIndex + 1];\r\n        const tgtPoint = Point.interpolate(startPoint, endPoint, progress);\r\n        tgtPoint.MultWith(width, height);\r\n        ctx.lineTo(tgtPoint.x, tgtPoint.y)\r\n        ctx.stroke();\r\n\r\n        ctx.strokeStyle = 'red';\r\n        ctx.beginPath();\r\n        ctx.arc(tgtPoint.x, tgtPoint.y, ctx.lineWidth * 2, 0, Math.PI * 2, false);\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n\r\n    paintTotal(ctx: CanvasRenderingContext2D, width: number, height: number): void {\r\n        ctx.save();\r\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\r\n        ctx.scale(1-MARGIN, 1-MARGIN);\r\n        ctx.strokeStyle = 'gray';\r\n        ctx.lineJoin = ctx.lineCap = 'round';\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\r\n        for(let i = 1; i < this.pts.length; i++){\r\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\r\n        }\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n}","import Point from \"../../../../projects/common/position/Point\";\r\nimport CoreState from \"../../../../projects/corewar/CoreState\";\r\nimport IVisualizer from \"./IVisualizer\";\r\n\r\nconst MARGIN = 0.1;\r\nconst dirs = [\r\n    new Point(1, 0),\r\n    new Point(0, 1),\r\n    new Point(-1, 0),\r\n    new Point(0, -1),\r\n]\r\n\r\nexport default class SquareWalkVisualizer implements IVisualizer {\r\n\r\n    pts: Point[];\r\n    minExtent: Point;\r\n    maxExtent: Point;\r\n\r\n    constructor(public modulo: number, public series: number[]) {\r\n        const currentPoint = new Point(0,0);\r\n        this.pts = [currentPoint.Clone()];\r\n        this.minExtent = currentPoint.Clone();\r\n        this.maxExtent = currentPoint.Clone();\r\n        let dir = 0;\r\n\r\n        for(let i = 0; i < series.length; i++) {\r\n            dir = series[i] === 0 ? dir :\r\n                series[i] % 2 == 0 ? dir + 1\r\n                : dir-1;\r\n            dir += dirs.length;\r\n            dir %= dirs.length;\r\n            currentPoint.AddWith(dirs[dir]);\r\n            var pt = currentPoint.Clone();\r\n            this.minExtent = Point.componentMin(this.minExtent, pt);\r\n            this.maxExtent = Point.componentMax(this.maxExtent, pt);\r\n            this.pts.push(pt);\r\n        }\r\n        if(this.minExtent.x === this.maxExtent.x){\r\n            this.minExtent.x = -1;\r\n            this.maxExtent.x = 1;\r\n        }\r\n        if(this.minExtent.y === this.maxExtent.y){\r\n            this.minExtent.y = -1;\r\n            this.maxExtent.y = 1;\r\n        }\r\n        // Normalize all points to [0, 1]\r\n        for(let i = 0; i < this.pts.length; i++) {\r\n            this.pts[i] = new Point(\r\n                (this.pts[i].x - this.minExtent.x) / (this.maxExtent.x - this.minExtent.x),\r\n                (this.pts[i].y - this.minExtent.y) / (this.maxExtent.y - this.minExtent.y)\r\n            );\r\n        }\r\n    }\r\n\r\n    paintFrame(ctx: CanvasRenderingContext2D, width: number, height: number, animationProgress: number): void {\r\n        ctx.save();\r\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\r\n        ctx.scale(1-MARGIN, 1-MARGIN);\r\n        ctx.strokeStyle = 'gray';\r\n        ctx.lineJoin = ctx.lineCap = 'round';\r\n\r\n        const indexProgress = animationProgress * (this.pts.length - 1);\r\n        const seriesIndex = Math.floor(indexProgress);\r\n        const progress = indexProgress % 1;\r\n\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\r\n        for(let i = 1; i < this.pts.length && i < indexProgress; i++){\r\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\r\n        }\r\n        let startPoint = this.pts[seriesIndex];\r\n        let endPoint = this.pts[seriesIndex + 1];\r\n        const tgtPoint = Point.interpolate(startPoint, endPoint, progress);\r\n        tgtPoint.MultWith(width, height);\r\n        ctx.lineTo(tgtPoint.x, tgtPoint.y)\r\n        ctx.stroke();\r\n\r\n        ctx.strokeStyle = 'red';\r\n        ctx.beginPath();\r\n        ctx.arc(tgtPoint.x, tgtPoint.y, ctx.lineWidth * 2, 0, Math.PI * 2, false);\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n\r\n    paintTotal(ctx: CanvasRenderingContext2D, width: number, height: number): void {\r\n        ctx.save();\r\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\r\n        ctx.scale(1-MARGIN, 1-MARGIN);\r\n        ctx.strokeStyle = 'gray';\r\n        ctx.lineJoin = ctx.lineCap = 'round';\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\r\n        for(let i = 1; i < this.pts.length; i++){\r\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\r\n        }\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n}","import IVisualizer from \"./IVisualizer\";\r\n\r\nexport default class VisualizerDef {\r\n    constructor(public name: string, public generate: (mod: number, series: number[])=>IVisualizer)\r\n    {\r\n\r\n    }\r\n}","import Point from \"../../../../projects/common/position/Point\";\r\nimport CoreState from \"../../../../projects/corewar/CoreState\";\r\nimport IVisualizer from \"./IVisualizer\";\r\n\r\nconst MARGIN = 0.1;\r\n\r\nexport default class WalkVisualizer implements IVisualizer {\r\n\r\n    pts: Point[];\r\n    minExtent: Point;\r\n    maxExtent: Point;\r\n\r\n    constructor(public modulo: number, public series: number[]) {\r\n        const currentPoint = new Point(0,0);\r\n        this.pts = [currentPoint.Clone()];\r\n        this.minExtent = currentPoint.Clone();\r\n        this.maxExtent = currentPoint.Clone();\r\n\r\n        let anglePerModulo = (Math.PI * 2) / modulo;\r\n\r\n        for(let i = 0; i < series.length; i++) {\r\n            const angle = anglePerModulo * series[i];\r\n            currentPoint.AddWith(Point.fromAngle(angle));\r\n            var pt = currentPoint.Clone();\r\n            this.minExtent = Point.componentMin(this.minExtent, pt);\r\n            this.maxExtent = Point.componentMax(this.maxExtent, pt);\r\n            this.pts.push(pt);\r\n        }\r\n        // Normalize all points to [0, 1]\r\n        for(let i = 0; i < this.pts.length; i++) {\r\n            this.pts[i] = new Point(\r\n                (this.pts[i].x - this.minExtent.x) / (this.maxExtent.x - this.minExtent.x),\r\n                (this.pts[i].y - this.minExtent.y) / (this.maxExtent.y - this.minExtent.y)\r\n            );\r\n        }\r\n    }\r\n\r\n    paintFrame(ctx: CanvasRenderingContext2D, width: number, height: number, animationProgress: number): void {\r\n        ctx.save();\r\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\r\n        ctx.scale(1-MARGIN, 1-MARGIN);\r\n        ctx.strokeStyle = 'gray';\r\n        ctx.lineJoin = ctx.lineCap = 'round';\r\n\r\n        const indexProgress = animationProgress * (this.pts.length - 1);\r\n        const seriesIndex = Math.floor(indexProgress);\r\n        const progress = indexProgress % 1;\r\n\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\r\n        for(let i = 1; i < this.pts.length && i < indexProgress; i++){\r\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\r\n        }\r\n        let startPoint = this.pts[seriesIndex];\r\n        let endPoint = this.pts[seriesIndex + 1];\r\n        const tgtPoint = Point.interpolate(startPoint, endPoint, progress);\r\n        tgtPoint.MultWith(width, height);\r\n        ctx.lineTo(tgtPoint.x, tgtPoint.y)\r\n        ctx.stroke();\r\n\r\n        ctx.strokeStyle = 'red';\r\n        ctx.beginPath();\r\n        ctx.arc(tgtPoint.x, tgtPoint.y, ctx.lineWidth * 2, 0, Math.PI * 2, false);\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n\r\n    paintTotal(ctx: CanvasRenderingContext2D, width: number, height: number): void {\r\n        ctx.save();\r\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\r\n        ctx.scale(1-MARGIN, 1-MARGIN);\r\n        ctx.strokeStyle = 'gray';\r\n        ctx.lineJoin = ctx.lineCap = 'round';\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\r\n        for(let i = 1; i < this.pts.length; i++){\r\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\r\n        }\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n}","import DreamcatcherVisualizer from \"./DreamcatcherVisualizer\"\r\nimport RelativeWalkVisualizer from \"./RelativeWalkVisualizer\"\r\nimport SquareWalkNoZeroVisualizer from \"./SquareWalkNoZeroVisualizer\"\r\nimport SquareWalkVisualizer from \"./SquareWalkVisualizer\"\r\nimport VisualizerDef from \"./VisualizerDef\"\r\nimport WalkVisualizer from \"./WalkVisualizer\"\r\n\r\nexport const Visualizers: VisualizerDef[] = [\r\n    new VisualizerDef('Dreamcatcher', (m, s) => new DreamcatcherVisualizer(m, s)),\r\n    new VisualizerDef('Angle Walk (Absolute)', (m, s) => new WalkVisualizer(m, s)),\r\n    new VisualizerDef('Angle Walk (Relative)', (m, s) => new RelativeWalkVisualizer(m, s)),\r\n    new VisualizerDef('Square Walk', (m, s) => new SquareWalkVisualizer(m, s)),\r\n    new VisualizerDef('Square Walk (No Zero)', (m, s) => new SquareWalkNoZeroVisualizer(m, s)),\r\n]","import * as React from 'react';\r\nimport { render } from 'react-dom';\r\nimport ReactDropdown from 'react-dropdown';\r\nimport Dropdown from 'react-dropdown';\r\nimport { ObjDropdownComponent } from '../../common/ObjDropdownComponent';\r\nimport { Generators } from './generators';\r\nimport IGenerator from './generators/IGenerator';\r\nimport RenderStateComponent, { RenderStateComponentProps } from './RenderStateComponent';\r\nimport { Visualizers } from './visualizers'; \r\nimport VisualizerDef from './visualizers/VisualizerDef';\r\n\r\ntype RenderArgs = {seed: number[], modulo: number};\r\ntype ArgParseResult = RenderArgs | {seedError?: string, moduloError?: string};\r\n\r\nfunction tryParse(seed: string, modulo: string): ArgParseResult {\r\n    const digits = seed.split(' ').map(v => v.trim()).filter(v => v != '');\r\n    const seedOut = [];\r\n    for(let i = 0; i < digits.length; i++){\r\n        seedOut.push(parseInt(digits[i]))\r\n        if(isNaN(seedOut[i]))\r\n        {\r\n            return { seedError: `Failed to parse seed value ${digits[i]}` };\r\n        }\r\n    }\r\n    if(seedOut.length < 2) return {seedError: `Seed must have a length of at least 2`};\r\n\r\n    const modParse = parseInt(modulo);\r\n    if(isNaN(modParse)) return { moduloError: `Failed to parse modulus ${modulo}` };\r\n    return {seed: seedOut, modulo: modParse};\r\n}\r\n\r\nfunction isSuccess(res: ArgParseResult): res is {seed:number[], modulo:number} {\r\n    return (res as any).seed !== undefined;\r\n}\r\n\r\nexport default function FibvisComponent() {\r\n    let [seed, setSeed] = React.useState('0 1');\r\n    let [modulo, setModulo] = React.useState('3');\r\n    let [animate, setAnimate] = React.useState(true);\r\n\r\n    let [RenderState, setRenderState] = React.useState<RenderStateComponentProps | null>(null);\r\n    let [visualizer, setVisualizer] = React.useState(Visualizers[0]);\r\n    let [generator, setGenerator] = React.useState(Generators[0]);\r\n    let [animationTime, setAnimationTime] = React.useState(5);\r\n\r\n    let parseResult = tryParse(seed, modulo);\r\n    let parseSucceed = isSuccess(parseResult);\r\n\r\n    React.useEffect(()=>{\r\n        if(parseSucceed) {\r\n            const modulo = (parseResult as RenderArgs).modulo;\r\n            const series = generator.generateSeries((parseResult as RenderArgs).seed, modulo);\r\n            setRenderState({ animate, visualizer: visualizer.generate(modulo, series), animationDuration: animationTime });\r\n        }\r\n    }, [animate, parseSucceed, (parseResult as RenderArgs).modulo, visualizer, generator, animationTime, JSON.stringify((parseResult as RenderArgs).seed)]);\r\n\r\n    return <div className='flex col align-center'>\r\n        <div className='flex col' style={{ maxWidth:'800px' }}>\r\n                <div className='flex row justify-space-between' >\r\n                    <label>Seed Values: </label>\r\n                    <input type='text' value={seed} onChange={v => setSeed(v.target.value)} style={{marginLeft: '8px'}} />\r\n                </div>\r\n\r\n                <div className='flex row justify-space-between' >\r\n                    <label>Modulo: </label>\r\n                    <input type='number' value={modulo} onChange={v => setModulo(v.target.value)} style={{marginLeft: '8px'}} />\r\n                </div>\r\n\r\n                <div className='flex row justify-space-between' >\r\n                    <label>Animation Duration: </label>\r\n                    <div>\r\n                        { animate ? <input type='number' value={animationTime} onChange={v => setAnimationTime(v.target.valueAsNumber)} /> : <></> }\r\n                        <input type='checkbox' checked={animate} onChange={v => setAnimate(v.target.checked)} style={{marginLeft: '8px'}} />\r\n                    </div>\r\n                </div>\r\n                <div className='flex row justify-space-between align-center' >\r\n                    <label>Generator: </label>\r\n                    <ObjDropdownComponent<IGenerator> options={Generators} getName={v => v.name} value={generator} onChange={g => setGenerator(g)} />\r\n                </div>\r\n                \r\n                <div className='flex row justify-space-between align-center' >\r\n                    <label>Visualizer: </label>\r\n                    <ObjDropdownComponent<VisualizerDef> options={Visualizers} getName={(v) => v.name} value={visualizer} onChange={(c) => setVisualizer(c)} />\r\n                </div>\r\n        </div>\r\n        {RenderState !== null ? <RenderStateComponent {...RenderState} /> : <></>}\r\n        </div>  ;\r\n}","export default class Point {\r\n\r\n    static zero(): Point  {\r\n        return new Point(0,0);\r\n    }\r\n\r\n    constructor(public x: number, public y: number) {\r\n\r\n    }\r\n\r\n    public static fromAngle(angle: number, distance?: number) : Point {\r\n        return new Point(Math.cos(angle) * (distance ?? 1), Math.sin(angle) * (distance ?? 1));\r\n    }\r\n\r\n    public LengthSq(): number {\r\n        return Point.Dot(this, this);\r\n    }\r\n\r\n    public Length(): number {\r\n        return Math.sqrt(this.LengthSq());\r\n    }\r\n\r\n    public Clone(): Point {\r\n        return new Point(this.x, this.y);\r\n    }\r\n\r\n    public Negate(): Point {\r\n        return new Point(-this.x, -this.y);\r\n    }\r\n\r\n    public NegateInPlace(): this {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        return this;\r\n    }\r\n\r\n    public static Dot(p1: Point, p2: Point): number {\r\n        return p1.x * p2.x + p1.y * p2.y;\r\n    }\r\n\r\n    public DotWith(other: Point): number {\r\n        return Point.Dot(this, other);\r\n    }\r\n\r\n    public normalize(): Point {\r\n        let len = this.Length();\r\n        return Point.Multiply(this, 1 / len);\r\n    }\r\n\r\n    public Direction(): number {\r\n        return Math.atan2(this.y, this.x);\r\n    }\r\n\r\n    public AddWith(x: number, y: number): this;\r\n    public AddWith(other: Point): this;\r\n    public AddWith(other: number|Point, y?: number): this {\r\n        const {x: nx, y: ny} = splitArgs(other, y);\r\n        this.x += nx;\r\n        this.y += ny;\r\n        return this;\r\n    }\r\n\r\n    public MultWith(s: number): this;\r\n    public MultWith(x: number, y: number): this;\r\n    public MultWith(other: Point): this;\r\n    public MultWith(other: number|Point, y?: number): this {\r\n        const {x: nx, y: ny} = splitArgsOrSingle(other, y);\r\n        this.x *= nx;\r\n        this.y *= ny;\r\n        return this;\r\n    }\r\n\r\n    public SubtractWith(x: number, y: number): this;\r\n    public SubtractWith(other: Point): this;\r\n    public SubtractWith(other: number|Point, y?: number): this {\r\n        const {x: nx, y: ny} = splitArgs(other, y);\r\n        this.x -= nx;\r\n        this.y -= ny;\r\n        return this;\r\n    }\r\n\r\n    public DivideWith(x: number, y: number): this;\r\n    public DivideWith(other: Point): this;\r\n    public DivideWith(other: number|Point, y?: number): this {\r\n        const {x: nx, y: ny} = splitArgs(other, y);\r\n        this.x /= nx;\r\n        this.y /= ny;\r\n        return this;\r\n    }\r\n\r\n    public Equals(other: Point): boolean {\r\n        return this.x === other.x && this.y === other.y;\r\n    }\r\n\r\n    \r\n    static add(src: Point, x: number, y: number): Point;\r\n    static add(src: Point, other: Point): Point;\r\n    static add(src: Point, other: number|Point, y?: number): Point {\r\n        const {x: nx, y: ny} = splitArgs(other, y);\r\n        return new Point(src.x + nx, src.y + ny);\r\n    }\r\n\r\n    static subtract(src: Point, x: number, y: number): Point;\r\n    static subtract(src: Point, other: Point): Point;\r\n    static subtract(src: Point, other: number|Point, y?: number): Point {\r\n        const {x: nx, y: ny} = splitArgs(other, y);\r\n        return new Point(src.x - nx, src.y - ny);\r\n    }\r\n\r\n    static Multiply(a: Point, s: number, sy?: number): Point;\r\n    static Multiply(a: Point, b: Point): Point;\r\n    static Multiply(a: Point, b: Point|number, sy ?: number): Point {\r\n        if (sy !== undefined) {\r\n            return new Point(a.x * (b as number), a.y * sy);\r\n        }\r\n        else if ((b as any).x !== undefined) {\r\n            return new Point(a.x * (b as Point).x, a.y * (b as Point).y);\r\n        } else {\r\n            return new Point(a.x * (b as number), a.y * (b as number));\r\n        }\r\n    }\r\n\r\n    static interpolate(a: Point, b: Point, p: number): Point {\r\n        return new Point(a.x + (b.x - a.x) * p, a.y + (b.y - a.y) * p);\r\n    }\r\n\r\n    static componentMin(a: Point, b: Point): Point {\r\n        if(a.x <= b.x && a.y <= b.y) return a;\r\n        if(b.x <= a.x && b.y <= a.y) return b;\r\n        return new Point(Math.min(a.x, b.x), Math.min(a.y, b.y));\r\n    }\r\n    \r\n    static componentMax(a: Point, b: Point): Point {\r\n        if(a.x >= b.x && a.y >= b.y) return a;\r\n        if(b.x >= a.x && b.y >= a.y) return b;\r\n        return new Point(Math.max(a.x, b.x), Math.max(a.y, b.y));\r\n    }\r\n\r\n    static Bezier(pts: Point[], t: number): Point {\r\n        if(pts.length === 1) return pts[0];\r\n        else if(pts.length === 2) return Point.add(Point.Multiply(pts[1], t), Point.Multiply(pts[0], 1-t));\r\n        return Point.add(\r\n            Point.Multiply(Point.Bezier(pts.slice(1), t), t),\r\n            Point.Multiply(Point.Bezier(pts.slice(0, pts.length - 1), t), 1-t));\r\n    }\r\n\r\n    rotate(theta: number): Point {\r\n        const angle = Math.atan2(this.y, this.x);\r\n        const len = this.Length();\r\n        return Point.fromAngle(angle + theta, len);\r\n    }\r\n}\r\n\r\nfunction splitArgs(x: Point|number, y ?: number): {x: number, y: number} {\r\n    if(y === undefined) return { x: (<Point>x).x, y: (<Point>x).y };\r\n    return {x: <number>x, y};\r\n}\r\n\r\nfunction splitArgsOrSingle(x: Point|number, y ?: number): {x: number, y: number} {\r\n    if(y === undefined)\r\n    {\r\n        if((x as Point).x !== undefined) {\r\n            return { x: (<Point>x).x, y: (<Point>x).y };\r\n        }\r\n        return { x: x as number, y: x as number };\r\n    } \r\n    return {x: <number>x, y};\r\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar DEFAULT_PLACEHOLDER_STRING = 'Select...';\n\nvar Dropdown =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dropdown, _Component);\n\n  function Dropdown(props) {\n    var _this;\n\n    _classCallCheck(this, Dropdown);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dropdown).call(this, props));\n    _this.state = {\n      selected: _this.parseValue(props.value, props.options) || {\n        label: typeof props.placeholder === 'undefined' ? DEFAULT_PLACEHOLDER_STRING : props.placeholder,\n        value: ''\n      },\n      isOpen: false\n    };\n    _this.mounted = true;\n    _this.handleDocumentClick = _this.handleDocumentClick.bind(_assertThisInitialized(_this));\n    _this.fireChangeEvent = _this.fireChangeEvent.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Dropdown, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      if (newProps.value) {\n        var selected = this.parseValue(newProps.value, newProps.options);\n\n        if (selected !== this.state.selected) {\n          this.setState({\n            selected: selected\n          });\n        }\n      } else {\n        this.setState({\n          selected: {\n            label: typeof newProps.placeholder === 'undefined' ? DEFAULT_PLACEHOLDER_STRING : newProps.placeholder,\n            value: ''\n          }\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('click', this.handleDocumentClick, false);\n      document.addEventListener('touchend', this.handleDocumentClick, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mounted = false;\n      document.removeEventListener('click', this.handleDocumentClick, false);\n      document.removeEventListener('touchend', this.handleDocumentClick, false);\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(event) {\n      if (this.props.onFocus && typeof this.props.onFocus === 'function') {\n        this.props.onFocus(this.state.isOpen);\n      }\n\n      if (event.type === 'mousedown' && event.button !== 0) return;\n      event.stopPropagation();\n      event.preventDefault();\n\n      if (!this.props.disabled) {\n        this.setState({\n          isOpen: !this.state.isOpen\n        });\n      }\n    }\n  }, {\n    key: \"parseValue\",\n    value: function parseValue(value, options) {\n      var option;\n\n      if (typeof value === 'string') {\n        for (var i = 0, num = options.length; i < num; i++) {\n          if (options[i].type === 'group') {\n            var match = options[i].items.filter(function (item) {\n              return item.value === value;\n            });\n\n            if (match.length) {\n              option = match[0];\n            }\n          } else if (typeof options[i].value !== 'undefined' && options[i].value === value) {\n            option = options[i];\n          }\n        }\n      }\n\n      return option || value;\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value, label) {\n      var newState = {\n        selected: {\n          value: value,\n          label: label\n        },\n        isOpen: false\n      };\n      this.fireChangeEvent(newState);\n      this.setState(newState);\n    }\n  }, {\n    key: \"fireChangeEvent\",\n    value: function fireChangeEvent(newState) {\n      if (newState.selected !== this.state.selected && this.props.onChange) {\n        this.props.onChange(newState.selected);\n      }\n    }\n  }, {\n    key: \"renderOption\",\n    value: function renderOption(option) {\n      var _classes;\n\n      var value = option.value;\n\n      if (typeof value === 'undefined') {\n        value = option.label || option;\n      }\n\n      var label = option.label || option.value || option;\n      var isSelected = value === this.state.selected.value || value === this.state.selected;\n      var classes = (_classes = {}, _defineProperty(_classes, \"\".concat(this.props.baseClassName, \"-option\"), true), _defineProperty(_classes, option.className, !!option.className), _defineProperty(_classes, 'is-selected', isSelected), _classes);\n      var optionClass = (0, _classnames[\"default\"])(classes);\n      return _react[\"default\"].createElement(\"div\", {\n        key: value,\n        className: optionClass,\n        onMouseDown: this.setValue.bind(this, value, label),\n        onClick: this.setValue.bind(this, value, label),\n        role: \"option\",\n        \"aria-selected\": isSelected ? 'true' : 'false'\n      }, label);\n    }\n  }, {\n    key: \"buildMenu\",\n    value: function buildMenu() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          options = _this$props.options,\n          baseClassName = _this$props.baseClassName;\n      var ops = options.map(function (option) {\n        if (option.type === 'group') {\n          var groupTitle = _react[\"default\"].createElement(\"div\", {\n            className: \"\".concat(baseClassName, \"-title\")\n          }, option.name);\n\n          var _options = option.items.map(function (item) {\n            return _this2.renderOption(item);\n          });\n\n          return _react[\"default\"].createElement(\"div\", {\n            className: \"\".concat(baseClassName, \"-group\"),\n            key: option.name,\n            role: \"listbox\",\n            tabIndex: \"-1\"\n          }, groupTitle, _options);\n        } else {\n          return _this2.renderOption(option);\n        }\n      });\n      return ops.length ? ops : _react[\"default\"].createElement(\"div\", {\n        className: \"\".concat(baseClassName, \"-noresults\")\n      }, \"No options found\");\n    }\n  }, {\n    key: \"handleDocumentClick\",\n    value: function handleDocumentClick(event) {\n      if (this.mounted) {\n        if (!_reactDom[\"default\"].findDOMNode(this).contains(event.target)) {\n          if (this.state.isOpen) {\n            this.setState({\n              isOpen: false\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"isValueSelected\",\n    value: function isValueSelected() {\n      return typeof this.state.selected === 'string' || this.state.selected.value !== '';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames, _classNames2, _classNames3, _classNames4, _classNames5;\n\n      var _this$props2 = this.props,\n          baseClassName = _this$props2.baseClassName,\n          controlClassName = _this$props2.controlClassName,\n          placeholderClassName = _this$props2.placeholderClassName,\n          menuClassName = _this$props2.menuClassName,\n          arrowClassName = _this$props2.arrowClassName,\n          arrowClosed = _this$props2.arrowClosed,\n          arrowOpen = _this$props2.arrowOpen,\n          className = _this$props2.className;\n      var disabledClass = this.props.disabled ? 'Dropdown-disabled' : '';\n      var placeHolderValue = typeof this.state.selected === 'string' ? this.state.selected : this.state.selected.label;\n      var dropdownClass = (0, _classnames[\"default\"])((_classNames = {}, _defineProperty(_classNames, \"\".concat(baseClassName, \"-root\"), true), _defineProperty(_classNames, className, !!className), _defineProperty(_classNames, 'is-open', this.state.isOpen), _classNames));\n      var controlClass = (0, _classnames[\"default\"])((_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(baseClassName, \"-control\"), true), _defineProperty(_classNames2, controlClassName, !!controlClassName), _defineProperty(_classNames2, disabledClass, !!disabledClass), _classNames2));\n      var placeholderClass = (0, _classnames[\"default\"])((_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(baseClassName, \"-placeholder\"), true), _defineProperty(_classNames3, placeholderClassName, !!placeholderClassName), _defineProperty(_classNames3, 'is-selected', this.isValueSelected()), _classNames3));\n      var menuClass = (0, _classnames[\"default\"])((_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(baseClassName, \"-menu\"), true), _defineProperty(_classNames4, menuClassName, !!menuClassName), _classNames4));\n      var arrowClass = (0, _classnames[\"default\"])((_classNames5 = {}, _defineProperty(_classNames5, \"\".concat(baseClassName, \"-arrow\"), true), _defineProperty(_classNames5, arrowClassName, !!arrowClassName), _classNames5));\n\n      var value = _react[\"default\"].createElement(\"div\", {\n        className: placeholderClass\n      }, placeHolderValue);\n\n      var menu = this.state.isOpen ? _react[\"default\"].createElement(\"div\", {\n        className: menuClass,\n        \"aria-expanded\": \"true\"\n      }, this.buildMenu()) : null;\n      return _react[\"default\"].createElement(\"div\", {\n        className: dropdownClass\n      }, _react[\"default\"].createElement(\"div\", {\n        className: controlClass,\n        onMouseDown: this.handleMouseDown.bind(this),\n        onTouchEnd: this.handleMouseDown.bind(this),\n        \"aria-haspopup\": \"listbox\"\n      }, value, _react[\"default\"].createElement(\"div\", {\n        className: \"\".concat(baseClassName, \"-arrow-wrapper\")\n      }, arrowOpen && arrowClosed ? this.state.isOpen ? arrowOpen : arrowClosed : _react[\"default\"].createElement(\"span\", {\n        className: arrowClass\n      }))), menu);\n    }\n  }]);\n\n  return Dropdown;\n}(_react.Component);\n\nDropdown.defaultProps = {\n  baseClassName: 'Dropdown'\n};\nvar _default = Dropdown;\nexports[\"default\"] = _default;\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import * as React from 'react';\r\nimport Dropdown from 'react-dropdown';\r\n\r\nexport function ObjDropdownComponent<T>(props: {options: T[], getName: (item:T) => string, value: T, onChange: (item:T)=>void}) {\r\n    const names = props.options.map(props.getName);\r\n    return <Dropdown options={names} value={props.getName(props.value)} onChange={chng => props.onChange(props.options.find(v => props.getName(v) === chng.value))}></Dropdown>\r\n}"],"sourceRoot":""}