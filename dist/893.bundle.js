"use strict";(self.webpackChunktrading_game=self.webpackChunktrading_game||[]).push([[893],{6718:(t,e,s)=>{s.d(e,{Z:()=>r});class i{constructor(t,e){this.keys=t,this.changes=e}isKeyDown(t){return-1!==this.keys.indexOf(t)}isKeyUp(t){return-1===this.keys.indexOf(t)}}class n{constructor(t,e){this.attachedElement=t,this.logKeyNames=e,void 0===this.logKeyNames&&(this.logKeyNames=!1),t.addEventListener("keydown",(t=>this.onKeyDown(t))),t.addEventListener("keyup",(t=>this.onKeyUp(t))),this.downKeys=[],this.changes=[]}onKeyDown(t){this.logKeyNames&&console.log(t.key),-1===this.downKeys.indexOf(t.key)&&(this.changes.push({key:t.key,change:"press"}),this.downKeys.push(t.key))}onKeyUp(t){this.changes.push({key:t.key,change:"release"});const e=this.downKeys.indexOf(t.key);this.downKeys.splice(e,1)}Update(){const t=this.downKeys,e=this.changes;return this.downKeys=t.slice(),this.changes=[],new i(t,e)}}class r{constructor(t,e){this.watcher=new n(t,e),this.prvState=this.currentState=this.watcher.Update()}update(){this.prvState=this.currentState,this.currentState=this.watcher.Update()}isKeyDown(t){return this.currentState.isKeyDown(t)}isKeyUp(t){return this.currentState.isKeyUp(t)}isKeyPressed(t){return this.currentState.isKeyDown(t)&&this.prvState.isKeyUp(t)}isKeyReleased(t){return this.currentState.isKeyUp(t)&&this.prvState.isKeyDown(t)}changes(){return this.currentState.changes}}},8785:(t,e,s)=>{s.d(e,{Z:()=>i});class i{constructor(t,e){this.x=t,this.y=e}static zero(){return new i(0,0)}static fromAngle(t,e){return new i(Math.cos(t)*(null!=e?e:1),Math.sin(t)*(null!=e?e:1))}lengthSq(){return i.dot(this,this)}length(){return Math.sqrt(this.lengthSq())}clone(){return new i(this.x,this.y)}negate(){return new i(-this.x,-this.y)}negateInPlace(){return this.x=-this.x,this.y=-this.y,this}static dot(t,e){return t.x*e.x+t.y*e.y}dotWith(t){return i.dot(this,t)}normalize(){let t=this.length();return i.multiply(this,1/t)}direction(){return Math.atan2(this.y,this.x)}truncate(){return new i(Math.trunc(this.x),Math.trunc(this.y))}addWith(t,e){const{x:s,y:i}=n(t,e);return this.x+=s,this.y+=i,this}multWith(t,e){const{x:s,y:i}=function(t,e){return void 0===e?void 0!==t.x?{x:t.x,y:t.y}:{x:t,y:t}:{x:t,y:e}}(t,e);return this.x*=s,this.y*=i,this}subtractWith(t,e){const{x:s,y:i}=n(t,e);return this.x-=s,this.y-=i,this}divideWith(t,e){const{x:s,y:i}=n(t,e);return this.x/=s,this.y/=i,this}equals(t){return this.x===t.x&&this.y===t.y}static add(t,e,s){const{x:r,y:h}=n(e,s);return new i(t.x+r,t.y+h)}static subtract(t,e,s){const{x:r,y:h}=n(e,s);return new i(t.x-r,t.y-h)}static multiply(t,e,s){return void 0!==s?new i(t.x*e,t.y*s):void 0!==e.x?new i(t.x*e.x,t.y*e.y):new i(t.x*e,t.y*e)}static interpolate(t,e,s){return new i(t.x+(e.x-t.x)*s,t.y+(e.y-t.y)*s)}static componentMin(t,e){return t.x<=e.x&&t.y<=e.y?t:e.x<=t.x&&e.y<=t.y?e:new i(Math.min(t.x,e.x),Math.min(t.y,e.y))}static componentMax(t,e){return t.x>=e.x&&t.y>=e.y?t:e.x>=t.x&&e.y>=t.y?e:new i(Math.max(t.x,e.x),Math.max(t.y,e.y))}static Bezier(t,e){return 1===t.length?t[0]:2===t.length?i.add(i.multiply(t[1],e),i.multiply(t[0],1-e)):i.add(i.multiply(i.Bezier(t.slice(1),e),e),i.multiply(i.Bezier(t.slice(0,t.length-1),e),1-e))}rotate(t){const e=Math.atan2(this.y,this.x),s=this.length();return i.fromAngle(e+t,s)}}function n(t,e){return void 0===e?{x:t.x,y:t.y}:{x:t,y:e}}},4893:(t,e,s)=>{s.r(e),s.d(e,{default:()=>m});var i=s(3804),n=s(127),r=s(5901),h=s(7604),a=s(6718),c=s(8785);const o=new c.Z(16,24),y=352,l=new c.Z(160,160);var u=s(3486);const d=s.p+"81cce123ff2af92952a4c56e73756c3e.png";class x{constructor(t){this.tiles=new u.V(32,32,d,t.registerAssetLoadCallback())}}class w extends class extends class{constructor(t,e){this.typeId=t,this.isPathable=e}}{constructor(t,e,s){super(t,s),this.spriteSheetTilePosition=e}AfterWorldLoad(t,e){}Draw(t,e,s,i){e.tiles.render(t,32*i.x+i.y*o.x+l.x,i.y*o.y+l.y,32,32,this.spriteSheetTilePosition.x,this.spriteSheetTilePosition.y)}}{constructor(){super(0,new c.Z(0,0),!0)}OnEntityStep(t){}}class p{constructor(t){this.size=t,this.cells=[];let e=2*t-1;for(let s=1-t;s<=t-1;s++){let t=[];for(let i=0;i<e-Math.abs(s);i++){let e=new w;t.push(e)}this.cells.push(t)}for(let e=1-t;e<=t-1;e++){const t=this.size-1+e,s=2*this.size-1-Math.abs(e),i=-Math.min(t,this.size-1);for(let t=0;t<s;t++){let[s,n]=this.coordsToArray(t+i,e);this.cells[n][s].AfterWorldLoad(this,new c.Z(t+i,e))}}}draw(t,e){for(let s=1-this.size;s<=this.size-1;s++){const i=this.size-1+s,n=2*this.size-1-Math.abs(s),r=-Math.min(i,this.size-1);for(let i=0;i<n;i++){let[n,h]=this.coordsToArray(i+r,s);this.cells[h][n].Draw(t,e,this,new c.Z(i+r,s))}}}coordsToArray(t,e){const s=this.size-1+e;return this.size,Math.abs(e),[t- -Math.min(s,this.size-1),s]}}function g(){let t,e,s;const i=new n.Z,c=new x(i);let o;function l(){(0,r.Ci)(t),t.clearRect(0,0,y,y),t.fillStyle="#000000",t.fillRect(0,0,y,y),o.draw(t,c),requestAnimationFrame((()=>l()))}return e=new a.Z(document.body),i.onAllFinished((function(){const e=document.getElementById("mainCanvas");t=e.getContext("2d"),s=new h.Z(e,t,y,y,!0,(()=>{})),o=new p(6),l()})),()=>s.Detatch()}function m(){return i.useEffect((()=>g())),i.createElement("div",{className:"rpgt rpgt_body full_body center"},i.createElement("canvas",{id:"mainCanvas"}))}}}]);
//# sourceMappingURL=893.bundle.js.map