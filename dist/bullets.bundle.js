(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{64:function(t,i,e){"use strict";e.d(i,"a",(function(){return s}));class s{constructor(t,i){this.x=t,this.y=i}LengthSq(){return s.Dot(this,this)}Length(){return Math.sqrt(this.LengthSq())}Clone(){return new s(this.x,this.y)}Negate(){return new s(-this.x,-this.y)}NegateInPlace(){return this.x=-this.x,this.y=-this.y,this}static Dot(t,i){return t.x*i.x+t.y*i.y}DotWith(t){return s.Dot(this,t)}Direction(){return Math.atan2(this.y,this.x)}AddWith(t,i){const e=void 0===i?t.x:t,s=void 0===i?t.y:i;return this.x+=e,this.y+=s,this}MultWith(t,i){const e=void 0===i?t.x:t,s=void 0===i?t.y:i;return this.x*=e,this.y*=s,this}SubtractWith(t,i){const e=void 0===i?t.x:t,s=void 0===i?t.y:i;return this.x-=e,this.y-=s,this}DivideWith(t,i){const e=void 0===i?t.x:t,s=void 0===i?t.y:i;return this.x/=e,this.y/=s,this}Equals(t){return this.x===t.x&&this.y===t.y}static Add(t,i){return new s(t.x+i.x,t.y+i.y)}static Multiply(t,i,e){return void 0!==e?new s(t.x*i,t.y*e):void 0!==i.x?new s(t.x*i.x,t.y*i.y):new s(t.x*i,t.y*i)}}},79:function(t,i,e){"use strict";e.r(i),e.d(i,"default",(function(){return O}));var s=e(16),n=1e3,h=800,o=e(20),r=e(7),a=e(17),c=e.p+"12a4e8650485f6c9e051cf30dfcfc746.png",l=e(64);const y=2*Math.PI;class u{static normalize(t){return(t%=y)<0&&(t+=y),t}static relativeNormalize(t){return(t%=y)>Math.PI?t-=y:t<-Math.PI&&(t+=y),t}static relativeAngle(t,i){return u.relativeNormalize(t-i)}}const f=.2,d=20,g=.998,x=.99,M=.06,v=.002,D=.004,w=.98,p=.003,m=120;class b{constructor(t){this.sprites=t,this.position=new l.a(0,0),this.velocity=new l.a(0,0),this.angularVelocity=0,this.rotation=0,this.engineDeflect=0,this.tgtDeflect=0}tick(t){t.isKeyDown("w")?this.isEngineOn=!0:this.isEngineOn=!1,t.isKeyDown("a")?this.tgtDeflect=1:t.isKeyDown("d")?this.tgtDeflect=-1:this.tgtDeflect=0,this.tgtDeflect>=this.engineDeflect?this.engineDeflect=Math.min(this.engineDeflect+M,this.tgtDeflect):this.engineDeflect=Math.max(this.engineDeflect-M,this.tgtDeflect);const i=Math.atan2(this.velocity.y,this.velocity.x),e=u.relativeAngle(this.rotation,i),s=e/Math.PI;this.angularVelocity*=w,this.angularVelocity-=this.tgtDeflect*v+this.engineDeflect*D*(this.isEngineOn?1:0),this.rotation+=this.angularVelocity;const n=(1-Math.abs(s))*g+Math.abs(s)*x;this.velocity.MultWith(n,n),this.isEngineOn&&(this.velocity.x+=f*Math.cos(this.rotation),this.velocity.y+=f*Math.sin(this.rotation));let h=this.velocity.Length(),o=this.velocity.Direction();h>=d&&(h=d);let r=Math.sin(e);r*=Math.min(h/m,1),r*=p,o+=r,this.velocity.x=Math.cos(o)*h,this.velocity.y=Math.sin(o)*h,this.position.AddWith(this.velocity)}render(t){t.save(),Object(r.c)(t,this.position.x,this.position.y,4,8,this.rotation+Math.PI/2),this.isEngineOn&&this.sprites.rotrender(t,4,11,8,16,Math.floor(4*Math.random()),1,this.engineDeflect*Math.PI/4,4,2),this.tgtDeflect>0?this.sprites.rotrender(t,7,4,8,16,Math.floor(2*Math.random()),2,0,3,4):this.tgtDeflect<0&&this.sprites.rotrender(t,1,4,8,16,2+Math.floor(2*Math.random()),2,0,6,4),this.sprites.render(t,0,0,8,16,0,0),t.restore()}}var A=e(21);let I;function O(){const t=new s.a,i=new a.a(8,16,c,t.registerAssetLoadCallback());t.onAllFinished(()=>function(t){const i=document.getElementById("canvas"),e=i.getContext("2d");I=new o.a(i,e,n,h,!0,()=>{}),Object(r.a)(e);const s=new A.a(document.body,!1);!function t(i,e,s,o){e.update(),i.tick(e),function(t,i,e){Object(r.a)(e),e.fillStyle="black",e.fillRect(0,0,n,h),e.save();const s=l.a.Add(t.position,l.a.Multiply(t.velocity,10));e.translate(-(s.x-n/2),-(s.y-h/2)),e.fillStyle="gray";for(let t=400*Math.floor((s.y-h/2)/400);t<=400*Math.floor((s.y+h/2)/400);t+=400)e.fillRect(s.x-n/2,t,n,3);for(let t=400*Math.floor((s.x-n/2)/400);t<=400*Math.floor((s.x+n/2)/400);t+=400)e.fillRect(t,s.y-h/2,3,h);t.render(e),e.restore()}(i,0,o),requestAnimationFrame(()=>t(i,e,s,o))}(new b(t),s,i,e)}(i))}}}]);
//# sourceMappingURL=bullets.bundle.js.map