{"version":3,"file":"5.bundle.js","mappings":"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","sources":["webpack://trading-game/./node_modules/classnames/index.js","webpack://trading-game/./node_modules/react-dropdown/dist/index.js","webpack://trading-game/./src/projects/common/position/Point.ts","webpack://trading-game/./src/views/common/ObjDropdownComponent.tsx","webpack://trading-game/./src/views/projects/fibvis/generators/index.ts","webpack://trading-game/./src/views/projects/fibvis/generators/FibonacciGenerator.ts","webpack://trading-game/./src/views/projects/fibvis/generators/FibonacciPlusOneGenerator.ts","webpack://trading-game/./src/views/projects/fibvis/generators/TriangleGenerator.ts","webpack://trading-game/./src/views/projects/fibvis/generators/SumOfThreeGenerator.ts","webpack://trading-game/./src/views/projects/fibvis/RenderStateComponent.tsx","webpack://trading-game/./src/views/projects/fibvis/visualizers/Dreamcatcher2Visualizer.ts","webpack://trading-game/./src/views/projects/fibvis/visualizers/DreamcatcherVisualizer.ts","webpack://trading-game/./src/views/projects/fibvis/visualizers/RelativeWalkVisualizer.ts","webpack://trading-game/./src/views/projects/fibvis/visualizers/SquareWalkNoZeroVisualizer.ts","webpack://trading-game/./src/views/projects/fibvis/visualizers/SquareWalkVisualizer.ts","webpack://trading-game/./src/views/projects/fibvis/visualizers/VisualizerDef.ts","webpack://trading-game/./src/views/projects/fibvis/visualizers/WalkVisualizer.ts","webpack://trading-game/./src/views/projects/fibvis/visualizers/index.ts","webpack://trading-game/./src/views/projects/fibvis/FibvisComponent.tsx"],"sourcesContent":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar DEFAULT_PLACEHOLDER_STRING = 'Select...';\n\nvar Dropdown =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dropdown, _Component);\n\n  function Dropdown(props) {\n    var _this;\n\n    _classCallCheck(this, Dropdown);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dropdown).call(this, props));\n    _this.state = {\n      selected: _this.parseValue(props.value, props.options) || {\n        label: typeof props.placeholder === 'undefined' ? DEFAULT_PLACEHOLDER_STRING : props.placeholder,\n        value: ''\n      },\n      isOpen: false\n    };\n    _this.dropdownRef = (0, _react.createRef)();\n    _this.mounted = true;\n    _this.handleDocumentClick = _this.handleDocumentClick.bind(_assertThisInitialized(_this));\n    _this.fireChangeEvent = _this.fireChangeEvent.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Dropdown, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.value !== prevProps.value) {\n        if (this.props.value) {\n          var selected = this.parseValue(this.props.value, this.props.options);\n\n          if (selected !== this.state.selected) {\n            this.setState({\n              selected: selected\n            });\n          }\n        } else {\n          this.setState({\n            selected: {\n              label: typeof this.props.placeholder === 'undefined' ? DEFAULT_PLACEHOLDER_STRING : this.props.placeholder,\n              value: ''\n            }\n          });\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('click', this.handleDocumentClick, false);\n      document.addEventListener('touchend', this.handleDocumentClick, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mounted = false;\n      document.removeEventListener('click', this.handleDocumentClick, false);\n      document.removeEventListener('touchend', this.handleDocumentClick, false);\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(event) {\n      if (this.props.onFocus && typeof this.props.onFocus === 'function') {\n        this.props.onFocus(this.state.isOpen);\n      }\n\n      if (event.type === 'mousedown' && event.button !== 0) return;\n      event.stopPropagation();\n      event.preventDefault();\n\n      if (!this.props.disabled) {\n        this.setState({\n          isOpen: !this.state.isOpen\n        });\n      }\n    }\n  }, {\n    key: \"parseValue\",\n    value: function parseValue(value, options) {\n      var option;\n\n      if (typeof value === 'string') {\n        for (var i = 0, num = options.length; i < num; i++) {\n          if (options[i].type === 'group') {\n            var match = options[i].items.filter(function (item) {\n              return item.value === value;\n            });\n\n            if (match.length) {\n              option = match[0];\n            }\n          } else if (typeof options[i].value !== 'undefined' && options[i].value === value) {\n            option = options[i];\n          }\n        }\n      }\n\n      return option || value;\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value, label) {\n      var newState = {\n        selected: {\n          value: value,\n          label: label\n        },\n        isOpen: false\n      };\n      this.fireChangeEvent(newState);\n      this.setState(newState);\n    }\n  }, {\n    key: \"fireChangeEvent\",\n    value: function fireChangeEvent(newState) {\n      if (newState.selected !== this.state.selected && this.props.onChange) {\n        this.props.onChange(newState.selected);\n      }\n    }\n  }, {\n    key: \"renderOption\",\n    value: function renderOption(option) {\n      var _classes;\n\n      var value = option.value;\n\n      if (typeof value === 'undefined') {\n        value = option.label || option;\n      }\n\n      var label = option.label || option.value || option;\n      var isSelected = value === this.state.selected.value || value === this.state.selected;\n      var classes = (_classes = {}, _defineProperty(_classes, \"\".concat(this.props.baseClassName, \"-option\"), true), _defineProperty(_classes, option.className, !!option.className), _defineProperty(_classes, 'is-selected', isSelected), _classes);\n      var optionClass = (0, _classnames[\"default\"])(classes);\n      return _react[\"default\"].createElement(\"div\", {\n        key: value,\n        className: optionClass,\n        onMouseDown: this.setValue.bind(this, value, label),\n        onClick: this.setValue.bind(this, value, label),\n        role: \"option\",\n        \"aria-selected\": isSelected ? 'true' : 'false'\n      }, label);\n    }\n  }, {\n    key: \"buildMenu\",\n    value: function buildMenu() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          options = _this$props.options,\n          baseClassName = _this$props.baseClassName;\n      var ops = options.map(function (option) {\n        if (option.type === 'group') {\n          var groupTitle = _react[\"default\"].createElement(\"div\", {\n            className: \"\".concat(baseClassName, \"-title\")\n          }, option.name);\n\n          var _options = option.items.map(function (item) {\n            return _this2.renderOption(item);\n          });\n\n          return _react[\"default\"].createElement(\"div\", {\n            className: \"\".concat(baseClassName, \"-group\"),\n            key: option.name,\n            role: \"listbox\",\n            tabIndex: \"-1\"\n          }, groupTitle, _options);\n        } else {\n          return _this2.renderOption(option);\n        }\n      });\n      return ops.length ? ops : _react[\"default\"].createElement(\"div\", {\n        className: \"\".concat(baseClassName, \"-noresults\")\n      }, \"No options found\");\n    }\n  }, {\n    key: \"handleDocumentClick\",\n    value: function handleDocumentClick(event) {\n      if (this.mounted) {\n        if (!this.dropdownRef.current.contains(event.target)) {\n          if (this.state.isOpen) {\n            this.setState({\n              isOpen: false\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"isValueSelected\",\n    value: function isValueSelected() {\n      return typeof this.state.selected === 'string' || this.state.selected.value !== '';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames, _classNames2, _classNames3, _classNames4, _classNames5;\n\n      var _this$props2 = this.props,\n          baseClassName = _this$props2.baseClassName,\n          controlClassName = _this$props2.controlClassName,\n          placeholderClassName = _this$props2.placeholderClassName,\n          menuClassName = _this$props2.menuClassName,\n          arrowClassName = _this$props2.arrowClassName,\n          arrowClosed = _this$props2.arrowClosed,\n          arrowOpen = _this$props2.arrowOpen,\n          className = _this$props2.className;\n      var disabledClass = this.props.disabled ? 'Dropdown-disabled' : '';\n      var placeHolderValue = typeof this.state.selected === 'string' ? this.state.selected : this.state.selected.label;\n      var dropdownClass = (0, _classnames[\"default\"])((_classNames = {}, _defineProperty(_classNames, \"\".concat(baseClassName, \"-root\"), true), _defineProperty(_classNames, className, !!className), _defineProperty(_classNames, 'is-open', this.state.isOpen), _classNames));\n      var controlClass = (0, _classnames[\"default\"])((_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(baseClassName, \"-control\"), true), _defineProperty(_classNames2, controlClassName, !!controlClassName), _defineProperty(_classNames2, disabledClass, !!disabledClass), _classNames2));\n      var placeholderClass = (0, _classnames[\"default\"])((_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(baseClassName, \"-placeholder\"), true), _defineProperty(_classNames3, placeholderClassName, !!placeholderClassName), _defineProperty(_classNames3, 'is-selected', this.isValueSelected()), _classNames3));\n      var menuClass = (0, _classnames[\"default\"])((_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(baseClassName, \"-menu\"), true), _defineProperty(_classNames4, menuClassName, !!menuClassName), _classNames4));\n      var arrowClass = (0, _classnames[\"default\"])((_classNames5 = {}, _defineProperty(_classNames5, \"\".concat(baseClassName, \"-arrow\"), true), _defineProperty(_classNames5, arrowClassName, !!arrowClassName), _classNames5));\n\n      var value = _react[\"default\"].createElement(\"div\", {\n        className: placeholderClass\n      }, placeHolderValue);\n\n      var menu = this.state.isOpen ? _react[\"default\"].createElement(\"div\", {\n        className: menuClass,\n        \"aria-expanded\": \"true\"\n      }, this.buildMenu()) : null;\n      return _react[\"default\"].createElement(\"div\", {\n        ref: this.dropdownRef,\n        className: dropdownClass\n      }, _react[\"default\"].createElement(\"div\", {\n        className: controlClass,\n        onMouseDown: this.handleMouseDown.bind(this),\n        onTouchEnd: this.handleMouseDown.bind(this),\n        \"aria-haspopup\": \"listbox\"\n      }, value, _react[\"default\"].createElement(\"div\", {\n        className: \"\".concat(baseClassName, \"-arrow-wrapper\")\n      }, arrowOpen && arrowClosed ? this.state.isOpen ? arrowOpen : arrowClosed : _react[\"default\"].createElement(\"span\", {\n        className: arrowClass\n      }))), menu);\n    }\n  }]);\n\n  return Dropdown;\n}(_react.Component);\n\nDropdown.defaultProps = {\n  baseClassName: 'Dropdown'\n};\nvar _default = Dropdown;\nexports[\"default\"] = _default;\n","export default class Point {\n\n    static zero(): Point  {\n        return new Point(0,0);\n    }\n\n    constructor(public x: number, public y: number) {\n\n    }\n\n    public static fromAngle(angle: number, distance?: number) : Point {\n        return new Point(Math.cos(angle) * (distance ?? 1), Math.sin(angle) * (distance ?? 1));\n    }\n\n    public lengthSq(): number {\n        return Point.dot(this, this);\n    }\n\n    public length(): number {\n        return Math.sqrt(this.lengthSq());\n    }\n\n    public clone(): Point {\n        return new Point(this.x, this.y);\n    }\n\n    public negate(): Point {\n        return new Point(-this.x, -this.y);\n    }\n\n    public negateInPlace(): this {\n        this.x = -this.x;\n        this.y = -this.y;\n        return this;\n    }\n\n    public static dot(p1: Point, p2: Point): number {\n        return p1.x * p2.x + p1.y * p2.y;\n    }\n\n    public dotWith(other: Point): number {\n        return Point.dot(this, other);\n    }\n\n    public normalize(): Point {\n        let len = this.length();\n        return Point.multiply(this, 1 / len);\n    }\n\n    public direction(): number {\n        return Math.atan2(this.y, this.x);\n    }\n\n    public truncate(): Point {\n        return new Point(Math.trunc(this.x), Math.trunc(this.y));\n    }\n\n    public addWith(x: number, y: number): this;\n    public addWith(other: Point): this;\n    public addWith(other: number|Point, y?: number): this {\n        const {x: nx, y: ny} = splitArgs(other, y);\n        this.x += nx;\n        this.y += ny;\n        return this;\n    }\n\n    public multWith(s: number): this;\n    public multWith(x: number, y: number): this;\n    public multWith(other: Point): this;\n    public multWith(other: number|Point, y?: number): this {\n        const {x: nx, y: ny} = splitArgsOrSingle(other, y);\n        this.x *= nx;\n        this.y *= ny;\n        return this;\n    }\n\n    public subtractWith(x: number, y: number): this;\n    public subtractWith(other: Point): this;\n    public subtractWith(other: number|Point, y?: number): this {\n        const {x: nx, y: ny} = splitArgs(other, y);\n        this.x -= nx;\n        this.y -= ny;\n        return this;\n    }\n\n    public divideWith(x: number, y: number): this;\n    public divideWith(other: Point): this;\n    public divideWith(other: number|Point, y?: number): this {\n        const {x: nx, y: ny} = splitArgs(other, y);\n        this.x /= nx;\n        this.y /= ny;\n        return this;\n    }\n\n    public equals(other: Point): boolean {\n        return this.x === other.x && this.y === other.y;\n    }\n\n    \n    static add(src: Point, x: number, y: number): Point;\n    static add(src: Point, other: Point): Point;\n    static add(src: Point, other: number|Point, y?: number): Point {\n        const {x: nx, y: ny} = splitArgs(other, y);\n        return new Point(src.x + nx, src.y + ny);\n    }\n\n    static subtract(src: Point, x: number, y: number): Point;\n    static subtract(src: Point, other: Point): Point;\n    static subtract(src: Point, other: number|Point, y?: number): Point {\n        const {x: nx, y: ny} = splitArgs(other, y);\n        return new Point(src.x - nx, src.y - ny);\n    }\n\n    static multiply(a: Point, s: number, sy?: number): Point;\n    static multiply(a: Point, b: Point): Point;\n    static multiply(a: Point, b: Point|number, sy ?: number): Point {\n        if (sy !== undefined) {\n            return new Point(a.x * (b as number), a.y * sy);\n        }\n        else if ((b as any).x !== undefined) {\n            return new Point(a.x * (b as Point).x, a.y * (b as Point).y);\n        } else {\n            return new Point(a.x * (b as number), a.y * (b as number));\n        }\n    }\n\n    static interpolate(a: Point, b: Point, p: number): Point {\n        return new Point(a.x + (b.x - a.x) * p, a.y + (b.y - a.y) * p);\n    }\n\n    static componentMin(a: Point, b: Point): Point {\n        if(a.x <= b.x && a.y <= b.y) return a;\n        if(b.x <= a.x && b.y <= a.y) return b;\n        return new Point(Math.min(a.x, b.x), Math.min(a.y, b.y));\n    }\n    \n    static componentMax(a: Point, b: Point): Point {\n        if(a.x >= b.x && a.y >= b.y) return a;\n        if(b.x >= a.x && b.y >= a.y) return b;\n        return new Point(Math.max(a.x, b.x), Math.max(a.y, b.y));\n    }\n\n    static Bezier(pts: Point[], t: number): Point {\n        if(pts.length === 1) return pts[0];\n        else if(pts.length === 2) return Point.add(Point.multiply(pts[1], t), Point.multiply(pts[0], 1-t));\n        return Point.add(\n            Point.multiply(Point.Bezier(pts.slice(1), t), t),\n            Point.multiply(Point.Bezier(pts.slice(0, pts.length - 1), t), 1-t));\n    }\n\n    rotate(theta: number): Point {\n        const angle = Math.atan2(this.y, this.x);\n        const len = this.length();\n        return Point.fromAngle(angle + theta, len);\n    }\n}\n\nfunction splitArgs(x: Point|number, y ?: number): {x: number, y: number} {\n    if(y === undefined) return { x: (<Point>x).x, y: (<Point>x).y };\n    return {x: <number>x, y};\n}\n\nfunction splitArgsOrSingle(x: Point|number, y ?: number): {x: number, y: number} {\n    if(y === undefined)\n    {\n        if((x as Point).x !== undefined) {\n            return { x: (<Point>x).x, y: (<Point>x).y };\n        }\n        return { x: x as number, y: x as number };\n    } \n    return {x: <number>x, y};\n}","import * as React from 'react';\nimport Dropdown from 'react-dropdown';\n\nexport function ObjDropdownComponent<T>(props: {options: T[], getName: (item:T) => string, value: T, onChange: (item:T)=>void}) {\n    const names = props.options.map(props.getName);\n    return <Dropdown options={names} value={props.getName(props.value)} onChange={chng => props.onChange(props.options.find(v => props.getName(v) === chng.value))}></Dropdown>\n}","import FibonacciGenerator from \"./FibonacciGenerator\";\nimport FibonacciPlusOneGenerator from \"./FibonacciPlusOneGenerator\";\nimport IGenerator from \"./IGenerator\";\nimport SumOfThreeGenerator from \"./SumOfThreeGenerator\";\nimport TriangleGenerator from \"./TriangleGenerator\";\n\nexport const Generators: IGenerator[] = [\n    new FibonacciGenerator(),\n    new FibonacciPlusOneGenerator(),\n    new TriangleGenerator(),\n    new SumOfThreeGenerator(),\n]","import IGenerator from \"./IGenerator\";\n\nexport default class FibonacciGenerator implements IGenerator {\n    public name:string;\n    constructor() {\n        this.name = \"Fibonacci\";\n    }\n\n    generateSeries(seed: number[], mod: number): number[] {\n        let result = [];\n        for(let i = 0; i < seed.length; i++)\n        {\n            result.push(seed[i] % mod);\n            seed[i] %= mod;\n        }\n\n        let validateSeed = true;\n        for(let i = 0; i < result.length - 2; i++)\n        {\n            if((seed[i] + seed[i+1]) % mod !== seed[i+2]) {\n                validateSeed = false;\n            }\n        }\n\n        // If the provided seed isn't valid following fibonacci rules, it'll never ENTIRELY loop, so we just look for when we get caught in ANY loop.\n        const search = validateSeed ? seed : seed.slice(seed.length - 2, seed.length);\n\n        do {\n            result.push((result[result.length - 1] + result[result.length - 2]) % mod);\n        } while(!this.hasLooped(result, search));\n\n        result.splice(result.length - search.length + 1, search.length - 1);\n        return result;\n    }\n    \n    hasLooped(seq: number[], search: number[]): boolean\n    {\n        var seqStart = seq.length - search.length;\n        for(let i = 0; i < search.length; i++) {\n            if(seq[i + seqStart] !== search[i]) return false;\n        }\n        return true;\n    }\n}","import IGenerator from \"./IGenerator\";\n\nexport default class FibonacciPlusOneGenerator implements IGenerator {\n    public name:string;\n    constructor() {\n        this.name = \"Fibonacci +1\";\n    }\n\n    generateSeries(seed: number[], mod: number): number[] {\n        let result = [];\n        for(let i = 0; i < seed.length; i++)\n        {\n            result.push(seed[i] % mod);\n            seed[i] %= mod;\n        }\n\n        let validateSeed = true;\n        for(let i = 0; i < result.length - 2; i++)\n        {\n            if((seed[i] + seed[i+1] + 1) % mod !== seed[i+2]) {\n                validateSeed = false;\n            }\n        }\n\n        // If the provided seed isn't valid following fibonacci rules, it'll never ENTIRELY loop, so we just look for when we get caught in ANY loop.\n        const search = validateSeed ? seed : seed.slice(seed.length - 2, seed.length);\n\n        do {\n            result.push((result[result.length - 1] + result[result.length - 2] + 1) % mod);\n        } while(!this.hasLooped(result, search));\n\n        result.splice(result.length - search.length + 1, search.length - 1);\n        return result;\n    }\n    \n    hasLooped(seq: number[], search: number[]): boolean\n    {\n        var seqStart = seq.length - search.length;\n        for(let i = 0; i < search.length; i++) {\n            if(seq[i + seqStart] !== search[i]) return false;\n        }\n        return true;\n    }\n}","import IGenerator from \"./IGenerator\";\n\nexport default class TriangleGenerator implements IGenerator {\n    public name:string;\n    constructor() {\n        this.name = \"Triangle\";\n    }\n\n    generateSeries(seed: number[], mod: number): number[] {\n        let result = [];\n        for(let i = 0; i < seed.length; i++)\n        {\n            result.push(seed[i] % mod);\n            seed[i] %= mod;\n        }\n\n        let validateSeed = true;\n        for(let i = 0; i < result.length - 1; i++)\n        {\n            if((seed[i] + i + 1) % mod !== seed[i+1]) {\n                validateSeed = false;\n            }\n        }\n\n        // If the provided seed isn't valid following triangle rules, it'll (probably?) never ENTIRELY loop, so we just look for when we get caught in ANY loop.\n        const search = validateSeed ? seed[0] : seed[seed.length - 1];\n        const searchMod = validateSeed ? 0 : (seed.length - 1) % mod;\n        // We've looped once we hit the search digit, and the search mod the index mod\n\n        do {\n            result.push((result[result.length - 1] + result.length) % mod);\n        } while(!this.hasLooped(result, mod, search, searchMod));\n\n        if(validateSeed) {\n            result.splice(result.length - seed.length + 1, seed.length - 1);\n        }\n        return result;\n    }\n    \n    hasLooped(seq: number[], mod: number, search: number, searchMod: number): boolean\n    {\n        return seq[seq.length - 1] === search && (seq.length - 1)%mod === searchMod;\n    }\n}","import IGenerator from \"./IGenerator\";\n\nexport default class SumOfThreeGenerator implements IGenerator {\n    public name:string;\n    constructor() {\n        this.name = \"Sum Of Three\";\n    }\n\n    generateSeries(seed: number[], mod: number): number[] {\n        let result = [];\n\n        while(seed.length < 3) seed.splice(0,0,0);\n\n        for(let i = 0; i < seed.length; i++)\n        {\n            result.push(seed[i] % mod);\n            seed[i] %= mod;\n        }\n\n        let validateSeed = true;\n        for(let i = 0; i < result.length - 3; i++)\n        {\n            if((seed[i] + seed[i+1] + seed[i+2]) % mod !== seed[i+3]) {\n                validateSeed = false;\n            }\n        }\n\n        // If the provided seed isn't valid following fibonacci rules, it'll never ENTIRELY loop, so we just look for when we get caught in ANY loop.\n        const search = validateSeed ? seed : seed.slice(seed.length - 3, seed.length);\n\n        do {\n            result.push((result[result.length - 1] + result[result.length - 2] + result[result.length - 3]) % mod);\n        } while(!this.hasLooped(result, search));\n\n        result.splice(result.length - search.length + 1, search.length - 1);\n        return result;\n    }\n    \n    hasLooped(seq: number[], search: number[]): boolean\n    {\n        var seqStart = seq.length - search.length;\n        for(let i = 0; i < search.length; i++) {\n            if(seq[i + seqStart] !== search[i]) return false;\n        }\n        return true;\n    }\n}","import * as React from 'react';\nimport { ResizeCanvas } from '../../../projects/common/CanvasHelpers';\nimport IVisualizer from './visualizers/IVisualizer';\nimport VisualizerDef from './visualizers/VisualizerDef';\n\nexport type RenderStateComponentProps = {animate: boolean, animationDuration: number, visualizer: IVisualizer };\nexport type RenderStateComponentState = {};\nconst CVS_SIZE = 500;\nconst LINE_SIZE = 3;\n\nexport default class RenderStateComponent extends React.Component<RenderStateComponentProps, RenderStateComponentState>\n{\n    canvasRef: React.RefObject<HTMLCanvasElement>;\n    animationTick: number;\n    animationTimer: number;\n    isRunningAnimation: boolean;\n\n    constructor(props : RenderStateComponentProps) {\n        super(props);\n        this.canvasRef = React.createRef();\n        this.animationTick = 0;\n        this.animationTimer = 0;\n        this.isRunningAnimation = false;\n    }\n\n    render() {\n        return <canvas ref={this.canvasRef}>\n\n        </canvas>\n    }\n\n    componentDidMount() {\n        this.startPaint();\n    }\n    componentDidUpdate(prevProps: RenderStateComponentProps, prevState: RenderStateComponentState) {\n        if(prevProps.animate !== this.props.animate || prevProps.visualizer !== this.props.visualizer || prevProps.animationDuration !== this.props.animationDuration)\n        {\n            this.stopPreviousPaint();\n            this.startPaint();\n        }\n    }\n\n    startPaint() {\n        const canvas = this.canvasRef.current;\n        ResizeCanvas(canvas, CVS_SIZE, CVS_SIZE);\n        const ctx = canvas.getContext('2d');\n        ctx.lineWidth = LINE_SIZE;\n        this.clearCanvas(ctx);\n\n        if(!this.props.animate)\n            this.props.visualizer.paintTotal(ctx, CVS_SIZE, CVS_SIZE);\n        else {\n            this.animationTick = 0;\n            this.isRunningAnimation = true;\n            this.animationTimer = requestAnimationFrame(() => this.paintFrame(ctx));\n        }\n    }\n\n    clearCanvas(ctx: CanvasRenderingContext2D) {\n        ctx.fillStyle = 'black';\n        ctx.fillRect(0, 0, CVS_SIZE, CVS_SIZE);\n    }\n\n    stopPreviousPaint(){\n        if(this.isRunningAnimation) {\n            cancelAnimationFrame(this.animationTimer);\n        }\n    }\n\n    paintFrame(ctx: CanvasRenderingContext2D) {\n        this.animationTick++;\n        this.clearCanvas(ctx);\n        if(this.animationTick >= this.props.animationDuration * 60) {\n            this.props.visualizer.paintTotal(ctx, CVS_SIZE, CVS_SIZE);\n            this.isRunningAnimation = false;\n            this.animationTick = this.animationTimer = 0;\n        } else {\n            this.props.visualizer.paintFrame(ctx, CVS_SIZE, CVS_SIZE, this.animationTick / (this.props.animationDuration * 60));\n            this.animationTimer = requestAnimationFrame(() => this.paintFrame(ctx));\n        }\n    }\n}","import Point from \"../../../../projects/common/position/Point\";\nimport IVisualizer from \"./IVisualizer\";\n\nexport default class Dreamcatcher2Visualizer implements IVisualizer {\n\n    anchorPoints: Point[];\n    anchorArcCenterAngles: number[];\n\n    constructor(public modulo: number, public series: number[], private fixedMinorRadius?: number) {\n        this.anchorPoints = [];\n        this.anchorArcCenterAngles = [];\n        const anglePerAnchor = (Math.PI * 2) / (modulo);\n        for(let i = 0; i < this.modulo; i++) {\n            const angle = i * anglePerAnchor;\n            this.anchorPoints.push(Point.fromAngle(angle, 1));\n            this.anchorArcCenterAngles.push((Math.PI + angle) % (Math.PI * 2));\n        }\n    }\n\n    paintFrame(ctx: CanvasRenderingContext2D, width: number, height: number, animationProgress: number): void {\n\n        const actualRadius = (Math.min(width, height) / 2) - ctx.lineWidth;\n        let minorRadius = actualRadius / this.anchorPoints.length;\n        if(this.fixedMinorRadius !== undefined) {\n            minorRadius = this.fixedMinorRadius * actualRadius;\n        }\n        const indexProgress = animationProgress * (this.series.length - 1);\n        \n        ctx.strokeStyle = 'white';\n        ctx.beginPath();\n        ctx.arc(width / 2, height / 2, actualRadius, 0, Math.PI * 2, false);\n        ctx.stroke();\n        \n        ctx.strokeStyle = 'gray';\n        ctx.lineJoin = ctx.lineCap = 'round';\n        ctx.beginPath();\n\n        for(let i = 0; i < this.series.length && i < indexProgress; i++){\n            let coords = this.anchorPoints[this.series[i]].clone();\n            coords.multWith(actualRadius, actualRadius);\n            coords.addWith(width / 2, height / 2);\n            if(i === 0) ctx.moveTo(coords.x, coords.y);\n            else if(this.series[i] !== this.series[i - 1]) {\n                ctx.lineTo(coords.x, coords.y);\n            }\n            else {\n                let angleTowardsCenter = this.anchorArcCenterAngles[this.series[i]];\n                let anchor = Point.multiply(this.anchorPoints[this.series[i]], actualRadius);\n                anchor.addWith(width / 2, height / 2);\n                anchor.addWith(Point.fromAngle(angleTowardsCenter, minorRadius));\n                ctx.arc(anchor.x, anchor.y, minorRadius, angleTowardsCenter + Math.PI, angleTowardsCenter + Math.PI * 3, false);\n            }\n        }\n        const seriesIndex = Math.floor(indexProgress);\n        const progress = indexProgress % 1;\n\n        let startPoint = this.anchorPoints[this.series[seriesIndex]];\n        let endPoint = this.anchorPoints[this.series[seriesIndex + 1]];\n\n        let tgtPoint = new Point(0,0);\n\n        if(this.series[seriesIndex] !== this.series[seriesIndex + 1]){\n            tgtPoint = Point.interpolate(startPoint, endPoint, progress);\n            tgtPoint.multWith(actualRadius, actualRadius);\n            tgtPoint.addWith(width / 2, height / 2);\n\n            ctx.lineTo(tgtPoint.x, tgtPoint.y);\n            ctx.stroke();\n        } else {\n            let angleTowardsCenter = this.anchorArcCenterAngles[this.series[seriesIndex]];\n            let anchor = Point.multiply(startPoint, actualRadius);\n\n            anchor.addWith(width / 2, height / 2);\n            anchor.addWith(Point.fromAngle(angleTowardsCenter, minorRadius));\n\n            const endAngle = angleTowardsCenter + Math.PI + (Math.PI * 2 * progress);\n\n            tgtPoint.x = Math.cos(endAngle) * minorRadius + anchor.x;\n            tgtPoint.y = Math.sin(endAngle) * minorRadius + anchor.y;\n\n            ctx.arc(anchor.x, anchor.y, minorRadius, angleTowardsCenter + Math.PI, endAngle, false);\n            ctx.stroke();\n        }\n\n        ctx.strokeStyle = 'red';\n        ctx.beginPath();\n        ctx.arc(tgtPoint.x, tgtPoint.y, ctx.lineWidth * 2, 0, Math.PI * 2, false);\n        ctx.stroke();\n    }\n\n    paintTotal(ctx: CanvasRenderingContext2D, width: number, height: number): void {\n        const actualRadius = (Math.min(width, height) / 2) - ctx.lineWidth;\n        let minorRadius = actualRadius / this.anchorPoints.length;\n        if(this.fixedMinorRadius !== undefined) {\n            minorRadius = this.fixedMinorRadius * actualRadius;\n        }\n\n        ctx.strokeStyle = 'white';\n        ctx.beginPath();\n        ctx.arc(width / 2, height / 2, actualRadius, 0, Math.PI * 2, false);\n        ctx.stroke();\n        \n        ctx.strokeStyle = 'gray';\n        ctx.lineJoin = ctx.lineCap = 'round';\n        ctx.beginPath();\n        for(let i = 0; i < this.series.length; i++){\n            let coords = this.anchorPoints[this.series[i]].clone();\n            coords.multWith(actualRadius, actualRadius);\n            coords.addWith(width / 2, height / 2);\n            if(i === 0) ctx.moveTo(coords.x, coords.y);\n            else if(this.series[i] !== this.series[i - 1]) {\n                ctx.lineTo(coords.x, coords.y);\n            }\n            else {\n                let angleTowardsCenter = this.anchorArcCenterAngles[this.series[i]];\n                let anchor = Point.multiply(this.anchorPoints[this.series[i]], actualRadius);\n                anchor.addWith(width / 2, height / 2);\n                anchor.addWith(Point.fromAngle(angleTowardsCenter, minorRadius));\n                ctx.arc(anchor.x, anchor.y, minorRadius, angleTowardsCenter + Math.PI, angleTowardsCenter + Math.PI * 3, false);\n            }\n        }\n        ctx.stroke();\n    }\n}","import Point from \"../../../../projects/common/position/Point\";\nimport IVisualizer from \"./IVisualizer\";\n\nexport default class DreamcatcherVisualizer implements IVisualizer {\n\n    anchorPoints: Point[];\n\n    constructor(public modulo: number, public series: number[]) {\n        this.anchorPoints = [];\n        const anglePerAnchor = (Math.PI * 2) / (modulo);\n        for(let i = 0; i < this.modulo; i++)\n        {\n            const angle = i * anglePerAnchor;\n            this.anchorPoints.push(Point.fromAngle(angle, 1));\n        }\n    }\n\n    paintFrame(ctx: CanvasRenderingContext2D, width: number, height: number, animationProgress: number): void {\n        const actualRadius = (Math.min(width, height) / 2) - ctx.lineWidth;\n        const indexProgress = animationProgress * (this.series.length - 1);\n        \n        ctx.strokeStyle = 'white';\n        ctx.beginPath();\n        ctx.arc(width / 2, height / 2, actualRadius, 0, Math.PI * 2, false);\n        ctx.stroke();\n        \n        ctx.strokeStyle = 'gray';\n        ctx.lineJoin = ctx.lineCap = 'round';\n        ctx.beginPath();\n        for(let i = 0; i < this.series.length && i < indexProgress; i++){\n            let coords = this.anchorPoints[this.series[i]].clone();\n            coords.multWith(actualRadius, actualRadius);\n            coords.addWith(width / 2, height / 2);\n            if(i === 0) ctx.moveTo(coords.x, coords.y);\n            else ctx.lineTo(coords.x, coords.y);\n        }\n        const seriesIndex = Math.floor(indexProgress);\n        const progress = indexProgress % 1;\n        let startPoint = this.anchorPoints[this.series[seriesIndex]];\n        let endPoint = this.anchorPoints[this.series[seriesIndex + 1]];\n\n        const tgtPoint = Point.interpolate(startPoint, endPoint, progress);\n        tgtPoint.multWith(actualRadius, actualRadius);\n        tgtPoint.addWith(width / 2, height / 2);\n\n        ctx.lineTo(tgtPoint.x, tgtPoint.y);\n        ctx.stroke();\n\n        ctx.strokeStyle = 'red';\n        ctx.beginPath();\n        ctx.arc(tgtPoint.x, tgtPoint.y, ctx.lineWidth * 2, 0, Math.PI * 2, false);\n        ctx.stroke();\n    }\n\n    paintTotal(ctx: CanvasRenderingContext2D, width: number, height: number): void {\n        const actualRadius = (Math.min(width, height) / 2) - ctx.lineWidth;\n\n        ctx.strokeStyle = 'white';\n        ctx.beginPath();\n        ctx.arc(width / 2, height / 2, actualRadius, 0, Math.PI * 2, false);\n        ctx.stroke();\n        \n        ctx.strokeStyle = 'gray';\n        ctx.lineJoin = ctx.lineCap = 'round';\n        ctx.beginPath();\n        for(let i = 0; i < this.series.length; i++){\n            let coords = this.anchorPoints[this.series[i]].clone();\n            coords.multWith(actualRadius, actualRadius);\n            coords.addWith(width / 2, height / 2);\n            if(i === 0) ctx.moveTo(coords.x, coords.y);\n            else ctx.lineTo(coords.x, coords.y);\n        }\n        ctx.stroke();\n    }\n}","import Point from \"../../../../projects/common/position/Point\";\nimport CoreState from \"../../../../projects/corewar/CoreState\";\nimport IVisualizer from \"./IVisualizer\";\n\nconst MARGIN = 0.1;\n\nexport default class RelativeWalkVisualizer implements IVisualizer {\n\n    pts: Point[];\n    minExtent: Point;\n    maxExtent: Point;\n\n    constructor(public modulo: number, public series: number[]) {\n        const currentPoint = new Point(0,0);\n        this.pts = [currentPoint.clone()];\n        this.minExtent = currentPoint.clone();\n        this.maxExtent = currentPoint.clone();\n\n        let anglePerModulo = (Math.PI * 2) / modulo;\n        let angle = 0;\n\n        for(let i = 0; i < series.length; i++) {\n            angle += anglePerModulo * series[i];\n            currentPoint.addWith(Point.fromAngle(angle));\n            var pt = currentPoint.clone();\n            this.minExtent = Point.componentMin(this.minExtent, pt);\n            this.maxExtent = Point.componentMax(this.maxExtent, pt);\n            this.pts.push(pt);\n        }\n        // Normalize all points to [0, 1]\n        for(let i = 0; i < this.pts.length; i++) {\n            this.pts[i] = new Point(\n                (this.pts[i].x - this.minExtent.x) / (this.maxExtent.x - this.minExtent.x),\n                (this.pts[i].y - this.minExtent.y) / (this.maxExtent.y - this.minExtent.y)\n            );\n        }\n    }\n\n    paintFrame(ctx: CanvasRenderingContext2D, width: number, height: number, animationProgress: number): void {\n        ctx.save();\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\n        ctx.scale(1-MARGIN, 1-MARGIN);\n        ctx.strokeStyle = 'gray';\n        ctx.lineJoin = ctx.lineCap = 'round';\n\n        const indexProgress = animationProgress * (this.pts.length - 1);\n        const seriesIndex = Math.floor(indexProgress);\n        const progress = indexProgress % 1;\n\n\n        ctx.beginPath();\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\n        for(let i = 1; i < this.pts.length && i < indexProgress; i++){\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\n        }\n        let startPoint = this.pts[seriesIndex];\n        let endPoint = this.pts[seriesIndex + 1];\n        const tgtPoint = Point.interpolate(startPoint, endPoint, progress);\n        tgtPoint.multWith(width, height);\n        ctx.lineTo(tgtPoint.x, tgtPoint.y)\n        ctx.stroke();\n\n        ctx.strokeStyle = 'red';\n        ctx.beginPath();\n        ctx.arc(tgtPoint.x, tgtPoint.y, ctx.lineWidth * 2, 0, Math.PI * 2, false);\n        ctx.stroke();\n        ctx.restore();\n    }\n\n    paintTotal(ctx: CanvasRenderingContext2D, width: number, height: number): void {\n        ctx.save();\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\n        ctx.scale(1-MARGIN, 1-MARGIN);\n        ctx.strokeStyle = 'gray';\n        ctx.lineJoin = ctx.lineCap = 'round';\n\n        ctx.beginPath();\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\n        for(let i = 1; i < this.pts.length; i++){\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\n        }\n        ctx.stroke();\n        ctx.restore();\n    }\n}","import Point from \"../../../../projects/common/position/Point\";\nimport CoreState from \"../../../../projects/corewar/CoreState\";\nimport IVisualizer from \"./IVisualizer\";\n\nconst MARGIN = 0.1;\nconst dirs = [\n    new Point(1, 0),\n    new Point(0, 1),\n    new Point(-1, 0),\n    new Point(0, -1),\n]\n\nexport default class SquareWalkNoZeroVisualizer implements IVisualizer {\n\n    pts: Point[];\n    minExtent: Point;\n    maxExtent: Point;\n\n    constructor(public modulo: number, public series: number[]) {\n        const currentPoint = new Point(0,0);\n        this.pts = [currentPoint.clone()];\n        this.minExtent = currentPoint.clone();\n        this.maxExtent = currentPoint.clone();\n        let dir = 0;\n\n        for(let i = 0; i < series.length; i++) {\n            dir = series[i] % 2 == 0 ? dir + 1\n                : dir-1;\n            dir += dirs.length;\n            dir %= dirs.length;\n            currentPoint.addWith(dirs[dir]);\n            var pt = currentPoint.clone();\n            this.minExtent = Point.componentMin(this.minExtent, pt);\n            this.maxExtent = Point.componentMax(this.maxExtent, pt);\n            this.pts.push(pt);\n        }\n        if(this.minExtent.x === this.maxExtent.x){\n            this.minExtent.x = -1;\n            this.maxExtent.x = 1;\n        }\n        if(this.minExtent.y === this.maxExtent.y){\n            this.minExtent.y = -1;\n            this.maxExtent.y = 1;\n        }\n        // Normalize all points to [0, 1]\n        for(let i = 0; i < this.pts.length; i++) {\n            this.pts[i] = new Point(\n                (this.pts[i].x - this.minExtent.x) / (this.maxExtent.x - this.minExtent.x),\n                (this.pts[i].y - this.minExtent.y) / (this.maxExtent.y - this.minExtent.y)\n            );\n        }\n    }\n\n    paintFrame(ctx: CanvasRenderingContext2D, width: number, height: number, animationProgress: number): void {\n        ctx.save();\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\n        ctx.scale(1-MARGIN, 1-MARGIN);\n        ctx.strokeStyle = 'gray';\n        ctx.lineJoin = ctx.lineCap = 'round';\n\n        const indexProgress = animationProgress * (this.pts.length - 1);\n        const seriesIndex = Math.floor(indexProgress);\n        const progress = indexProgress % 1;\n\n\n        ctx.beginPath();\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\n        for(let i = 1; i < this.pts.length && i < indexProgress; i++){\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\n        }\n        let startPoint = this.pts[seriesIndex];\n        let endPoint = this.pts[seriesIndex + 1];\n        const tgtPoint = Point.interpolate(startPoint, endPoint, progress);\n        tgtPoint.multWith(width, height);\n        ctx.lineTo(tgtPoint.x, tgtPoint.y)\n        ctx.stroke();\n\n        ctx.strokeStyle = 'red';\n        ctx.beginPath();\n        ctx.arc(tgtPoint.x, tgtPoint.y, ctx.lineWidth * 2, 0, Math.PI * 2, false);\n        ctx.stroke();\n        ctx.restore();\n    }\n\n    paintTotal(ctx: CanvasRenderingContext2D, width: number, height: number): void {\n        ctx.save();\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\n        ctx.scale(1-MARGIN, 1-MARGIN);\n        ctx.strokeStyle = 'gray';\n        ctx.lineJoin = ctx.lineCap = 'round';\n\n        ctx.beginPath();\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\n        for(let i = 1; i < this.pts.length; i++){\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\n        }\n        ctx.stroke();\n        ctx.restore();\n    }\n}","import Point from \"../../../../projects/common/position/Point\";\nimport CoreState from \"../../../../projects/corewar/CoreState\";\nimport IVisualizer from \"./IVisualizer\";\n\nconst MARGIN = 0.1;\nconst dirs = [\n    new Point(1, 0),\n    new Point(0, 1),\n    new Point(-1, 0),\n    new Point(0, -1),\n]\n\nexport default class SquareWalkVisualizer implements IVisualizer {\n\n    pts: Point[];\n    minExtent: Point;\n    maxExtent: Point;\n\n    constructor(public modulo: number, public series: number[]) {\n        const currentPoint = new Point(0,0);\n        this.pts = [currentPoint.clone()];\n        this.minExtent = currentPoint.clone();\n        this.maxExtent = currentPoint.clone();\n        let dir = 0;\n\n        for(let i = 0; i < series.length; i++) {\n            dir = series[i] === 0 ? dir :\n                series[i] % 2 == 0 ? dir + 1\n                : dir-1;\n            dir += dirs.length;\n            dir %= dirs.length;\n            currentPoint.addWith(dirs[dir]);\n            var pt = currentPoint.clone();\n            this.minExtent = Point.componentMin(this.minExtent, pt);\n            this.maxExtent = Point.componentMax(this.maxExtent, pt);\n            this.pts.push(pt);\n        }\n        if(this.minExtent.x === this.maxExtent.x){\n            this.minExtent.x = -1;\n            this.maxExtent.x = 1;\n        }\n        if(this.minExtent.y === this.maxExtent.y){\n            this.minExtent.y = -1;\n            this.maxExtent.y = 1;\n        }\n        // Normalize all points to [0, 1]\n        for(let i = 0; i < this.pts.length; i++) {\n            this.pts[i] = new Point(\n                (this.pts[i].x - this.minExtent.x) / (this.maxExtent.x - this.minExtent.x),\n                (this.pts[i].y - this.minExtent.y) / (this.maxExtent.y - this.minExtent.y)\n            );\n        }\n    }\n\n    paintFrame(ctx: CanvasRenderingContext2D, width: number, height: number, animationProgress: number): void {\n        ctx.save();\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\n        ctx.scale(1-MARGIN, 1-MARGIN);\n        ctx.strokeStyle = 'gray';\n        ctx.lineJoin = ctx.lineCap = 'round';\n\n        const indexProgress = animationProgress * (this.pts.length - 1);\n        const seriesIndex = Math.floor(indexProgress);\n        const progress = indexProgress % 1;\n\n\n        ctx.beginPath();\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\n        for(let i = 1; i < this.pts.length && i < indexProgress; i++){\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\n        }\n        let startPoint = this.pts[seriesIndex];\n        let endPoint = this.pts[seriesIndex + 1];\n        const tgtPoint = Point.interpolate(startPoint, endPoint, progress);\n        tgtPoint.multWith(width, height);\n        ctx.lineTo(tgtPoint.x, tgtPoint.y)\n        ctx.stroke();\n\n        ctx.strokeStyle = 'red';\n        ctx.beginPath();\n        ctx.arc(tgtPoint.x, tgtPoint.y, ctx.lineWidth * 2, 0, Math.PI * 2, false);\n        ctx.stroke();\n        ctx.restore();\n    }\n\n    paintTotal(ctx: CanvasRenderingContext2D, width: number, height: number): void {\n        ctx.save();\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\n        ctx.scale(1-MARGIN, 1-MARGIN);\n        ctx.strokeStyle = 'gray';\n        ctx.lineJoin = ctx.lineCap = 'round';\n\n        ctx.beginPath();\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\n        for(let i = 1; i < this.pts.length; i++){\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\n        }\n        ctx.stroke();\n        ctx.restore();\n    }\n}","import IVisualizer from \"./IVisualizer\";\n\nexport default class VisualizerDef {\n    constructor(public name: string, public generate: (mod: number, series: number[])=>IVisualizer)\n    {\n\n    }\n}","import Point from \"../../../../projects/common/position/Point\";\nimport CoreState from \"../../../../projects/corewar/CoreState\";\nimport IVisualizer from \"./IVisualizer\";\n\nconst MARGIN = 0.1;\n\nexport default class WalkVisualizer implements IVisualizer {\n\n    pts: Point[];\n    minExtent: Point;\n    maxExtent: Point;\n\n    constructor(public modulo: number, public series: number[]) {\n        const currentPoint = new Point(0,0);\n        this.pts = [currentPoint.clone()];\n        this.minExtent = currentPoint.clone();\n        this.maxExtent = currentPoint.clone();\n\n        let anglePerModulo = (Math.PI * 2) / modulo;\n\n        for(let i = 0; i < series.length; i++) {\n            const angle = anglePerModulo * series[i];\n            currentPoint.addWith(Point.fromAngle(angle));\n            var pt = currentPoint.clone();\n            this.minExtent = Point.componentMin(this.minExtent, pt);\n            this.maxExtent = Point.componentMax(this.maxExtent, pt);\n            this.pts.push(pt);\n        }\n        // Normalize all points to [0, 1]\n        for(let i = 0; i < this.pts.length; i++) {\n            this.pts[i] = new Point(\n                (this.pts[i].x - this.minExtent.x) / (this.maxExtent.x - this.minExtent.x),\n                (this.pts[i].y - this.minExtent.y) / (this.maxExtent.y - this.minExtent.y)\n            );\n        }\n    }\n\n    paintFrame(ctx: CanvasRenderingContext2D, width: number, height: number, animationProgress: number): void {\n        ctx.save();\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\n        ctx.scale(1-MARGIN, 1-MARGIN);\n        ctx.strokeStyle = 'gray';\n        ctx.lineJoin = ctx.lineCap = 'round';\n\n        const indexProgress = animationProgress * (this.pts.length - 1);\n        const seriesIndex = Math.floor(indexProgress);\n        const progress = indexProgress % 1;\n\n\n        ctx.beginPath();\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\n        for(let i = 1; i < this.pts.length && i < indexProgress; i++){\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\n        }\n        let startPoint = this.pts[seriesIndex];\n        let endPoint = this.pts[seriesIndex + 1];\n        const tgtPoint = Point.interpolate(startPoint, endPoint, progress);\n        tgtPoint.multWith(width, height);\n        ctx.lineTo(tgtPoint.x, tgtPoint.y)\n        ctx.stroke();\n\n        ctx.strokeStyle = 'red';\n        ctx.beginPath();\n        ctx.arc(tgtPoint.x, tgtPoint.y, ctx.lineWidth * 2, 0, Math.PI * 2, false);\n        ctx.stroke();\n        ctx.restore();\n    }\n\n    paintTotal(ctx: CanvasRenderingContext2D, width: number, height: number): void {\n        ctx.save();\n        ctx.translate(width * MARGIN / 2, height * MARGIN / 2);\n        ctx.scale(1-MARGIN, 1-MARGIN);\n        ctx.strokeStyle = 'gray';\n        ctx.lineJoin = ctx.lineCap = 'round';\n\n        ctx.beginPath();\n        ctx.moveTo(this.pts[0].x * width, this.pts[0].y * height);\n        for(let i = 1; i < this.pts.length; i++){\n            ctx.lineTo(this.pts[i].x * width, this.pts[i].y * height)\n        }\n        ctx.stroke();\n        ctx.restore();\n    }\n}","import Dreamcatcher2Visualizer from \"./Dreamcatcher2Visualizer\"\nimport DreamcatcherVisualizer from \"./DreamcatcherVisualizer\"\nimport RelativeWalkVisualizer from \"./RelativeWalkVisualizer\"\nimport SquareWalkNoZeroVisualizer from \"./SquareWalkNoZeroVisualizer\"\nimport SquareWalkVisualizer from \"./SquareWalkVisualizer\"\nimport VisualizerDef from \"./VisualizerDef\"\nimport WalkVisualizer from \"./WalkVisualizer\"\n\nexport const Visualizers: VisualizerDef[] = [\n    new VisualizerDef('Dreamcatcher', (m, s) => new Dreamcatcher2Visualizer(m, s, 0.4)),\n    new VisualizerDef('Dreamcatcher (Small Rings)', (m, s) => new Dreamcatcher2Visualizer(m, s)),\n    new VisualizerDef('Dreamcatcher (No Rings)', (m, s) => new DreamcatcherVisualizer(m, s)),\n    new VisualizerDef('Angle Walk (Absolute)', (m, s) => new WalkVisualizer(m, s)),\n    new VisualizerDef('Angle Walk (Relative)', (m, s) => new RelativeWalkVisualizer(m, s)),\n    new VisualizerDef('Square Walk', (m, s) => new SquareWalkVisualizer(m, s)),\n    new VisualizerDef('Square Walk (No Zero)', (m, s) => new SquareWalkNoZeroVisualizer(m, s)),\n]","import * as React from 'react';\nimport { render } from 'react-dom';\nimport ReactDropdown from 'react-dropdown';\nimport Dropdown from 'react-dropdown';\nimport { ObjDropdownComponent } from '../../common/ObjDropdownComponent';\nimport { Generators } from './generators';\nimport IGenerator from './generators/IGenerator';\nimport RenderStateComponent, { RenderStateComponentProps } from './RenderStateComponent';\nimport { Visualizers } from './visualizers'; \nimport VisualizerDef from './visualizers/VisualizerDef';\n\ntype RenderArgs = {seed: number[], modulo: number};\ntype ArgParseResult = RenderArgs | {seedError?: string, moduloError?: string};\n\nfunction tryParse(seed: string, modulo: string): ArgParseResult {\n    const digits = seed.split(' ').map(v => v.trim()).filter(v => v != '');\n    const seedOut = [];\n    for(let i = 0; i < digits.length; i++){\n        seedOut.push(parseInt(digits[i]))\n        if(isNaN(seedOut[i]))\n        {\n            return { seedError: `Failed to parse seed value ${digits[i]}` };\n        }\n    }\n    if(seedOut.length < 2) return {seedError: `Seed must have a length of at least 2`};\n\n    const modParse = parseInt(modulo);\n    if(isNaN(modParse)) return { moduloError: `Failed to parse modulus ${modulo}` };\n    return {seed: seedOut, modulo: modParse};\n}\n\nfunction isSuccess(res: ArgParseResult): res is {seed:number[], modulo:number} {\n    return (res as any).seed !== undefined;\n}\n\nexport default function FibvisComponent() {\n    let [seed, setSeed] = React.useState('0 1');\n    let [modulo, setModulo] = React.useState('3');\n    let [animate, setAnimate] = React.useState(true);\n\n    let [RenderState, setRenderState] = React.useState<RenderStateComponentProps | null>(null);\n    let [visualizer, setVisualizer] = React.useState(Visualizers[0]);\n    let [generator, setGenerator] = React.useState(Generators[0]);\n    let [animationTime, setAnimationTime] = React.useState(5);\n\n    let parseResult = tryParse(seed, modulo);\n    let parseSucceed = isSuccess(parseResult);\n\n    React.useEffect(()=>{\n        if(parseSucceed) {\n            const modulo = (parseResult as RenderArgs).modulo;\n            const series = generator.generateSeries((parseResult as RenderArgs).seed, modulo);\n            setRenderState({ animate, visualizer: visualizer.generate(modulo, series), animationDuration: animationTime });\n        }\n    }, [animate, parseSucceed, (parseResult as RenderArgs).modulo, visualizer, generator, animationTime, JSON.stringify((parseResult as RenderArgs).seed)]);\n\n    return <div className='flex col align-center'>\n        <div className='flex col' style={{ maxWidth:'800px' }}>\n                <div className='flex row justify-space-between' >\n                    <label>Seed Values: </label>\n                    <input type='text' value={seed} onChange={v => setSeed(v.target.value)} style={{marginLeft: '8px'}} />\n                </div>\n\n                <div className='flex row justify-space-between' >\n                    <label>Modulo: </label>\n                    <input type='number' value={modulo} onChange={v => setModulo(v.target.value)} style={{marginLeft: '8px'}} />\n                </div>\n\n                <div className='flex row justify-space-between' >\n                    <label>Animation Duration: </label>\n                    <div>\n                        { animate ? <input type='number' value={animationTime} onChange={v => setAnimationTime(v.target.valueAsNumber)} /> : <></> }\n                        <input type='checkbox' checked={animate} onChange={v => setAnimate(v.target.checked)} style={{marginLeft: '8px'}} />\n                    </div>\n                </div>\n                <div className='flex row justify-space-between align-center' >\n                    <label>Generator: </label>\n                    <ObjDropdownComponent<IGenerator> options={Generators} getName={v => v.name} value={generator} onChange={g => setGenerator(g)} />\n                </div>\n                \n                <div className='flex row justify-space-between align-center' >\n                    <label>Visualizer: </label>\n                    <ObjDropdownComponent<VisualizerDef> options={Visualizers} getName={(v) => v.name} value={visualizer} onChange={(c) => setVisualizer(c)} />\n                </div>\n        </div>\n        {RenderState !== null ? <RenderStateComponent {...RenderState} /> : <></>}\n        </div>  ;\n}"],"names":["hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","module","exports","default","obj","_react","__esModule","_typeof","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","prototype","desc","set","_interopRequireWildcard","_classnames","WeakMap","Symbol","iterator","constructor","_defineProperty","value","enumerable","configurable","writable","_defineProperties","target","props","descriptor","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","p","DEFAULT_PLACEHOLDER_STRING","Dropdown","_Component","_this","instance","Constructor","TypeError","_classCallCheck","this","_possibleConstructorReturn","state","selected","parseValue","options","label","placeholder","isOpen","dropdownRef","createRef","mounted","handleDocumentClick","bind","fireChangeEvent","protoProps","subClass","superClass","create","_inherits","prevProps","setState","document","addEventListener","removeEventListener","event","onFocus","type","button","stopPropagation","preventDefault","disabled","option","num","match","items","filter","item","newState","onChange","_classes","isSelected","concat","baseClassName","className","optionClass","createElement","onMouseDown","setValue","onClick","role","_this2","_this$props","ops","map","groupTitle","name","_options","renderOption","tabIndex","current","contains","_classNames","_classNames2","_classNames3","_classNames4","_classNames5","_this$props2","controlClassName","placeholderClassName","menuClassName","arrowClassName","arrowClosed","arrowOpen","disabledClass","placeHolderValue","dropdownClass","controlClass","placeholderClass","isValueSelected","menuClass","arrowClass","menu","buildMenu","ref","handleMouseDown","onTouchEnd","Component","defaultProps","_default","Point","x","y","static","angle","distance","Math","cos","sin","lengthSq","dot","sqrt","clone","negate","negateInPlace","p1","p2","dotWith","other","normalize","len","multiply","direction","atan2","truncate","trunc","addWith","nx","ny","splitArgs","multWith","undefined","splitArgsOrSingle","subtractWith","divideWith","equals","src","a","b","sy","min","max","pts","t","add","Bezier","slice","rotate","theta","fromAngle","ObjDropdownComponent","names","getName","chng","find","v","Generators","generateSeries","seed","mod","result","validateSeed","search","hasLooped","splice","seq","seqStart","searchMod","CVS_SIZE","RenderStateComponent","super","canvasRef","animationTick","animationTimer","isRunningAnimation","render","componentDidMount","startPaint","componentDidUpdate","prevState","animate","visualizer","animationDuration","stopPreviousPaint","canvas","ctx","getContext","lineWidth","clearCanvas","requestAnimationFrame","paintFrame","paintTotal","fillStyle","fillRect","cancelAnimationFrame","Dreamcatcher2Visualizer","modulo","series","fixedMinorRadius","anchorPoints","anchorArcCenterAngles","anglePerAnchor","PI","width","height","animationProgress","actualRadius","minorRadius","indexProgress","strokeStyle","beginPath","arc","stroke","lineJoin","lineCap","coords","moveTo","lineTo","angleTowardsCenter","anchor","seriesIndex","floor","progress","startPoint","endPoint","tgtPoint","endAngle","DreamcatcherVisualizer","MARGIN","RelativeWalkVisualizer","currentPoint","minExtent","maxExtent","anglePerModulo","pt","save","translate","scale","restore","dirs","SquareWalkNoZeroVisualizer","dir","SquareWalkVisualizer","VisualizerDef","generate","WalkVisualizer","Visualizers","m","s","FibvisComponent","setSeed","setModulo","setAnimate","RenderState","setRenderState","setVisualizer","generator","setGenerator","animationTime","setAnimationTime","parseResult","digits","split","trim","seedOut","parseInt","isNaN","seedError","modParse","moduloError","tryParse","parseSucceed","JSON","stringify","style","maxWidth","marginLeft","valueAsNumber","checked","g","c"],"sourceRoot":""}