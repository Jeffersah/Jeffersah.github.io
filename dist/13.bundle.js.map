{"version":3,"sources":["webpack:///./src/projects/glsl-fracaudio/AmplitudeMode.ts","webpack:///./src/projects/glsl-fracaudio/ColorFunctions/FireColor.ts","webpack:///./src/projects/glsl-fracaudio/ColorFunctions/GrayscaleColor.ts","webpack:///./src/projects/glsl-fracaudio/ColorFunctions/HueColor.ts","webpack:///./src/projects/glsl-fracaudio/FractalAudioPlayer.ts","webpack:///./src/projects/glsl-fracaudio/Fractals/BurningShip.ts","webpack:///./src/projects/glsl-fracaudio/Fractals/Feather.ts","webpack:///./src/projects/glsl-fracaudio/Fractals/Mandelbrot.ts","webpack:///./src/projects/glsl-fracaudio/Fractals/Square.ts","webpack:///./src/projects/glsl-fracaudio/ShaderCode.ts","webpack:///./src/projects/glsl-fracaudio/GlslFrameRenderer.ts","webpack:///./src/projects/glsl-fracaudio/RendererWrapperComponent.ts","webpack:///./src/views/projects/glsl-fracaudio/GlslFractalAudioComponent.tsx","webpack:///./src/projects/common/position/Point.ts","webpack:///./node_modules/react-dropdown/dist/index.js","webpack:///./node_modules/classnames/index.js","webpack:///./src/projects/common/3d/GlslHelpers.ts","webpack:///./src/views/common/ObjDropdownComponent.tsx"],"names":["Name","min","max","range","subtract","real","imaginary","deltaSize","delta","add","shaderFunction","canvas","amplitude","clientWidth","clientHeight","this","ctx","getContext","strokeStyle","audio","AudioContext","gain","createGain","value","connect","destination","close","point","fractal","currentAudio","stop","clearRect","width","height","start","beginPath","Complex","maxBounds","negate","minBounds","i","arr","length","xp","yp","tgtX","tgtY","moveTo","lineTo","stroke","Array","sampleRate","init","z","Init","Infinity","Iterate","Math","result","GetAmplitude","tgt","buffer","createBuffer","upsampleRate","source","createBufferSource","channelData","getChannelData","index","prev","floor","next","ceil","percent","interpReal","interp","interpImaginary","perc","cos","ShaderCode","MaxAmplitude","c","tx","ty","abs","div","mult","multiplyWith","scalarMultiply","addWith","dotz","absSq","dotc","GENERAL_SHADER","color","bounds","onMiddleClick","cursor_anchor","mm_down","gl","touch_anchors","canvasRange","windowRange","fragment_code","replace","CreateShaderCode","clearColor","clear","COLOR_BUFFER_BIT","initProgram","program","renderFrame","addEventListener","e","button","Point","offsetX","offsetY","GetPercentage","GetValue","x","y","undefined","preventDefault","dx","dy","panCameraByScreenDelta","scalePercentage","deltaY","scalePerc","pow","AspectScale","ev","targetTouches","touch","item","identifier","touchOffset","touches","moves","pos","oldPos","push","dragStart","Multiply","dragEnd","worldPos","SubtractWith","scaleAmt","Length","ShiftByPercentage","uniform1f","getUniformLocation","uniform2fv","xRange","yRange","target","getBoundingClientRect","pageX","left","pageY","top","colorFunction","audioPlayer","mandelbrot","w","h","jpt","playSound","run","cleanup","pt","Play","fractals","colors","GlslFractalAudioComponent","overlayCanvas","frac","setFrac","setAmplitude","setColor","current","renderer","Cleanup","className","style","position","ref","pointerEvents","background","ObjDropdownComponent","options","getName","f","onChange","a","bottom","textAlign","href","angle","distance","sin","Dot","sqrt","LengthSq","p1","p2","other","len","atan2","nx","ny","splitArgs","splitArgsOrSingle","src","b","sy","p","pts","t","Bezier","slice","theta","fromAngle","Object","defineProperty","exports","_react","obj","__esModule","_typeof","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_interopRequireWildcard","_reactDom","_interopRequireDefault","_classnames","WeakMap","Symbol","iterator","constructor","_defineProperty","enumerable","configurable","writable","_defineProperties","props","descriptor","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","Dropdown","_Component","_this","instance","Constructor","TypeError","_classCallCheck","state","selected","parseValue","label","placeholder","isOpen","mounted","handleDocumentClick","bind","fireChangeEvent","protoProps","staticProps","subClass","superClass","create","_inherits","newProps","setState","document","removeEventListener","event","onFocus","type","stopPropagation","disabled","option","num","match","items","filter","newState","_classes","isSelected","classes","concat","baseClassName","optionClass","createElement","onMouseDown","setValue","onClick","role","_this2","_this$props","ops","map","groupTitle","name","_options","renderOption","tabIndex","findDOMNode","contains","_classNames","_classNames2","_classNames3","_classNames4","_classNames5","_this$props2","controlClassName","placeholderClassName","menuClassName","arrowClassName","arrowClosed","arrowOpen","disabledClass","placeHolderValue","dropdownClass","controlClass","placeholderClass","isValueSelected","menuClass","arrowClass","menu","buildMenu","handleMouseDown","onTouchEnd","Component","defaultProps","_default","hasOwn","classNames","arguments","arg","argType","isArray","inner","apply","join","module","default","loadShader","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","console","error","alert","VERTEX_SHADER","FRAGMENT_SHADER","getShaderInfoLog","deleteShader","initShaderProgram","vertexShaderSource","fragmentShaderSource","vertexShader","fragmentShader","shaderProgram","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","shaderDrawMultiple","positionBuffer","positionNumComponents","renderMode","drawCounts","getGeom","bindUniforms","clearDepth","enable","DEPTH_TEST","depthFunc","LEQUAL","DEPTH_BUFFER_BIT","FLOAT","normalize","stride","offset","bindBuffer","ARRAY_BUFFER","vertexAttribPointer","getAttribLocation","enableVertexAttribArray","useProgram","bufferOffset","bufferCount","drawArrays","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","fragmentShaderOnlyDraw","numComponents","fragmentShaderOnlyInitBuffer","right","l","r","positions","bufferData","Float32Array","STATIC_DRAW","initGLBuffer","components","defaultVertexShader","names","chng","find","v"],"mappings":"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","file":"13.bundle.js","sourcesContent":["import { Complex } from \"../common\";\r\n\r\nexport interface IAmplitudeFunction {\r\n    Name: string;\r\n    GetAmplitude(min: Complex, max: Complex): { min: Complex, max: Complex };\r\n}\r\n\r\nclass DefaultAmplitudeFunction implements IAmplitudeFunction {\r\n    Name: string = 'Fill';\r\n    GetAmplitude(min: Complex, max: Complex): {min: Complex, max: Complex}\r\n    {\r\n        return {min, max};\r\n    }\r\n}\r\n\r\nclass FixedAspectAmplitudeFunction implements IAmplitudeFunction {\r\n    Name: string = 'Square';\r\n    GetAmplitude(min: Complex, max: Complex): {min: Complex, max: Complex}\r\n    {\r\n        const range = Complex.subtract(max, min);\r\n        if(range.real === range.imaginary) return {min, max};\r\n        if(range.real > range.imaginary) {\r\n            var deltaSize = (range.real - range.imaginary)/2;\r\n            var delta = new Complex(0, deltaSize);\r\n\r\n            return { min: Complex.subtract(min, delta), max: Complex.add(max, delta) };\r\n        }\r\n        else {\r\n            var deltaSize = (range.imaginary - range.real)/2;\r\n            var delta = new Complex(deltaSize, 0);\r\n\r\n            return { min: Complex.subtract(min, delta), max: Complex.add(max, delta) };\r\n        }\r\n    }\r\n}\r\n\r\nconst AllAspectFunctions = [ new DefaultAmplitudeFunction(), new FixedAspectAmplitudeFunction() ];\r\nexport default AllAspectFunctions;","import { IColorFunction } from \"./IColorFunction\";\r\n\r\nclass FireColor implements IColorFunction {\r\n    Name = 'Fire';\r\n    shaderFunction = `\r\nvec3 floatToColor(float perc) {\r\n    if(perc <= 0.5) {\r\n        return vec3(perc * 2.0, perc, 0.0);\r\n    }\r\n    perc = (perc - 0.5) * 2.0;\r\n    return vec3(1.0, 0.5 + perc / 2.0, perc);\r\n}\r\n    `;\r\n}\r\n\r\nconst fireColor = new FireColor();\r\nexport default fireColor;","import { IColorFunction } from \"./IColorFunction\";\r\n\r\nclass GrayscaleColor implements IColorFunction {\r\n    Name = 'Grayscale';\r\n    shaderFunction = `\r\nvec3 floatToColor(float perc) {\r\n    return vec3(perc, perc, perc);\r\n}\r\n    `;\r\n}\r\n\r\nconst grayscaleColor = new GrayscaleColor();\r\nexport default grayscaleColor;","import { IColorFunction } from \"./IColorFunction\";\r\n\r\nclass HueColor implements IColorFunction {\r\n    Name = 'Hue';\r\n    shaderFunction = `\r\n\r\nfloat fmod(float a, float b) {\r\n    return a - (b * floor(a/b));\r\n}\r\n\r\nfloat hsvComponentToRgb(vec3 hsv, float n) {\r\n    float k = fmod((n + hsv.x * 6.0), 6.0);\r\n    return hsv.z - hsv.z * hsv.y * max(min(min(k, 4.0-k),1.0), 0.0);\r\n}\r\n\r\nvec3 floatToColor(float perc) {\r\n    if(perc == 1.0) {\r\n        return vec3(0, 0, 0);\r\n    }\r\n    vec3 hsv = vec3(perc, 1.0, 1.0);\r\n    return vec3(\r\n        hsvComponentToRgb(hsv, 5.0),\r\n        hsvComponentToRgb(hsv, 3.0),\r\n        hsvComponentToRgb(hsv, 1.0)\r\n    );\r\n}\r\n    `;\r\n}\r\n\r\nconst hueColor = new HueColor();\r\nexport default hueColor;","import { start } from \"repl\";\r\nimport { ResizeCanvas } from \"../common/CanvasHelpers\";\r\nimport { Complex } from \"../common/Complex\";\r\nimport { IAmplitudeFunction } from \"./AmplitudeMode\";\r\nimport { IFractal } from \"./Fractals/IFractal\";\r\n\r\nconst sampleRate = 8820; // 44100;\r\nconst upsampleRate = 44100;\r\nconst sampleTimeSeconds = 1;\r\nconst GAIN = 0.3;\r\n\r\nexport default class FractalAudioPlayer {\r\n    private ctx: CanvasRenderingContext2D;\r\n    private currentAudio: PlayingAudio;\r\n    private audio: AudioContext;\r\n    private gain: GainNode;\r\n\r\n    constructor(private canvas: HTMLCanvasElement, private amplitude: IAmplitudeFunction)\r\n    {\r\n        ResizeCanvas(canvas, canvas.clientWidth, canvas.clientHeight);\r\n        this.ctx = canvas.getContext('2d');\r\n        this.ctx.strokeStyle = 'red';\r\n        this.audio = new AudioContext();\r\n        this.gain = this.audio.createGain();\r\n        this.gain.gain.value = GAIN;\r\n        this.gain.connect(this.audio.destination);\r\n    }\r\n\r\n    public Cleanup() {\r\n        this.audio.close();\r\n    }\r\n\r\n    public Play(point: Complex, fractal: IFractal){\r\n        this.currentAudio?.stop();\r\n        this.currentAudio = new PlayingAudio(this.audio, point, fractal, this.amplitude);\r\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n        this.currentAudio.start(this.gain);\r\n\r\n        this.ctx.beginPath();\r\n        const range = Complex.add(this.currentAudio.maxBounds, Complex.negate(this.currentAudio.minBounds));\r\n        for(let i = 0; i < this.currentAudio.arr.length; i++) {\r\n            const xp = (this.currentAudio.arr[i].real - this.currentAudio.minBounds.real) / range.real;\r\n            const yp = (this.currentAudio.arr[i].imaginary - this.currentAudio.minBounds.imaginary) / range.imaginary ;\r\n            \r\n            const tgtX = xp * this.canvas.width;\r\n            const tgtY = yp * this.canvas.height;\r\n            if(i === 0) this.ctx.moveTo(tgtX, tgtY);\r\n            else this.ctx.lineTo(tgtX, tgtY);\r\n        }\r\n        this.ctx.stroke();\r\n    }\r\n}\r\n\r\nclass PlayingAudio {\r\n    arr: Complex[];\r\n    minBounds: Complex;\r\n    maxBounds: Complex;\r\n    source: AudioBufferSourceNode;\r\n    constructor(private audio: AudioContext, point: Complex, fractal: IFractal, amplitude: IAmplitudeFunction) {\r\n        this.arr = new Array(sampleRate * sampleTimeSeconds);\r\n\r\n        const init = point;\r\n        let z = fractal.Init(init);\r\n        this.minBounds = new Complex(Infinity,Infinity);\r\n        this.maxBounds = new Complex(-Infinity,-Infinity);\r\n        for(let i = 0; i < this.arr.length; i++) {\r\n            z = fractal.Iterate(z, init);\r\n            this.arr[i] = new Complex(z.real, z.imaginary);\r\n            this.minBounds.real = Math.min(this.minBounds.real, z.real);\r\n            this.minBounds.imaginary = Math.min(this.minBounds.imaginary, z.imaginary);\r\n            \r\n            this.maxBounds.real = Math.max(this.maxBounds.real, z.real);\r\n            this.maxBounds.imaginary = Math.max(this.maxBounds.imaginary, z.imaginary);\r\n        }\r\n\r\n        const result = amplitude.GetAmplitude(this.minBounds, this.maxBounds);\r\n        this.minBounds = result.min;\r\n        this.maxBounds = result.max;\r\n    }\r\n\r\n    start(tgt: GainNode) {\r\n        const buffer = this.audio.createBuffer(2, upsampleRate * sampleTimeSeconds, upsampleRate);\r\n        const source = this.audio.createBufferSource();\r\n\r\n        const channelData = [buffer.getChannelData(0), buffer.getChannelData(1)];\r\n        const range = Complex.add(this.maxBounds, Complex.negate(this.minBounds));\r\n        for(let i = 0; i < channelData[0].length; i++) {\r\n\r\n            const index = (i * sampleRate)/upsampleRate;\r\n            const prev = Math.max(0, Math.floor(index));\r\n            const next = Math.min(this.arr.length - 1, Math.ceil(index));\r\n            const percent = index % 1;\r\n\r\n            const interpReal = interp(this.arr[prev].real, this.arr[next].real, percent);\r\n            const interpImaginary = interp(this.arr[prev].imaginary, this.arr[next].imaginary, percent);\r\n\r\n            const xp = (interpReal - this.minBounds.real) / range.real;\r\n            const yp = (interpImaginary - this.minBounds.imaginary) / range.imaginary;\r\n \r\n            channelData[0][i] = xp * 2 - 1; \r\n            channelData[1][i] = yp * 2 - 1;\r\n        }\r\n\r\n        source.buffer = buffer;\r\n\r\n        source.connect(tgt);\r\n        source.start();\r\n\r\n        this.source = source;\r\n    }\r\n\r\n    stop() {\r\n        this.source?.stop();\r\n    }\r\n}\r\n\r\n\r\nfunction interp(prev: number, next: number, perc: number)\r\n{\r\n    perc = (-Math.cos(perc) + 1) / 2;\r\n    return prev * (1-perc) + next * perc;\r\n}","import { Complex } from \"../../common\";\r\nimport { IFractal } from \"./IFractal\";\r\n\r\nclass BurningShip implements IFractal\r\n{\r\n    Name: string = 'Burning Ship';\r\n    ShaderCode: string = `\r\n    vec2 init_fractal(vec2 coords) {\r\n        return vec2(0,0);\r\n    }\r\n\r\n    vec2 step_fractal(vec2 v, vec2 c) {\r\n        float tx = v.x * v.x - v.y * v.y - c.x;\r\n        float ty = 2.0 * abs(v.x * v.y) - c.y;\r\n        return vec2(tx, ty);\r\n    }\r\n    `;\r\n\r\n    MaxAmplitude: number = 16;\r\n\r\n    Init (c: Complex):Complex{\r\n        return c;\r\n    }\r\n\r\n    Iterate(z: Complex, c: Complex): Complex\r\n    {\r\n        const tx = z.real * z.real - z.imaginary * z.imaginary - c.real;\r\n        const ty = 2 * Math.abs(z.real * z.imaginary) - c.imaginary;\r\n        return new Complex(tx, ty);\r\n    }\r\n}\r\n\r\nconst burningShip = new BurningShip();\r\nexport default burningShip;","import { Complex } from \"../../common\";\r\nimport { IFractal } from \"./IFractal\";\r\n\r\nclass FeatherFractal implements IFractal\r\n{\r\n    Name: string = 'Feather';\r\n    ShaderCode: string = `\r\n    vec2 init_fractal(vec2 coords) {\r\n        return coords;\r\n    }\r\n\r\n    vec2 step_fractal(vec2 v, vec2 c) {\r\n        vec2 denom = scalar_mult(v, v);\r\n        denom.x += 1.0;\r\n        vec2 num = cplx_mult(cplx_mult(v, v), v);\r\n        vec2 result = cplx_div(num, denom);\r\n        return result + c;\r\n    }\r\n    `;\r\n\r\n    MaxAmplitude: number = 32;\r\n\r\n    Init (c: Complex):Complex{\r\n        return c;\r\n    }\r\n\r\n    Iterate(z: Complex, c: Complex): Complex\r\n    {\r\n        return Complex.div(\r\n            Complex.mult(z, z).multiplyWith(z),\r\n            Complex.scalarMultiply(z, z).addWith(new Complex(1, 0))\r\n        ).addWith(c);\r\n    }\r\n}\r\n\r\nconst featherFractal = new FeatherFractal();\r\nexport default featherFractal;","import { Complex } from \"../../common\";\r\nimport { IFractal } from \"./IFractal\";\r\n\r\nclass Mandelbrot implements IFractal\r\n{\r\n    Name: string = 'Mandelbrot';\r\n    ShaderCode: string = `\r\n    vec2 init_fractal(vec2 coords) {\r\n        return coords;\r\n    }\r\n\r\n    vec2 step_fractal(vec2 v, vec2 c) {\r\n        return cplx_mult(v, v) + c;\r\n    }\r\n    `;\r\n\r\n    MaxAmplitude: number = 2;\r\n\r\n    Init (c: Complex):Complex{\r\n        return c;\r\n    }\r\n\r\n    Iterate(z: Complex, c: Complex): Complex\r\n    {\r\n        return Complex.mult(z, z).addWith(c);\r\n    }\r\n}\r\n\r\nconst mandelbrot = new Mandelbrot();\r\nexport default mandelbrot;","import { Complex } from \"../../common\";\r\nimport { IFractal } from \"./IFractal\";\r\n\r\nclass SqureFractal implements IFractal\r\n{\r\n    Name: string = 'Square';\r\n    ShaderCode: string = `\r\n    vec2 init_fractal(vec2 coords) {\r\n        return coords;\r\n    }\r\n\r\n    vec2 step_fractal(vec2 v, vec2 c) {\r\n        float dotz = dot(v, v);\r\n        vec2 scalarc = scalar_mult(c, c);\r\n        return v * dotz - cplx_mult(v, scalarc);\r\n    }\r\n    `;\r\n\r\n    MaxAmplitude: number = 32;\r\n\r\n    Init (c: Complex):Complex{\r\n        return c;\r\n    }\r\n\r\n    Iterate(z: Complex, c: Complex): Complex\r\n    {\r\n        const dotz = z.absSq();\r\n        const dotc = Complex.scalarMultiply(c, c);\r\n        return Complex.subtract(\r\n            Complex.scalarMultiply(z, dotz, dotz),\r\n            Complex.mult(c, dotc)\r\n        );\r\n    }\r\n}\r\n\r\nconst squareFractal = new SqureFractal();\r\nexport default squareFractal;","import { IColorFunction } from \"./ColorFunctions/IColorFunction\";\r\nimport { IFractal } from \"./Fractals/IFractal\";\r\n\r\nexport function CreateShaderCode(fractal: IFractal, color: IColorFunction): string {\r\n    return GENERAL_SHADER\r\n        .replace(\"[[[FRACTAL_CODE]]]\", fractal.ShaderCode)\r\n        .replace(\"[[[COLOR_CODE]]]\", color.shaderFunction);;\r\n}\r\n\r\nexport const GENERAL_SHADER = `\r\nprecision highp float;\r\nvarying vec3 vPos;\r\nuniform vec2 window_pos;\r\nuniform vec2 window_size;\r\nuniform float MAX_ABSSQ;\r\n\r\nconst int MAX_ITER = 256;\r\n\r\nvec2 cplx_mult(vec2 a, vec2 b) {\r\n    return vec2(a.x * b.x - a.y * b.y, a.x * b.y + a.y * b.x);\r\n}\r\n\r\nvec2 cplx_div(vec2 a, vec2 b) {\r\n    float denom = dot(b, b);\r\n    return vec2 (\r\n        (a.x * b.x + a.y * b.y) / denom,\r\n        (a.y * b.x - a.x * b.y) / denom \r\n    );\r\n}\r\n\r\nvec2 scalar_mult(vec2 a, vec2 b) {\r\n    return vec2( a.x * b.x, a.y * b.y);\r\n}\r\n\r\nfloat cplx_abssq(vec2 v) {\r\n    return dot(v, v);\r\n}\r\n\r\n[[[FRACTAL_CODE]]]\r\n\r\nfloat calcIterations(vec2 coords) {\r\n    vec2 roll = init_fractal(coords);\r\n    for(int iter = 0; iter < MAX_ITER; iter++) {\r\n        roll = step_fractal(roll, coords);\r\n        if (cplx_abssq(roll) >= MAX_ABSSQ) {\r\n            return float(iter)/float(MAX_ITER);\r\n        }\r\n    }\r\n    return 1.0;\r\n}\r\n\r\n[[[COLOR_CODE]]]\r\n\r\nvoid main() {\r\n    vec2 adjpos = vPos.xy;\r\n    adjpos += 1.0;\r\n    adjpos /= 2.0;\r\n    // adjpos is now 0, 1\r\n    // Convert that to world-space\r\n    adjpos = window_pos + adjpos * window_size;\r\n\r\n    float mb_perc = calcIterations(adjpos);\r\n    gl_FragColor = vec4(floatToColor(mb_perc), 1.0);\r\n}`;","import { Range, Range2d } from \"../common\";\r\nimport * as GLSL from \"../common/3d/GlslHelpers\";\r\nimport { ResizeCanvas } from \"../common/CanvasHelpers\";\r\nimport Point from \"../common/position/Point\";\r\nimport Rect from \"../common/position/Rectangle\";\r\nimport { IColorFunction } from \"./ColorFunctions/IColorFunction\";\r\nimport { IFractal } from \"./Fractals/IFractal\";\r\nimport { CreateShaderCode } from \"./ShaderCode\";\r\n\r\nconst SCROLL_DIV = 8;\r\nconst SCROLL_POW = 1.1;\r\n\r\nexport default class GlslFrameRenderer {\r\n    protected gl: WebGLRenderingContext;\r\n    protected program: WebGLProgram;\r\n    protected buffer: WebGLBuffer;\r\n\r\n    private cursor_anchor: Point | null;\r\n    private mm_down: boolean;\r\n\r\n    protected canvasRange: Range2d;\r\n    protected windowRange: Range2d;\r\n\r\n    private fragment_code:string;\r\n\r\n    private touch_anchors: { [key: number]: Point }\r\n\r\n    constructor(private canvas: HTMLCanvasElement, private fractal: IFractal, private color: IColorFunction, private bounds: { x: number, y: number, w: number, h: number}, private onMiddleClick?: (pt: Point) => void) {\r\n        ResizeCanvas(canvas, canvas.clientWidth, canvas.clientHeight);\r\n        this.cursor_anchor = null;\r\n        this.mm_down = false;\r\n        this.gl = canvas.getContext('webgl');\r\n        this.touch_anchors = {};\r\n        \r\n        this.canvasRange = new Range2d(new Range(0, canvas.clientWidth), new Range(0, canvas.clientHeight));\r\n        this.windowRange = new Range2d(new Range(-1, 1), new Range(-1, (canvas.height / canvas.width)));\r\n\r\n        this.fragment_code = CreateShaderCode(fractal, color);\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.gl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT);\r\n        this.initProgram();\r\n    }\r\n\r\n    initProgram() {\r\n        this.program = GLSL.initShaderProgram(this.gl, GLSL.defaultVertexShader, this.fragment_code);\r\n        this.buffer = GLSL.fragmentShaderOnlyInitBuffer(this.gl);\r\n    }\r\n\r\n    run() {\r\n        this.renderFrame();\r\n\r\n        this.canvas.addEventListener('mousedown', e => {\r\n            if(e.button === 0) {\r\n                this.cursor_anchor = new Point(e.offsetX, e.offsetY);\r\n            }\r\n            else if(e.button === 1) {\r\n                this.mm_down = true;\r\n                let perc = this.canvasRange.GetPercentage(e.offsetX, e.offsetY);\r\n                perc = this.windowRange.GetValue(perc.x, 1-perc.y);\r\n                if(this.onMiddleClick !== undefined) {\r\n                    this.onMiddleClick(new Point(perc.x, perc.y));\r\n                }\r\n            }\r\n            e.preventDefault();\r\n        });\r\n        this.canvas.addEventListener('mouseup', e => {\r\n            if(e.button === 0)\r\n                this.cursor_anchor = null;\r\n            else if(e.button === 1)\r\n                this.mm_down = false;\r\n            e.preventDefault();\r\n        });\r\n        this.canvas.addEventListener('mousemove', e => {\r\n            if(this.cursor_anchor != null) {\r\n                const dx = e.offsetX - this.cursor_anchor.x;\r\n                const dy = e.offsetY - this.cursor_anchor.y;\r\n                this.panCameraByScreenDelta(new Point(dx, dy));\r\n                this.cursor_anchor = new Point(e.offsetX, e.offsetY);\r\n                this.renderFrame();\r\n                e.preventDefault();\r\n            }\r\n            if(this.mm_down && this.onMiddleClick !== undefined){\r\n                let perc = this.canvasRange.GetPercentage(e.offsetX, e.offsetY);\r\n                perc = this.windowRange.GetValue(perc.x, 1-perc.y);\r\n                this.onMiddleClick(new Point(perc.x, perc.y));\r\n            }\r\n        });\r\n        this.canvas.addEventListener('wheel', e => {\r\n            const scalePercentage = e.deltaY / SCROLL_DIV;\r\n            const scalePerc = Math.pow(SCROLL_POW, scalePercentage);\r\n            const perc = this.canvasRange.GetPercentage(e.offsetX, e.offsetY);\r\n\r\n            this.windowRange.AspectScale(scalePerc, perc.x, 1-perc.y);\r\n            this.renderFrame();\r\n            e.preventDefault();\r\n        });\r\n        this.canvas.addEventListener('touchstart', ev => { \r\n            if(ev.targetTouches.length >= 3 || ev.targetTouches.length === 0) return;\r\n            for(let i = 0; i < ev.targetTouches.length; i++){\r\n                const touch = ev.targetTouches.item(i);\r\n                this.touch_anchors[touch.identifier] = touchOffset(touch);\r\n            }\r\n            ev.preventDefault();\r\n        });\r\n        this.canvas.addEventListener('touchmove', ev => {\r\n            if(ev.touches.length >= 3 || ev.touches.length === 0) return;\r\n            const moves: [Point, Point][] = [];\r\n            for(let i = 0; i < ev.targetTouches.length; i++){\r\n                const touch = ev.targetTouches.item(i);\r\n                const pos = touchOffset(touch);\r\n                const oldPos = this.touch_anchors[touch.identifier];\r\n                if(oldPos === undefined) return;\r\n                moves.push([oldPos, pos]);\r\n                this.touch_anchors[touch.identifier] = pos;\r\n            }\r\n\r\n            if(moves.length === 1) {\r\n                // Just pan the camera\r\n                this.panCameraByScreenDelta(Point.subtract(moves[0][1], moves[0][0]));\r\n            }\r\n            else if(moves.length === 2) {\r\n                // Average the start + End positions to find the move amt\r\n                const dragStart = Point.Multiply(Point.add(moves[0][0], moves[1][0]), 0.5, 0.5);\r\n                const dragEnd = Point.Multiply(Point.add(moves[0][1], moves[1][1]), 0.5, 0.5);\r\n                const worldPos = this.panCameraByScreenDelta(dragEnd.SubtractWith(dragStart));\r\n                const startDist = Point.subtract(moves[0][0], moves[1][0]).Length();\r\n                const endDist = Point.subtract(moves[0][1], moves[1][1]).Length();\r\n                const scaleAmt = startDist / endDist;\r\n                this.windowRange.AspectScale(scaleAmt, worldPos.x, 1-worldPos.y);\r\n            }\r\n\r\n            this.renderFrame();\r\n            ev.preventDefault();\r\n        });\r\n        this.canvas.addEventListener('touchend', ev => {\r\n            this.touch_anchors = {};\r\n            ev.preventDefault();\r\n        });\r\n        this.canvas.addEventListener('touchcancel', ev => {\r\n            this.touch_anchors = {};\r\n            ev.preventDefault();\r\n        });\r\n    }\r\n\r\n    private panCameraByScreenDelta(delta: Point) {\r\n        const perc = this.canvasRange.GetPercentage(delta.x, delta.y);\r\n        this.windowRange.ShiftByPercentage(-perc.x, perc.y);\r\n        return perc;\r\n    }\r\n\r\n    renderFrame() {\r\n        GLSL.fragmentShaderOnlyDraw(this.gl, this.program, this.buffer, gl => {\r\n            gl.uniform1f(gl.getUniformLocation(this.program, 'MAX_ABSSQ'), this.fractal.MaxAmplitude);\r\n            gl.uniform2fv(gl.getUniformLocation(this.program, 'window_pos'), [this.windowRange.xRange.min, this.windowRange.yRange.min]);\r\n            gl.uniform2fv(gl.getUniformLocation(this.program, 'window_size'), [this.windowRange.xRange.Length(), this.windowRange.yRange.Length()]);\r\n        });\r\n    }\r\n\r\n    cleanup() {\r\n        \r\n    }\r\n}\r\n\r\nfunction touchOffset(touch: Touch): Point {\r\n    const tgt = (touch.target as HTMLElement).getBoundingClientRect();\r\n    return new Point(touch.pageX - tgt.left, touch.pageY - tgt.top);\r\n}","import { Complex, Range, Range2d } from \"../common\";\r\nimport * as GLSL from \"../common/3d/GlslHelpers\";\r\nimport { ResizeCanvas } from \"../common/CanvasHelpers\";\r\nimport Point from \"../common/position/Point\";\r\nimport { IColorFunction } from \"./ColorFunctions/IColorFunction\";\r\nimport FractalAudioPlayer from \"./FractalAudioPlayer\";\r\nimport { IFractal } from \"./Fractals/IFractal\";\r\nimport GlslFrameRenderer from \"./GlslFrameRenderer\";\r\nimport { CreateShaderCode } from \"./ShaderCode\";\r\n\r\nexport default class RendererWrapperComponent {\r\n    private mandelbrot: GlslFrameRenderer;\r\n\r\n    constructor(private canvas: HTMLCanvasElement, fractal: IFractal, private colorFunction: IColorFunction, private audioPlayer: FractalAudioPlayer) {\r\n\r\n        this.mandelbrot = new GlslFrameRenderer(canvas, fractal, colorFunction, { x: -2, y: -2, w: 4, h:4 }, (jpt) => {\r\n            this.playSound(jpt, fractal);\r\n        });\r\n        this.mandelbrot.run();\r\n    }\r\n\r\n    cleanup() {\r\n        this.mandelbrot.cleanup();\r\n    }\r\n\r\n    playSound(pt: Point, fractal: IFractal)\r\n    {\r\n        this.audioPlayer.Play(new Complex(pt.x, pt.y), fractal);\r\n    }\r\n}","import * as React from 'react';\r\nimport AllAmplitudeFunctions, { IAmplitudeFunction } from '../../../projects/glsl-fracaudio/AmplitudeMode';\r\nimport fireColor from '../../../projects/glsl-fracaudio/ColorFunctions/FireColor';\r\nimport grayscaleColor from '../../../projects/glsl-fracaudio/ColorFunctions/GrayscaleColor';\r\nimport hueColor from '../../../projects/glsl-fracaudio/ColorFunctions/HueColor';\r\nimport { IColorFunction } from '../../../projects/glsl-fracaudio/ColorFunctions/IColorFunction';\r\nimport FractalAudioPlayer from '../../../projects/glsl-fracaudio/FractalAudioPlayer';\r\nimport burningShip from '../../../projects/glsl-fracaudio/Fractals/BurningShip';\r\nimport featherFractal from '../../../projects/glsl-fracaudio/Fractals/Feather';\r\nimport { IFractal } from '../../../projects/glsl-fracaudio/Fractals/IFractal';\r\nimport mandelbrot from '../../../projects/glsl-fracaudio/Fractals/Mandelbrot';\r\nimport squareFractal from '../../../projects/glsl-fracaudio/Fractals/Square';\r\nimport RendererWrapperComponent from '../../../projects/glsl-fracaudio/RendererWrapperComponent';\r\nimport { ObjDropdownComponent } from '../../common/ObjDropdownComponent';\r\n\r\nconst fractals: IFractal[] = [\r\n    mandelbrot,\r\n    burningShip,\r\n    featherFractal,\r\n    squareFractal\r\n];\r\nconst colors: IColorFunction[] = [\r\n    grayscaleColor,\r\n    fireColor,\r\n    hueColor\r\n];\r\n\r\nexport default function GlslFractalAudioComponent() {\r\n    const canvas = React.useRef<HTMLCanvasElement>();\r\n    const overlayCanvas = React.useRef<HTMLCanvasElement>();\r\n    const [frac, setFrac] = React.useState<IFractal>(mandelbrot);\r\n    const [amplitude, setAmplitude] = React.useState<IAmplitudeFunction>(AllAmplitudeFunctions[0]);\r\n    const [color, setColor] = React.useState<IColorFunction>(fireColor);\r\n\r\n    React.useEffect(() => {\r\n        const audio = new FractalAudioPlayer(overlayCanvas.current, amplitude);\r\n        const renderer = new RendererWrapperComponent(canvas.current, frac, color, audio);\r\n        return () => \r\n        {\r\n            renderer.cleanup();\r\n            audio.Cleanup();\r\n        }\r\n    }, [canvas, frac, amplitude, color]);\r\n\r\n    return <div className='conway conway_body full_body'>\r\n        <div style={{ width: '80%', height: '100%', position: 'absolute' }}>\r\n            <canvas ref={canvas} style={{ position: 'absolute', width: '100%', height: '100%', top:0, left:0 }}></canvas>\r\n            <canvas ref={overlayCanvas} style={{ position: 'absolute', width: '100%', height: '100%', pointerEvents: 'none', top:0, left:0}}></canvas>\r\n        </div>\r\n        <div style={{ width: '20%', height: '100%', background: '#333', position: 'absolute', left: '80%' }}>\r\n            <label>Fractal:</label>\r\n            <ObjDropdownComponent options={fractals} value={frac} getName={f => f.Name} onChange={f => setFrac(f)} />\r\n            <label>Color:</label>\r\n            <ObjDropdownComponent options={colors} value={color} getName={c => c.Name} onChange={c => setColor(c)} />\r\n            <label>Amplitude Function:</label>\r\n            <ObjDropdownComponent options={AllAmplitudeFunctions} value={amplitude} getName={a => a.Name} onChange={a => setAmplitude(a)} />\r\n\r\n            <div style={{ bottom: 0, position: 'absolute', color: '#999', textAlign: 'center', width: '100%' }}>Inspired by <a href='https://www.youtube.com/watch?v=GiAj9WW1OfQ'>this video</a></div>\r\n        </div>\r\n    </div>;\r\n}","export default class Point {\r\n\r\n    static zero(): Point  {\r\n        return new Point(0,0);\r\n    }\r\n\r\n    constructor(public x: number, public y: number) {\r\n\r\n    }\r\n\r\n    public static fromAngle(angle: number, distance?: number) : Point {\r\n        return new Point(Math.cos(angle) * (distance ?? 1), Math.sin(angle) * (distance ?? 1));\r\n    }\r\n\r\n    public LengthSq(): number {\r\n        return Point.Dot(this, this);\r\n    }\r\n\r\n    public Length(): number {\r\n        return Math.sqrt(this.LengthSq());\r\n    }\r\n\r\n    public Clone(): Point {\r\n        return new Point(this.x, this.y);\r\n    }\r\n\r\n    public Negate(): Point {\r\n        return new Point(-this.x, -this.y);\r\n    }\r\n\r\n    public NegateInPlace(): this {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        return this;\r\n    }\r\n\r\n    public static Dot(p1: Point, p2: Point): number {\r\n        return p1.x * p2.x + p1.y * p2.y;\r\n    }\r\n\r\n    public DotWith(other: Point): number {\r\n        return Point.Dot(this, other);\r\n    }\r\n\r\n    public normalize(): Point {\r\n        let len = this.Length();\r\n        return Point.Multiply(this, 1 / len);\r\n    }\r\n\r\n    public Direction(): number {\r\n        return Math.atan2(this.y, this.x);\r\n    }\r\n\r\n    public AddWith(x: number, y: number): this;\r\n    public AddWith(other: Point): this;\r\n    public AddWith(other: number|Point, y?: number): this {\r\n        const {x: nx, y: ny} = splitArgs(other, y);\r\n        this.x += nx;\r\n        this.y += ny;\r\n        return this;\r\n    }\r\n\r\n    public MultWith(s: number): this;\r\n    public MultWith(x: number, y: number): this;\r\n    public MultWith(other: Point): this;\r\n    public MultWith(other: number|Point, y?: number): this {\r\n        const {x: nx, y: ny} = splitArgsOrSingle(other, y);\r\n        this.x *= nx;\r\n        this.y *= ny;\r\n        return this;\r\n    }\r\n\r\n    public SubtractWith(x: number, y: number): this;\r\n    public SubtractWith(other: Point): this;\r\n    public SubtractWith(other: number|Point, y?: number): this {\r\n        const {x: nx, y: ny} = splitArgs(other, y);\r\n        this.x -= nx;\r\n        this.y -= ny;\r\n        return this;\r\n    }\r\n\r\n    public DivideWith(x: number, y: number): this;\r\n    public DivideWith(other: Point): this;\r\n    public DivideWith(other: number|Point, y?: number): this {\r\n        const {x: nx, y: ny} = splitArgs(other, y);\r\n        this.x /= nx;\r\n        this.y /= ny;\r\n        return this;\r\n    }\r\n\r\n    public Equals(other: Point): boolean {\r\n        return this.x === other.x && this.y === other.y;\r\n    }\r\n\r\n    \r\n    static add(src: Point, x: number, y: number): Point;\r\n    static add(src: Point, other: Point): Point;\r\n    static add(src: Point, other: number|Point, y?: number): Point {\r\n        const {x: nx, y: ny} = splitArgs(other, y);\r\n        return new Point(src.x + nx, src.y + ny);\r\n    }\r\n\r\n    static subtract(src: Point, x: number, y: number): Point;\r\n    static subtract(src: Point, other: Point): Point;\r\n    static subtract(src: Point, other: number|Point, y?: number): Point {\r\n        const {x: nx, y: ny} = splitArgs(other, y);\r\n        return new Point(src.x - nx, src.y - ny);\r\n    }\r\n\r\n    static Multiply(a: Point, s: number, sy?: number): Point;\r\n    static Multiply(a: Point, b: Point): Point;\r\n    static Multiply(a: Point, b: Point|number, sy ?: number): Point {\r\n        if (sy !== undefined) {\r\n            return new Point(a.x * (b as number), a.y * sy);\r\n        }\r\n        else if ((b as any).x !== undefined) {\r\n            return new Point(a.x * (b as Point).x, a.y * (b as Point).y);\r\n        } else {\r\n            return new Point(a.x * (b as number), a.y * (b as number));\r\n        }\r\n    }\r\n\r\n    static interpolate(a: Point, b: Point, p: number): Point {\r\n        return new Point(a.x + (b.x - a.x) * p, a.y + (b.y - a.y) * p);\r\n    }\r\n\r\n    static componentMin(a: Point, b: Point): Point {\r\n        if(a.x <= b.x && a.y <= b.y) return a;\r\n        if(b.x <= a.x && b.y <= a.y) return b;\r\n        return new Point(Math.min(a.x, b.x), Math.min(a.y, b.y));\r\n    }\r\n    \r\n    static componentMax(a: Point, b: Point): Point {\r\n        if(a.x >= b.x && a.y >= b.y) return a;\r\n        if(b.x >= a.x && b.y >= a.y) return b;\r\n        return new Point(Math.max(a.x, b.x), Math.max(a.y, b.y));\r\n    }\r\n\r\n    static Bezier(pts: Point[], t: number): Point {\r\n        if(pts.length === 1) return pts[0];\r\n        else if(pts.length === 2) return Point.add(Point.Multiply(pts[1], t), Point.Multiply(pts[0], 1-t));\r\n        return Point.add(\r\n            Point.Multiply(Point.Bezier(pts.slice(1), t), t),\r\n            Point.Multiply(Point.Bezier(pts.slice(0, pts.length - 1), t), 1-t));\r\n    }\r\n\r\n    rotate(theta: number): Point {\r\n        const angle = Math.atan2(this.y, this.x);\r\n        const len = this.Length();\r\n        return Point.fromAngle(angle + theta, len);\r\n    }\r\n}\r\n\r\nfunction splitArgs(x: Point|number, y ?: number): {x: number, y: number} {\r\n    if(y === undefined) return { x: (<Point>x).x, y: (<Point>x).y };\r\n    return {x: <number>x, y};\r\n}\r\n\r\nfunction splitArgsOrSingle(x: Point|number, y ?: number): {x: number, y: number} {\r\n    if(y === undefined)\r\n    {\r\n        if((x as Point).x !== undefined) {\r\n            return { x: (<Point>x).x, y: (<Point>x).y };\r\n        }\r\n        return { x: x as number, y: x as number };\r\n    } \r\n    return {x: <number>x, y};\r\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar DEFAULT_PLACEHOLDER_STRING = 'Select...';\n\nvar Dropdown =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dropdown, _Component);\n\n  function Dropdown(props) {\n    var _this;\n\n    _classCallCheck(this, Dropdown);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dropdown).call(this, props));\n    _this.state = {\n      selected: _this.parseValue(props.value, props.options) || {\n        label: typeof props.placeholder === 'undefined' ? DEFAULT_PLACEHOLDER_STRING : props.placeholder,\n        value: ''\n      },\n      isOpen: false\n    };\n    _this.mounted = true;\n    _this.handleDocumentClick = _this.handleDocumentClick.bind(_assertThisInitialized(_this));\n    _this.fireChangeEvent = _this.fireChangeEvent.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Dropdown, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      if (newProps.value) {\n        var selected = this.parseValue(newProps.value, newProps.options);\n\n        if (selected !== this.state.selected) {\n          this.setState({\n            selected: selected\n          });\n        }\n      } else {\n        this.setState({\n          selected: {\n            label: typeof newProps.placeholder === 'undefined' ? DEFAULT_PLACEHOLDER_STRING : newProps.placeholder,\n            value: ''\n          }\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('click', this.handleDocumentClick, false);\n      document.addEventListener('touchend', this.handleDocumentClick, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mounted = false;\n      document.removeEventListener('click', this.handleDocumentClick, false);\n      document.removeEventListener('touchend', this.handleDocumentClick, false);\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(event) {\n      if (this.props.onFocus && typeof this.props.onFocus === 'function') {\n        this.props.onFocus(this.state.isOpen);\n      }\n\n      if (event.type === 'mousedown' && event.button !== 0) return;\n      event.stopPropagation();\n      event.preventDefault();\n\n      if (!this.props.disabled) {\n        this.setState({\n          isOpen: !this.state.isOpen\n        });\n      }\n    }\n  }, {\n    key: \"parseValue\",\n    value: function parseValue(value, options) {\n      var option;\n\n      if (typeof value === 'string') {\n        for (var i = 0, num = options.length; i < num; i++) {\n          if (options[i].type === 'group') {\n            var match = options[i].items.filter(function (item) {\n              return item.value === value;\n            });\n\n            if (match.length) {\n              option = match[0];\n            }\n          } else if (typeof options[i].value !== 'undefined' && options[i].value === value) {\n            option = options[i];\n          }\n        }\n      }\n\n      return option || value;\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value, label) {\n      var newState = {\n        selected: {\n          value: value,\n          label: label\n        },\n        isOpen: false\n      };\n      this.fireChangeEvent(newState);\n      this.setState(newState);\n    }\n  }, {\n    key: \"fireChangeEvent\",\n    value: function fireChangeEvent(newState) {\n      if (newState.selected !== this.state.selected && this.props.onChange) {\n        this.props.onChange(newState.selected);\n      }\n    }\n  }, {\n    key: \"renderOption\",\n    value: function renderOption(option) {\n      var _classes;\n\n      var value = option.value;\n\n      if (typeof value === 'undefined') {\n        value = option.label || option;\n      }\n\n      var label = option.label || option.value || option;\n      var isSelected = value === this.state.selected.value || value === this.state.selected;\n      var classes = (_classes = {}, _defineProperty(_classes, \"\".concat(this.props.baseClassName, \"-option\"), true), _defineProperty(_classes, option.className, !!option.className), _defineProperty(_classes, 'is-selected', isSelected), _classes);\n      var optionClass = (0, _classnames[\"default\"])(classes);\n      return _react[\"default\"].createElement(\"div\", {\n        key: value,\n        className: optionClass,\n        onMouseDown: this.setValue.bind(this, value, label),\n        onClick: this.setValue.bind(this, value, label),\n        role: \"option\",\n        \"aria-selected\": isSelected ? 'true' : 'false'\n      }, label);\n    }\n  }, {\n    key: \"buildMenu\",\n    value: function buildMenu() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          options = _this$props.options,\n          baseClassName = _this$props.baseClassName;\n      var ops = options.map(function (option) {\n        if (option.type === 'group') {\n          var groupTitle = _react[\"default\"].createElement(\"div\", {\n            className: \"\".concat(baseClassName, \"-title\")\n          }, option.name);\n\n          var _options = option.items.map(function (item) {\n            return _this2.renderOption(item);\n          });\n\n          return _react[\"default\"].createElement(\"div\", {\n            className: \"\".concat(baseClassName, \"-group\"),\n            key: option.name,\n            role: \"listbox\",\n            tabIndex: \"-1\"\n          }, groupTitle, _options);\n        } else {\n          return _this2.renderOption(option);\n        }\n      });\n      return ops.length ? ops : _react[\"default\"].createElement(\"div\", {\n        className: \"\".concat(baseClassName, \"-noresults\")\n      }, \"No options found\");\n    }\n  }, {\n    key: \"handleDocumentClick\",\n    value: function handleDocumentClick(event) {\n      if (this.mounted) {\n        if (!_reactDom[\"default\"].findDOMNode(this).contains(event.target)) {\n          if (this.state.isOpen) {\n            this.setState({\n              isOpen: false\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"isValueSelected\",\n    value: function isValueSelected() {\n      return typeof this.state.selected === 'string' || this.state.selected.value !== '';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames, _classNames2, _classNames3, _classNames4, _classNames5;\n\n      var _this$props2 = this.props,\n          baseClassName = _this$props2.baseClassName,\n          controlClassName = _this$props2.controlClassName,\n          placeholderClassName = _this$props2.placeholderClassName,\n          menuClassName = _this$props2.menuClassName,\n          arrowClassName = _this$props2.arrowClassName,\n          arrowClosed = _this$props2.arrowClosed,\n          arrowOpen = _this$props2.arrowOpen,\n          className = _this$props2.className;\n      var disabledClass = this.props.disabled ? 'Dropdown-disabled' : '';\n      var placeHolderValue = typeof this.state.selected === 'string' ? this.state.selected : this.state.selected.label;\n      var dropdownClass = (0, _classnames[\"default\"])((_classNames = {}, _defineProperty(_classNames, \"\".concat(baseClassName, \"-root\"), true), _defineProperty(_classNames, className, !!className), _defineProperty(_classNames, 'is-open', this.state.isOpen), _classNames));\n      var controlClass = (0, _classnames[\"default\"])((_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(baseClassName, \"-control\"), true), _defineProperty(_classNames2, controlClassName, !!controlClassName), _defineProperty(_classNames2, disabledClass, !!disabledClass), _classNames2));\n      var placeholderClass = (0, _classnames[\"default\"])((_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(baseClassName, \"-placeholder\"), true), _defineProperty(_classNames3, placeholderClassName, !!placeholderClassName), _defineProperty(_classNames3, 'is-selected', this.isValueSelected()), _classNames3));\n      var menuClass = (0, _classnames[\"default\"])((_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(baseClassName, \"-menu\"), true), _defineProperty(_classNames4, menuClassName, !!menuClassName), _classNames4));\n      var arrowClass = (0, _classnames[\"default\"])((_classNames5 = {}, _defineProperty(_classNames5, \"\".concat(baseClassName, \"-arrow\"), true), _defineProperty(_classNames5, arrowClassName, !!arrowClassName), _classNames5));\n\n      var value = _react[\"default\"].createElement(\"div\", {\n        className: placeholderClass\n      }, placeHolderValue);\n\n      var menu = this.state.isOpen ? _react[\"default\"].createElement(\"div\", {\n        className: menuClass,\n        \"aria-expanded\": \"true\"\n      }, this.buildMenu()) : null;\n      return _react[\"default\"].createElement(\"div\", {\n        className: dropdownClass\n      }, _react[\"default\"].createElement(\"div\", {\n        className: controlClass,\n        onMouseDown: this.handleMouseDown.bind(this),\n        onTouchEnd: this.handleMouseDown.bind(this),\n        \"aria-haspopup\": \"listbox\"\n      }, value, _react[\"default\"].createElement(\"div\", {\n        className: \"\".concat(baseClassName, \"-arrow-wrapper\")\n      }, arrowOpen && arrowClosed ? this.state.isOpen ? arrowOpen : arrowClosed : _react[\"default\"].createElement(\"span\", {\n        className: arrowClass\n      }))), menu);\n    }\n  }]);\n\n  return Dropdown;\n}(_react.Component);\n\nDropdown.defaultProps = {\n  baseClassName: 'Dropdown'\n};\nvar _default = Dropdown;\nexports[\"default\"] = _default;\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","export function loadShader(gl: WebGLRenderingContext, type: number, source: string) {\r\n    const shader = gl.createShader(type);\r\n    // Send the source to the shader object\r\n    gl.shaderSource(shader, source);\r\n    // Compile the shader program\r\n    gl.compileShader(shader);\r\n    // See if it compiled successfully\r\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n      console.error(source);\r\n      alert(`An error occurred compiling the ${(type === gl.VERTEX_SHADER ? 'vertex' : type === gl.FRAGMENT_SHADER ? 'fragment' : '')} shaders: ` + gl.getShaderInfoLog(shader));\r\n      gl.deleteShader(shader);\r\n      return undefined;\r\n    }\r\n\r\n    return shader;\r\n}\r\n\r\n\r\nexport function initShaderProgram(gl: WebGLRenderingContext, vertexShaderSource: string, fragmentShaderSource: string) {\r\n    const vertexShader = loadShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\r\n    const fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\r\n\r\n    // Create the shader program\r\n\r\n    const shaderProgram = gl.createProgram();\r\n    gl.attachShader(shaderProgram, vertexShader);\r\n    gl.attachShader(shaderProgram, fragmentShader);\r\n    gl.linkProgram(shaderProgram);\r\n\r\n    // If creating the shader program failed, alert\r\n\r\n    if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\r\n      alert('Unable to initialize the shader program: ' + gl.getProgramInfoLog(shaderProgram));\r\n      return undefined;\r\n    }\r\n\r\n    return shaderProgram;\r\n  }\r\n\r\n\r\nexport function shaderDraw(gl: WebGLRenderingContext, shader: WebGLProgram, positionBuffer: WebGLBuffer, positionNumComponents: number, renderMode: 'triangle'|'tristrip'|'trifan', bufferOffset: number, bufferCount: number, bindUniforms: (gl: WebGLRenderingContext) => void) {\r\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);  // Clear to black, fully opaque\r\n    gl.clearDepth(1.0);                 // Clear everything\r\n    gl.enable(gl.DEPTH_TEST);           // Enable depth testing\r\n    gl.depthFunc(gl.LEQUAL);            // Near things obscure far things\r\n\r\n    // Clear the canvas before we start drawing on it.\r\n\r\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n    // Tell WebGL how to pull out the positions from the position\r\n    // buffer into the vertexPosition attribute.\r\n    {\r\n      const type = gl.FLOAT;    // the data in the buffer is 32bit floats\r\n      const normalize = false;  // don't normalize\r\n      const stride = 0;         // how many bytes to get from one set of values to the next\r\n                                // 0 = use type and numComponents above\r\n      const offset = 0;         // how many bytes inside the buffer to start from\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\n      gl.vertexAttribPointer(\r\n            gl.getAttribLocation(shader, 'aVertexPosition'),\r\n            positionNumComponents,\r\n            type,\r\n            normalize,\r\n            stride,\r\n            offset);\r\n      gl.enableVertexAttribArray(\r\n        gl.getAttribLocation(shader, 'aVertexPosition'));\r\n    }\r\n\r\n    // Tell WebGL to use our program when drawing\r\n\r\n    gl.useProgram(shader);\r\n    bindUniforms(gl);\r\n    gl.drawArrays(\r\n      renderMode === 'triangle' ? gl.TRIANGLES :\r\n      renderMode === 'tristrip' ? gl.TRIANGLE_STRIP :\r\n      gl.TRIANGLE_FAN, bufferOffset, bufferCount);\r\n}\r\n\r\n\r\nexport function shaderDrawMultiple(gl: WebGLRenderingContext, shader: WebGLProgram, positionBuffer: WebGLBuffer, positionNumComponents: number, renderMode: 'triangle'|'tristrip'|'trifan', drawCounts: number, getGeom: (i: number) => {bufferOffset: number, bufferCount: number}, bindUniforms: (gl: WebGLRenderingContext, i: number) => void) {\r\n  gl.clearColor(0.0, 0.0, 0.0, 1.0);  // Clear to black, fully opaque\r\n  gl.clearDepth(1.0);                 // Clear everything\r\n  gl.enable(gl.DEPTH_TEST);           // Enable depth testing\r\n  gl.depthFunc(gl.LEQUAL);            // Near things obscure far things\r\n\r\n  // Clear the canvas before we start drawing on it.\r\n\r\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n  // Tell WebGL how to pull out the positions from the position\r\n  // buffer into the vertexPosition attribute.\r\n  {\r\n    const type = gl.FLOAT;    // the data in the buffer is 32bit floats\r\n    const normalize = false;  // don't normalize\r\n    const stride = 0;         // how many bytes to get from one set of values to the next\r\n                              // 0 = use type and numComponents above\r\n    const offset = 0;         // how many bytes inside the buffer to start from\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\n    gl.vertexAttribPointer(\r\n          gl.getAttribLocation(shader, 'aVertexPosition'),\r\n          positionNumComponents,\r\n          type,\r\n          normalize,\r\n          stride,\r\n          offset);\r\n    gl.enableVertexAttribArray(\r\n      gl.getAttribLocation(shader, 'aVertexPosition'));\r\n  }\r\n\r\n  // Tell WebGL to use our program when drawing\r\n\r\n  gl.useProgram(shader);\r\n  for(let i = 0; i < drawCounts; i++) {\r\n    bindUniforms(gl, i);\r\n    let {bufferOffset, bufferCount} = getGeom(i);\r\n    gl.drawArrays(\r\n      renderMode === 'triangle' ? gl.TRIANGLES :\r\n      renderMode === 'tristrip' ? gl.TRIANGLE_STRIP :\r\n      gl.TRIANGLE_FAN, bufferOffset, bufferCount);\r\n  }\r\n}\r\n\r\nexport function fragmentShaderOnlyDraw(gl: WebGLRenderingContext, shader: WebGLProgram, positionBuffer: WebGLBuffer, bindUniforms: (gl: WebGLRenderingContext) => void) {\r\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);  // Clear to black, fully opaque\r\n    gl.clearDepth(1.0);                 // Clear everything\r\n    gl.enable(gl.DEPTH_TEST);           // Enable depth testing\r\n    gl.depthFunc(gl.LEQUAL);            // Near things obscure far things\r\n\r\n    // Clear the canvas before we start drawing on it.\r\n\r\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n    // Tell WebGL how to pull out the positions from the position\r\n    // buffer into the vertexPosition attribute.\r\n    {\r\n      const numComponents = 2;  // pull out 2 values per iteration\r\n      const type = gl.FLOAT;    // the data in the buffer is 32bit floats\r\n      const normalize = false;  // don't normalize\r\n      const stride = 0;         // how many bytes to get from one set of values to the next\r\n                                // 0 = use type and numComponents above\r\n      const offset = 0;         // how many bytes inside the buffer to start from\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\n      gl.vertexAttribPointer(\r\n            gl.getAttribLocation(shader, 'aVertexPosition'),\r\n            numComponents,\r\n            type,\r\n            normalize,\r\n            stride,\r\n            offset);\r\n      gl.enableVertexAttribArray(\r\n        gl.getAttribLocation(shader, 'aVertexPosition'));\r\n    }\r\n\r\n    // Tell WebGL to use our program when drawing\r\n\r\n    gl.useProgram(shader);\r\n    bindUniforms(gl);\r\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\r\n}\r\n\r\nexport function fragmentShaderOnlyInitBuffer(gl: WebGLRenderingContext, left?: number, top?: number, right?: number, bottom?: number) {\r\n     // Create a buffer for the square's positions.\r\n     const positionBuffer = gl.createBuffer();\r\n\r\n     // Select the positionBuffer as the one to apply buffer\r\n     // operations to from here out.\r\n     gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\n\r\n     const l = left ?? -1.0;\r\n     const r = right ?? 1.0;\r\n     const t = top ?? -1.0;\r\n     const b = bottom ?? 1.0;\r\n \r\n     // Now create an array of positions for the square.\r\n     const positions = [\r\n         b, r,\r\n         t, r,\r\n         b, l,\r\n         t, l,\r\n     ];\r\n \r\n     // Now pass the list of positions into WebGL to build the\r\n     // shape. We do this by creating a Float32Array from the\r\n     // JavaScript array, then use it to fill the current buffer.\r\n     gl.bufferData(gl.ARRAY_BUFFER,\r\n                   new Float32Array(positions),\r\n                   gl.STATIC_DRAW);\r\n \r\n     return positionBuffer;\r\n}\r\n\r\nexport function initGLBuffer(gl: WebGLRenderingContext, components: number[]) {\r\n  const positionBuffer = gl.createBuffer();\r\n\r\n  gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\n\r\n  gl.bufferData(gl.ARRAY_BUFFER,\r\n                new Float32Array(components),\r\n                gl.STATIC_DRAW);\r\n\r\n  return positionBuffer;\r\n}\r\n\r\nexport const defaultVertexShader = `attribute vec4 aVertexPosition;\r\nvarying vec3 vPos;\r\nvoid main() {\r\n  vPos = vec3(aVertexPosition.xy, 0.0);\r\n  gl_Position = aVertexPosition;\r\n}`;","import * as React from 'react';\r\nimport Dropdown from 'react-dropdown';\r\n\r\nexport function ObjDropdownComponent<T>(props: {options: T[], getName: (item:T) => string, value: T, onChange: (item:T)=>void}) {\r\n    const names = props.options.map(props.getName);\r\n    return <Dropdown options={names} value={props.getName(props.value)} onChange={chng => props.onChange(props.options.find(v => props.getName(v) === chng.value))}></Dropdown>\r\n}"],"sourceRoot":""}