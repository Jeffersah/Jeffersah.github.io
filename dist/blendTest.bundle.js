(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(t,e,i){"use strict";i.r(e);var n,s=i(24),r=i(25),o=i(13),h=i.p+"e6ca7ebcac9136ce5511288e898c8371.png",a=i.p+"f1cd5c392c5447559f3a20ac58e20646.png",u=i(77);!function(t){t[t.Rock=0]="Rock",t[t.Lava=1]="Lava"}(n||(n={}));class l{constructor(t,e){this.tilesWide=t,this.tilesHigh=e,this.tiles=new Array(e*t);for(let i=0;i<t*e;i++)this.tiles[i]=n.Rock;this.subTileIds=new Array(e*t*4);for(let i=0;i<t*e*4;i++)this.subTileIds[i]=0;for(let i=0;i<t;i++)for(let t=0;t<e;t++)this.updateTile(i,t)}fixCoords(t,e){return t+e*this.tilesWide}fixSubCoords(t,e,i){return 4*t+e*this.tilesWide*4+(i-u.a.UpRight)/2}getTile(t,e){if(t<0||e<0||t>=this.tilesWide||e>=this.tilesWide)return n.Lava;this.fixCoords(t,e);return this.tiles[this.fixCoords(t,e)]}getSubTileId(t,e,i){if(t<0||e<0||t>=this.tilesWide||e>=this.tilesWide)return 0;const n=this.fixSubCoords(t,e,i);return this.subTileIds[n]}setTile(t,e,i){if(t<0||e<0||t>=this.tilesWide||e>=this.tilesWide)return;const n=this.fixCoords(t,e);this.tiles[n]!==i&&(this.tiles[n]=i,this.updateSelfAndAdjacent(t,e))}updateSelfAndAdjacent(t,e){for(let i=-1;i<=1;i++)for(let n=-1;n<=1;n++)this.updateTile(t+i,e+n)}updateTile(t,e){if(t<0||e<0||t>=this.tilesWide||e>=this.tilesWide)return;const i=this.fixCoords(t,e),n=this.tiles[i];let s=0;u.c.forEach((i,r)=>{const o=1<<r,h=Object(u.b)(i);this.getTile(h.x+t,h.y+e)!==n&&(s|=o)}),this.subTileIds[this.fixSubCoords(t,e,u.a.UpRight)]=7&s,this.subTileIds[this.fixSubCoords(t,e,u.a.DownRight)]=s>>2&7,this.subTileIds[this.fixSubCoords(t,e,u.a.DownLeft)]=s>>4&7,this.subTileIds[this.fixSubCoords(t,e,u.a.UpLeft)]=s>>6|(1&s)<<2&7}}var c=i(74);let d,f,x,y,w;function g(){const t=document.getElementById("canvas");y=new l(20,20),Object(o.b)(t,16*y.tilesWide*3,16*y.tilesHigh*3),w=t.getContext("2d"),Object(o.a)(w),function(t,e,i){for(let n=0;n<e.tilesWide;n++)for(let s=0;s<e.tilesHigh;s++)p(t,e,i,n,s)}(w,y,d),t.addEventListener("mousemove",b),t.addEventListener("mouseleave",L),t.addEventListener("mousedown",v)}function p(t,e,i,s,r){for(let o=0;o<4;o++){const h=u.a.UpRight+2*o,a=e.getSubTileId(s,r,h);let l=o;e.getTile(s,r)===n.Lava&&(l+=4);const c=16*s+(1===Object(u.b)(h).x?8:0),d=16*r+(1===Object(u.b)(h).y?8:0);i.render(t,3*c,3*d,24,24,a,l)}}function b(t){const e=new c.a(Math.floor(t.offsetX/48),Math.floor(t.offsetY/48));void 0!==x?e.Equals(x)||(p(w,y,d,x.x,x.y),f.render(w,16*e.x*3,16*e.y*3,48,48,1,0),x=e):(f.render(w,16*e.x*3,16*e.y*3,48,48,1,0),x=e)}function L(t){void 0!==x&&(x=void 0)}function v(t){const e=new c.a(Math.floor(t.offsetX/48),Math.floor(t.offsetY/48)),i=y.getTile(e.x,e.y);y.setTile(e.x,e.y,i===n.Lava?n.Rock:n.Lava);for(let t=-1;t<=1;t++)for(let e=-1;e<=1;e++)p(w,y,d,x.x+t,x.y+e);f.render(w,16*e.x*3,16*e.y*3,48,48,1,0)}e.default=function(){const t=new s.a;d=new r.a(8,8,h,t.registerAssetLoadCallback()),f=new r.a(16,16,a,t.registerAssetLoadCallback()),x=void 0,t.onAllFinished(g)}},74:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{constructor(t,e){this.x=t,this.y=e}static zero(){return new n(0,0)}static fromAngle(t,e){return new n(Math.cos(t)*(null!=e?e:1),Math.sin(t)*(null!=e?e:1))}LengthSq(){return n.Dot(this,this)}Length(){return Math.sqrt(this.LengthSq())}Clone(){return new n(this.x,this.y)}Negate(){return new n(-this.x,-this.y)}NegateInPlace(){return this.x=-this.x,this.y=-this.y,this}static Dot(t,e){return t.x*e.x+t.y*e.y}DotWith(t){return n.Dot(this,t)}normalize(){let t=this.Length();return n.Multiply(this,1/t)}Direction(){return Math.atan2(this.y,this.x)}AddWith(t,e){const{x:i,y:n}=s(t,e);return this.x+=i,this.y+=n,this}MultWith(t,e){const{x:i,y:n}=function(t,e){if(void 0===e)return void 0!==t.x?{x:t.x,y:t.y}:{x:t,y:t};return{x:t,y:e}}(t,e);return this.x*=i,this.y*=n,this}SubtractWith(t,e){const{x:i,y:n}=s(t,e);return this.x-=i,this.y-=n,this}DivideWith(t,e){const{x:i,y:n}=s(t,e);return this.x/=i,this.y/=n,this}Equals(t){return this.x===t.x&&this.y===t.y}static add(t,e,i){const{x:r,y:o}=s(e,i);return new n(t.x+r,t.y+o)}static subtract(t,e,i){const{x:r,y:o}=s(e,i);return new n(t.x-r,t.y-o)}static Multiply(t,e,i){return void 0!==i?new n(t.x*e,t.y*i):void 0!==e.x?new n(t.x*e.x,t.y*e.y):new n(t.x*e,t.y*e)}static interpolate(t,e,i){return new n(t.x+(e.x-t.x)*i,t.y+(e.y-t.y)*i)}static componentMin(t,e){return t.x<=e.x&&t.y<=e.y?t:e.x<=t.x&&e.y<=t.y?e:new n(Math.min(t.x,e.x),Math.min(t.y,e.y))}static componentMax(t,e){return t.x>=e.x&&t.y>=e.y?t:e.x>=t.x&&e.y>=t.y?e:new n(Math.max(t.x,e.x),Math.max(t.y,e.y))}static Bezier(t,e){return 1===t.length?t[0]:2===t.length?n.add(n.Multiply(t[1],e),n.Multiply(t[0],1-e)):n.add(n.Multiply(n.Bezier(t.slice(1),e),e),n.Multiply(n.Bezier(t.slice(0,t.length-1),e),1-e))}rotate(t){const e=Math.atan2(this.y,this.x),i=this.Length();return n.fromAngle(e+t,i)}}function s(t,e){return void 0===e?{x:t.x,y:t.y}:{x:t,y:e}}},77:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return h}));var n,s=i(74);!function(t){t[t.Up=0]="Up",t[t.UpRight=1]="UpRight",t[t.Right=2]="Right",t[t.DownRight=3]="DownRight",t[t.Down=4]="Down",t[t.DownLeft=5]="DownLeft",t[t.Left=6]="Left",t[t.UpLeft=7]="UpLeft"}(n||(n={}));const r=[new s.a(0,-1),new s.a(1,-1),new s.a(1,0),new s.a(1,1),new s.a(0,1),new s.a(-1,1),new s.a(-1,0),new s.a(-1,-1)],o=[n.Up,n.UpRight,n.Right,n.DownRight,n.Down,n.DownLeft,n.Left,n.UpLeft];n.Up,n.Right,n.Down,n.Left,n.UpRight,n.DownRight,n.DownLeft,n.UpLeft;function h(t){return r[t]}}}]);
//# sourceMappingURL=blendTest.bundle.js.map