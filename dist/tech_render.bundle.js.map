{"version":3,"file":"tech_render.bundle.js","mappings":"uJAEA,IAAIA,EACAC,EACW,SAASC,IACpBD,EAASE,SAASC,eAAe,WACjC,QAAaH,EAAQ,IAAK,KAE1BD,EAAMC,EAAOI,WAAW,MACxBC,IAGJ,SAASA,KAMT,WACI,MAAMC,EAAYP,EAAIQ,qBAAqB,EAAG,EAAG,EAAG,KAG9CC,GAFYT,EAAIQ,qBAAqB,EAAG,EAAG,IAAK,GAExB,IAARE,EAAe,IAAO,KAC5CH,EAAUI,aAAa,EAAGC,EAAe,KACzCL,EAAUI,aAAaE,KAAKC,IAAI,EAAGL,EAAc,KAAMG,EAAe,KACtEL,EAAUI,aAAaF,EAAaG,EAAe,IACnDL,EAAUI,aAAaE,KAAKE,IAAIN,EAAc,IAAK,GAAIG,EAAe,KACtEL,EAAUI,aAAa,EAAGC,EAAe,KAEzCZ,EAAIgB,UAAY,QAChBhB,EAAIiB,YAAc,EAClBjB,EAAIkB,SAAS,EAAG,EAAG,IAAK,KACxBlB,EAAIiB,YAAc,EAClBjB,EAAImB,YAAcZ,EAClBP,EAAIoB,UAAY,EAChBpB,EAAIqB,YACJrB,EAAIsB,OAAO,IAAK,GAChBtB,EAAIuB,OAAO,IAAK,KAChBvB,EAAIuB,OAAO,IAAK,KAChBvB,EAAIuB,OAAO,IAAK,GAChBvB,EAAIwB,SAGJxB,EAAIyB,yBAA2B,UAC/B,MAAMC,EAAO,IACPC,EAAM1B,EAAO2B,OAASF,EAC5B,IAAK,IAAIG,EAAI,EAAGA,EAAIH,EAAMG,IAAK,CAC3B,MAAMC,EAAKH,EAAKE,EAGVE,EAAKlB,KAAKmB,MAA8B,GAAvBnB,KAAKoB,SAAW,KAEvCjC,EAAIkC,UAAUjC,EAAQ,EAAG6B,EAAI7B,EAAOkC,MAAOR,EAAII,EAAID,EAAI7B,EAAOkC,MAAOR,GAIzE,MAAMS,EAAMnC,EAAO2B,OAASF,EAC5B,IAAK,IAAIG,EAAI,EAAGA,EAAIH,EAAMG,IAAK,CAC3B,MAAMQ,EAAKV,EAAKE,EAGVS,EAAKzB,KAAKmB,MAA8B,GAAvBnB,KAAKoB,SAAW,KAEvCjC,EAAIkC,UAAUjC,EAAQoC,EAAI,EAAGD,EAAInC,EAAO2B,OAAQS,EAAIC,EAAIF,EAAInC,EAAO2B,QAEvE5B,EAAIyB,yBAA2B,cAE/Bf,IAtDA6B,GACAC,uBAAsB,IAAMlC,MAGhC,IAAII,EAAQ,EAqDZ,SAASE,EAAe6B,GACpB,GAAIA,GAAO,GAEP,MAAO,UADM5B,KAAKmB,MAAY,EAANS,EAAU,KACR,OAExB,CACF,MAAMC,EAAW7B,KAAKmB,MAAoB,GAAbS,EAAM,IAAW,KAC9C,MAAO,OAASC,EAAW,UAAYA,EAAW","sources":["webpack://trading-game/./src/projects/tech-render/index.ts"],"sourcesContent":["import { ResizeCanvas } from '../common/CanvasHelpers';\n\nlet ctx: CanvasRenderingContext2D;\nlet canvas: HTMLCanvasElement;\nexport default function Run() {\n    canvas = document.getElementById('canvas') as HTMLCanvasElement;\n    ResizeCanvas(canvas, 500, 500);\n\n    ctx = canvas.getContext('2d');\n    paintLoop();\n}\n\nfunction paintLoop() {\n    repaint();\n    requestAnimationFrame(() => paintLoop());\n}\n\nlet frame = 0;\nfunction repaint() {\n    const vGradient = ctx.createLinearGradient(0, 0, 0, 500);\n    const hGradient = ctx.createLinearGradient(0, 0, 500, 0);\n\n    const highPercent = ((frame * 193) % 500) / 500;\n    vGradient.addColorStop(0, greenIntensity(0.3));\n    vGradient.addColorStop(Math.max(0, highPercent - .03), greenIntensity(0.3));\n    vGradient.addColorStop(highPercent, greenIntensity(1));\n    vGradient.addColorStop(Math.min(highPercent + .03, 1), greenIntensity(0.3));\n    vGradient.addColorStop(1, greenIntensity(0.3));\n\n    ctx.fillStyle = 'black';\n    ctx.globalAlpha = 1;\n    ctx.fillRect(0, 0, 500, 500);\n    ctx.globalAlpha = 1;\n    ctx.strokeStyle = vGradient;\n    ctx.lineWidth = 1;\n    ctx.beginPath();\n    ctx.moveTo(250, 0);\n    ctx.lineTo(400, 400);\n    ctx.lineTo(100, 400);\n    ctx.lineTo(250, 0);\n    ctx.stroke();\n\n    // Apply vergence H\n    ctx.globalCompositeOperation = 'lighter';\n    const segs = 100;\n    const sh = (canvas.height / segs);\n    for (let i = 0; i < segs; i++) {\n        const ys = sh * i;\n        const ye = sh * (i + 1);\n\n        const dx = Math.floor((Math.random() - 0.5) * 5);\n\n        ctx.drawImage(canvas, 0, ys, canvas.width, sh, dx, ys, canvas.width, sh);\n    }\n\n    // Apply vergence V\n    const sw = (canvas.height / segs);\n    for (let i = 0; i < segs; i++) {\n        const xs = sh * i;\n        const xe = sh * (i + 1);\n\n        const dy = Math.floor((Math.random() - 0.5) * 5);\n\n        ctx.drawImage(canvas, xs, 0, sw, canvas.height, xs, dy, sw, canvas.height);\n    }\n    ctx.globalCompositeOperation = 'source-over';\n\n    frame++;\n}\n\nfunction greenIntensity(amt: number) {\n    if (amt <= 0.5) {\n        const gAmt = Math.floor(amt * 2 * 255);\n        return 'rgb(0, ' + gAmt + ', 0)';\n    }\n    else  {\n        const otherAmt = Math.floor((amt - 0.5) * 2 * 255);\n        return 'rgb(' + otherAmt + ', 255, ' + otherAmt + ')';\n    }\n}"],"names":["ctx","canvas","Run","document","getElementById","getContext","paintLoop","vGradient","createLinearGradient","highPercent","frame","addColorStop","greenIntensity","Math","max","min","fillStyle","globalAlpha","fillRect","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","globalCompositeOperation","segs","sh","height","i","ys","dx","floor","random","drawImage","width","sw","xs","dy","repaint","requestAnimationFrame","amt","otherAmt"],"sourceRoot":""}